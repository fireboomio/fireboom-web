import{C as D}from"./codemirror.es-f23a8547.js";import"./index-5fca44ff.js";import"./index-85bb8031.js";import{q as B,r as H,R as J,M as U,a3 as R}from"./store-e605fef9.js";import"./interface-41bd3122.js";import"./engine-c7e5841f.js";import"./index-9649d007.js";import"./lock-4aa57fab.js";import"./variable-144a75bf.js";import"./common-7ac8785d.js";import"./hotkey-3a258436.js";import"./parser-cf485565.js";import"./Breadcrumb-ff71ee99.js";import"./DownOutlined-844f57b8.js";import"./index-9749e2b6.js";import"./LeftOutlined-7ceb1db4.js";import"./PurePanel-25c62dc8.js";import"./index-b3ff9150.js";import"./index-79ebc17f.js";import"./EditFilled-27baa6a0.js";import"./index-03f339ac.js";import"./index-555b5ba4.js";import"./toNumber-2d7cfcea.js";import"./utils-9cc409ea.js";import"./dayjs.min-5495be60.js";import"./utils-9b986f1e.js";import"./DeleteOutlined-371417a4.js";import"./index-a66fc756.js";import"./tslib.es6-3ee8ebc3.js";import"./useShowArrow-54ebbb87.js";import"./index-e698b70a.js";import"./index-cdb771f1.js";import"./index-f6c05adf.js";import"./PlusOutlined-cb60f9a6.js";import"./workbenchContext-7962b30b.js";import"./index-211d3ce4.js";import"./index-3165d2cb.js";import"./index-5857d219.js";import"./index-f4dd4804.js";import"./index-66168e0d.js";import"./globalContext-c31891b2.js";var z=Object.defineProperty,n=(r,e)=>z(r,"name",{value:e,configurable:!0});function G(r){p=r,w=r.length,s=c=N=-1,i(),x();const e=F();return d("EOF"),e}n(G,"jsonParse");let p,w,s,c,N,t,l;function F(){const r=s,e=[];if(d("{"),!E("}")){do e.push(Q());while(E(","));d("}")}return{kind:"Object",start:r,end:N,members:e}}n(F,"parseObj");function Q(){const r=s,e=l==="String"?v():null;d("String"),d(":");const o=V();return{kind:"Member",start:r,end:N,key:e,value:o}}n(Q,"parseMember");function _(){const r=s,e=[];if(d("["),!E("]")){do e.push(V());while(E(","));d("]")}return{kind:"Array",start:r,end:N,values:e}}n(_,"parseArr");function V(){switch(l){case"[":return _();case"{":return F();case"String":case"Number":case"Boolean":case"Null":const r=v();return x(),r}d("Value")}n(V,"parseVal");function v(){return{kind:l,start:s,end:c,value:JSON.parse(p.slice(s,c))}}n(v,"curToken");function d(r){if(l===r){x();return}let e;if(l==="EOF")e="[end of file]";else if(c-s>1)e="`"+p.slice(s,c)+"`";else{const o=p.slice(s).match(/^.+?\b/);e="`"+(o?o[0]:p[s])+"`"}throw m(`Expected ${r} but found ${e}.`)}n(d,"expect");class L extends Error{constructor(e,o){super(e),this.position=o}}n(L,"JSONSyntaxError");function m(r){return new L(r,{start:s,end:c})}n(m,"syntaxError");function E(r){if(l===r)return x(),!0}n(E,"skip");function i(){return c<w&&(c++,t=c===w?0:p.charCodeAt(c)),t}n(i,"ch");function x(){for(N=c;t===9||t===10||t===13||t===32;)i();if(t===0){l="EOF";return}switch(s=c,t){case 34:return l="String",q();case 45:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return l="Number",C();case 102:if(p.slice(s,s+5)!=="false")break;c+=4,i(),l="Boolean";return;case 110:if(p.slice(s,s+4)!=="null")break;c+=3,i(),l="Null";return;case 116:if(p.slice(s,s+4)!=="true")break;c+=3,i(),l="Boolean";return}l=p[s],i()}n(x,"lex");function q(){for(i();t!==34&&t>31;)if(t===92)switch(t=i(),t){case 34:case 47:case 92:case 98:case 102:case 110:case 114:case 116:i();break;case 117:i(),g(),g(),g(),g();break;default:throw m("Bad character escape sequence.")}else{if(c===w)throw m("Unterminated string.");i()}if(t===34){i();return}throw m("Unterminated string.")}n(q,"readString");function g(){if(t>=48&&t<=57||t>=65&&t<=70||t>=97&&t<=102)return i();throw m("Expected hexadecimal digit.")}n(g,"readHex");function C(){t===45&&i(),t===48?i():y(),t===46&&(i(),y()),(t===69||t===101)&&(t=i(),(t===43||t===45)&&i(),y())}n(C,"readNumber");function y(){if(t<48||t>57)throw m("Expected decimal digit.");do i();while(t>=48&&t<=57)}n(y,"readDigits");D.registerHelper("lint","graphql-variables",(r,e,o)=>{if(!r)return[];let f;try{f=G(r)}catch(u){if(u instanceof L)return[O(o,u.position,u.message)];throw u}const a=e.variableToType;return a?I(o,a,f):[]});function I(r,e,o){const f=[];return o.members.forEach(a=>{var u;if(a){const h=(u=a.key)===null||u===void 0?void 0:u.value,b=e[h];b?k(b,a.value).forEach(([j,P])=>{f.push(O(r,j,P))}):f.push(O(r,a.key,`Variable "$${h}" does not appear in any GraphQL query.`))}}),f}n(I,"validateVariables");function k(r,e){if(!r||!e)return[];if(r instanceof B)return e.kind==="Null"?[[e,`Type "${r}" is non-nullable and cannot be null.`]]:k(r.ofType,e);if(e.kind==="Null")return[];if(r instanceof H){const o=r.ofType;if(e.kind==="Array"){const f=e.values||[];return $(f,a=>k(o,a))}return k(o,e)}if(r instanceof J){if(e.kind!=="Object")return[[e,`Type "${r}" must be an Object.`]];const o=Object.create(null),f=$(e.members,a=>{var u;const h=(u=a==null?void 0:a.key)===null||u===void 0?void 0:u.value;o[h]=!0;const b=r.getFields()[h];if(!b)return[[a.key,`Type "${r}" does not have a field "${h}".`]];const j=b?b.type:void 0;return k(j,a.value)});return Object.keys(r.getFields()).forEach(a=>{const u=r.getFields()[a];o[a]||u.type instanceof B&&!u.defaultValue&&f.push([e,`Object of type "${r}" is missing required field "${a}".`])}),f}return r.name==="Boolean"&&e.kind!=="Boolean"||r.name==="String"&&e.kind!=="String"||r.name==="ID"&&e.kind!=="Number"&&e.kind!=="String"||r.name==="Float"&&e.kind!=="Number"||r.name==="Int"&&(e.kind!=="Number"||(e.value|0)!==e.value)?[[e,`Expected value of type "${r}".`]]:(r instanceof U||r instanceof R)&&(e.kind!=="String"&&e.kind!=="Number"&&e.kind!=="Boolean"&&e.kind!=="Null"||M(r.parseValue(e.value)))?[[e,`Expected value of type "${r}".`]]:[]}n(k,"validateValue");function O(r,e,o){return{message:o,severity:"error",type:"validation",from:r.posFromIndex(e.start),to:r.posFromIndex(e.end)}}n(O,"lintError");function M(r){return r==null||r!==r}n(M,"isNullish");function $(r,e){return Array.prototype.concat.apply([],r.map(e))}n($,"mapCat");
