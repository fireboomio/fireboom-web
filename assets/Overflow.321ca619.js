import{r as i,ag as O,j as v,x as se,a0 as z,aO as Ce,o as Ye,p as x,aj as pe,aP as qe,f as Je}from"./index.e5e6c754.js";var Qe=["prefixCls","invalidate","item","renderItem","responsive","responsiveDisabled","registerSize","itemKey","className","style","children","display","order","component"],E=void 0;function Ze(e,d){var c=e.prefixCls,s=e.invalidate,o=e.item,a=e.renderItem,u=e.responsive,R=e.responsiveDisabled,l=e.registerSize,_=e.itemKey,N=e.className,p=e.style,H=e.children,Y=e.display,m=e.order,K=e.component,P=K===void 0?"div":K,U=O(e,Qe),S=u&&!Y;function M(w){l(_,w)}i.exports.useEffect(function(){return function(){M(null)}},[]);var q=a&&o!==E?a(o):H,I;s||(I={opacity:S?0:1,height:S?0:E,overflowY:S?"hidden":E,order:u?m:E,pointerEvents:S?"none":E,position:S?"absolute":E});var k={};S&&(k["aria-hidden"]=!0);var y=v(P,{className:se(!s&&c,N),style:z(z({},I),p),...k,...U,ref:d,children:q});return u&&(y=v(Ce,{onResize:function(J){var j=J.offsetWidth;M(j)},disabled:R,children:y})),y}var A=i.exports.forwardRef(Ze);A.displayName="Item";function et(){var e=Ye({}),d=x(e,2),c=d[1],s=i.exports.useRef([]),o=0,a=0;function u(R){var l=o;o+=1,s.current.length<l+1&&(s.current[l]=R);var _=s.current[l];function N(p){s.current[l]=typeof p=="function"?p(s.current[l]):p,pe.cancel(a),a=pe(function(){c({},!0)})}return[_,N]}return u}var tt=["component"],rt=["className"],at=["className"],nt=function(d,c){var s=i.exports.useContext(X);if(!s){var o=d.component,a=o===void 0?"div":o,u=O(d,tt);return v(a,{...u,ref:c})}var R=s.className,l=O(s,rt),_=d.className,N=O(d,at);return v(X.Provider,{value:null,children:v(A,{ref:c,className:se(R,_),...l,...N})})},ge=i.exports.forwardRef(nt);ge.displayName="RawItem";var it=["prefixCls","data","renderItem","renderRawItem","itemKey","itemWidth","ssr","style","className","maxCount","renderRest","renderRawRest","suffix","component","itemComponent","onVisibleChange"],X=i.exports.createContext(null),Ie="responsive",we="invalidate";function st(e){return"+ ".concat(e.length," ...")}function lt(e,d){var c=e.prefixCls,s=c===void 0?"rc-overflow":c,o=e.data,a=o===void 0?[]:o,u=e.renderItem,R=e.renderRawItem,l=e.itemKey,_=e.itemWidth,N=_===void 0?10:_,p=e.ssr,H=e.style,Y=e.className,m=e.maxCount,K=e.renderRest,P=e.renderRawRest,U=e.suffix,S=e.component,M=S===void 0?"div":S,q=e.itemComponent,I=e.onVisibleChange,k=O(e,it),y=et(),w=p==="full",J=y(null),j=x(J,2),F=j[0],be=j[1],C=F||0,Ee=y(new Map),le=x(Ee,2),oe=le[0],ze=le[1],Pe=y(0),de=x(Pe,2),Ue=de[0],We=de[1],De=y(0),ue=x(De,2),$=ue[0],Oe=ue[1],Ae=y(0),fe=x(Ae,2),T=fe[0],Ke=fe[1],Me=i.exports.useState(null),ve=x(Me,2),Q=ve[0],ce=ve[1],ke=i.exports.useState(null),me=x(ke,2),V=me[0],je=me[1],b=i.exports.useMemo(function(){return V===null&&w?Number.MAX_SAFE_INTEGER:V||0},[V,F]),Fe=i.exports.useState(!1),Se=x(Fe,2),$e=Se[0],Te=Se[1],Z="".concat(s,"-item"),ye=Math.max(Ue,$),ee=m===Ie,h=a.length&&ee,he=m===we,Ve=h||typeof m=="number"&&a.length>m,g=i.exports.useMemo(function(){var t=a;return h?F===null&&w?t=a:t=a.slice(0,Math.min(a.length,C/N)):typeof m=="number"&&(t=a.slice(0,m)),t},[a,N,F,m,h]),te=i.exports.useMemo(function(){return h?a.slice(b+1):a.slice(g.length)},[a,g,h,b]),L=i.exports.useCallback(function(t,r){var n;return typeof l=="function"?l(t):(n=l&&(t==null?void 0:t[l]))!==null&&n!==void 0?n:r},[l]),Le=i.exports.useCallback(u||function(t){return t},[u]);function G(t,r,n){V===t&&(r===void 0||r===Q)||(je(t),n||(Te(t<a.length-1),I==null||I(t)),r!==void 0&&ce(r))}function Ge(t,r){be(r.clientWidth)}function xe(t,r){ze(function(n){var f=new Map(n);return r===null?f.delete(t):f.set(t,r),f})}function Xe(t,r){Oe(r),We($)}function Be(t,r){Ke(r)}function re(t){return oe.get(L(g[t],t))}qe(function(){if(C&&ye&&g){var t=T,r=g.length,n=r-1;if(!r){G(0,null);return}for(var f=0;f<r;f+=1){var D=re(f);if(w&&(D=D||0),D===void 0){G(f-1,void 0,!0);break}if(t+=D,n===0&&t<=C||f===n-1&&t+re(n)<=C){G(n,null);break}else if(t+ye>C){G(f-1,t-D-T+$);break}}U&&re(0)+T>C&&ce(null)}},[C,oe,$,T,L,g]);var Re=$e&&!!te.length,_e={};Q!==null&&h&&(_e={position:"absolute",left:Q,top:0});var W={prefixCls:Z,responsive:h,component:q,invalidate:he},He=R?function(t,r){var n=L(t,r);return v(X.Provider,{value:z(z({},W),{},{order:r,item:t,itemKey:n,registerSize:xe,display:r<=b}),children:R(t,r)},n)}:function(t,r){var n=L(t,r);return i.exports.createElement(A,{...W,order:r,key:n,item:t,renderItem:Le,itemKey:n,registerSize:xe,display:r<=b})},ae,Ne={order:Re?b:Number.MAX_SAFE_INTEGER,className:"".concat(Z,"-rest"),registerSize:Xe,display:Re};if(P)P&&(ae=v(X.Provider,{value:z(z({},W),Ne),children:P(te)}));else{var ne=K||st;ae=v(A,{...W,...Ne,children:typeof ne=="function"?ne(te):ne})}var ie=Je(M,{className:se(!he&&s,Y),style:H,ref:d,...k,children:[g.map(He),Ve?ae:null,U&&v(A,{...W,responsive:ee,responsiveDisabled:!h,order:b,className:"".concat(Z,"-suffix"),registerSize:Be,display:!0,style:_e,children:U})]});return ee&&(ie=v(Ce,{onResize:Ge,disabled:!h,children:ie})),ie}var B=i.exports.forwardRef(lt);B.displayName="Overflow";B.Item=ge;B.RESPONSIVE=Ie;B.INVALIDATE=we;export{B as F};
