import{R as X,r as a,e as z,cn as J,cm as Q,ck as D,f as T,dz as U,dl as Y,dA as Z,o as ee,_ as L}from"./index-878ae04f.js";import{u as q}from"./index-90e62e13.js";const te=X.createContext(null),B=te;var se=globalThis&&globalThis.__rest||function(l,u){var o={};for(var e in l)Object.prototype.hasOwnProperty.call(l,e)&&u.indexOf(e)<0&&(o[e]=l[e]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,e=Object.getOwnPropertySymbols(l);n<e.length;n++)u.indexOf(e[n])<0&&Object.prototype.propertyIsEnumerable.call(l,e[n])&&(o[e[n]]=l[e[n]]);return o};const le=(l,u)=>{var o;const{prefixCls:e,className:n,rootClassName:E,children:C,indeterminate:g=!1,style:V,onMouseEnter:p,onMouseLeave:i,skipGroup:y=!1,disabled:S}=l,r=se(l,["prefixCls","className","rootClassName","children","indeterminate","style","onMouseEnter","onMouseLeave","skipGroup","disabled"]),{getPrefixCls:O,direction:N,checkbox:d}=a.useContext(z),t=a.useContext(B),{isFormItemInput:P}=a.useContext(J),w=a.useContext(Q),x=(o=(t==null?void 0:t.disabled)||S)!==null&&o!==void 0?o:w,f=a.useRef(r.value);a.useEffect(()=>{t==null||t.registerValue(r.value)},[]),a.useEffect(()=>{if(!y)return r.value!==f.current&&(t==null||t.cancelValue(f.current),t==null||t.registerValue(r.value),f.current=r.value),()=>t==null?void 0:t.cancelValue(r.value)},[r.value]);const c=O("checkbox",e),h=D(c),[_,k,$]=q(c,h),m=Object.assign({},r);t&&!y&&(m.onChange=function(){r.onChange&&r.onChange.apply(r,arguments),t.toggleOption&&t.toggleOption({label:C,value:r.value})},m.name=t.name,m.checked=t.value.includes(r.value));const j=T(`${c}-wrapper`,{[`${c}-rtl`]:N==="rtl",[`${c}-wrapper-checked`]:m.checked,[`${c}-wrapper-disabled`]:x,[`${c}-wrapper-in-form-item`]:P},d==null?void 0:d.className,n,E,$,h,k),I=T({[`${c}-indeterminate`]:g},U,k),G=g?"mixed":void 0;return _(a.createElement(Y,{component:"Checkbox",disabled:x},a.createElement("label",{className:j,style:Object.assign(Object.assign({},d==null?void 0:d.style),V),onMouseEnter:p,onMouseLeave:i},a.createElement(Z,Object.assign({"aria-checked":G},m,{prefixCls:c,className:I,disabled:x,ref:u})),C!==void 0&&a.createElement("span",null,C))))},ae=a.forwardRef(le),F=ae;var ne=globalThis&&globalThis.__rest||function(l,u){var o={};for(var e in l)Object.prototype.hasOwnProperty.call(l,e)&&u.indexOf(e)<0&&(o[e]=l[e]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,e=Object.getOwnPropertySymbols(l);n<e.length;n++)u.indexOf(e[n])<0&&Object.prototype.propertyIsEnumerable.call(l,e[n])&&(o[e[n]]=l[e[n]]);return o};const re=a.forwardRef((l,u)=>{const{defaultValue:o,children:e,options:n=[],prefixCls:E,className:C,rootClassName:g,style:V,onChange:p}=l,i=ne(l,["defaultValue","children","options","prefixCls","className","rootClassName","style","onChange"]),{getPrefixCls:y,direction:S}=a.useContext(z),[r,O]=a.useState(i.value||o||[]),[N,d]=a.useState([]);a.useEffect(()=>{"value"in i&&O(i.value||[])},[i.value]);const t=a.useMemo(()=>n.map(s=>typeof s=="string"||typeof s=="number"?{label:s,value:s}:s),[n]),P=s=>{d(v=>v.filter(b=>b!==s))},w=s=>{d(v=>[].concat(L(v),[s]))},x=s=>{const v=r.indexOf(s.value),b=L(r);v===-1?b.push(s.value):b.splice(v,1),"value"in i||O(b),p==null||p(b.filter(M=>N.includes(M)).sort((M,H)=>{const K=t.findIndex(R=>R.value===M),W=t.findIndex(R=>R.value===H);return K-W}))},f=y("checkbox",E),c=`${f}-group`,h=D(f),[_,k,$]=q(f,h),m=ee(i,["value","disabled"]),j=n.length?t.map(s=>a.createElement(F,{prefixCls:f,key:s.value.toString(),disabled:"disabled"in s?s.disabled:i.disabled,value:s.value,checked:r.includes(s.value),onChange:s.onChange,className:`${c}-item`,style:s.style,title:s.title,id:s.id,required:s.required},s.label)):e,I={toggleOption:x,value:r,disabled:i.disabled,name:i.name,registerValue:w,cancelValue:P},G=T(c,{[`${c}-rtl`]:S==="rtl"},C,g,$,h,k);return _(a.createElement("div",Object.assign({className:G,style:V},m,{ref:u}),a.createElement(B.Provider,{value:I},j)))}),oe=re,A=F;A.Group=oe;A.__ANT_CHECKBOX=!0;const ue=A;export{ue as C};
