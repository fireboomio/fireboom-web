import{aZ as D,aB as Xs,k as qn,dQ as Zs}from"./index-f5367804.js";import{a as kt,i as nt,_ as at,b as it,c as Js,d as xr,e as Xn,t as Qs}from"./toNumber-0cb0af6b.js";import{P as eu,D as tu,a as ru,b as nu}from"./fireBoomConstants-acaaa4c8.js";var Ji={},ur={};Object.defineProperty(ur,"__esModule",{value:!0});ur.VERSION=void 0;ur.VERSION="10.5.0";var An={},au=Object.prototype;function iu(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||au;return e===r}var cr=iu;function ou(e,t){return function(r){return e(t(r))}}var Qi=ou,su=Qi,uu=su(Object.keys,Object),cu=uu,lu=cr,fu=cu,du=Object.prototype,hu=du.hasOwnProperty;function pu(e){if(!lu(e))return fu(e);var t=[];for(var r in Object(e))hu.call(e,r)&&r!="constructor"&&t.push(r);return t}var eo=pu,vu=kt,_u=nt,mu="[object AsyncFunction]",yu="[object Function]",gu="[object GeneratorFunction]",Eu="[object Proxy]";function Tu(e){if(!_u(e))return!1;var t=vu(e);return t==yu||t==gu||t==mu||t==Eu}var lr=Tu,Au=at,Ou=Au["__core-js_shared__"],Ru=Ou,On=Ru,Fa=function(){var e=/[^.]+$/.exec(On&&On.keys&&On.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function Iu(e){return!!Fa&&Fa in e}var Nu=Iu,Su=Function.prototype,Lu=Su.toString;function Pu(e){if(e!=null){try{return Lu.call(e)}catch{}try{return e+""}catch{}}return""}var to=Pu,bu=lr,Cu=Nu,ku=nt,Mu=to,$u=/[\\^$.*+?()[\]{}|]/g,Fu=/^\[object .+?Constructor\]$/,wu=Function.prototype,xu=Object.prototype,Du=wu.toString,Uu=xu.hasOwnProperty,Bu=RegExp("^"+Du.call(Uu).replace($u,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Gu(e){if(!ku(e)||Cu(e))return!1;var t=bu(e)?Bu:Fu;return t.test(Mu(e))}var ju=Gu;function Wu(e,t){return e==null?void 0:e[t]}var Ku=Wu,Vu=ju,Hu=Ku;function zu(e,t){var r=Hu(e,t);return Vu(r)?r:void 0}var Tt=zu,Yu=Tt,qu=at,Xu=Yu(qu,"DataView"),Zu=Xu,Ju=Tt,Qu=at,ec=Ju(Qu,"Map"),Zn=ec,tc=Tt,rc=at,nc=tc(rc,"Promise"),ac=nc,ic=Tt,oc=at,sc=ic(oc,"Set"),ro=sc,uc=Tt,cc=at,lc=uc(cc,"WeakMap"),fc=lc,kn=Zu,Mn=Zn,$n=ac,Fn=ro,wn=fc,no=kt,Mt=to,wa="[object Map]",dc="[object Object]",xa="[object Promise]",Da="[object Set]",Ua="[object WeakMap]",Ba="[object DataView]",hc=Mt(kn),pc=Mt(Mn),vc=Mt($n),_c=Mt(Fn),mc=Mt(wn),gt=no;(kn&&gt(new kn(new ArrayBuffer(1)))!=Ba||Mn&&gt(new Mn)!=wa||$n&&gt($n.resolve())!=xa||Fn&&gt(new Fn)!=Da||wn&&gt(new wn)!=Ua)&&(gt=function(e){var t=no(e),r=t==dc?e.constructor:void 0,n=r?Mt(r):"";if(n)switch(n){case hc:return Ba;case pc:return wa;case vc:return xa;case _c:return Da;case mc:return Ua}return t});var fr=gt,yc=kt,gc=it,Ec="[object Arguments]";function Tc(e){return gc(e)&&yc(e)==Ec}var Ac=Tc,Ga=Ac,Oc=it,ao=Object.prototype,Rc=ao.hasOwnProperty,Ic=ao.propertyIsEnumerable,Nc=Ga(function(){return arguments}())?Ga:function(e){return Oc(e)&&Rc.call(e,"callee")&&!Ic.call(e,"callee")},Dr=Nc,Sc=Array.isArray,me=Sc,Lc=9007199254740991;function Pc(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Lc}var Jn=Pc,bc=lr,Cc=Jn;function kc(e){return e!=null&&Cc(e.length)&&!bc(e)}var Ze=kc,Cr={exports:{}};function Mc(){return!1}var $c=Mc;Cr.exports;(function(e,t){var r=at,n=$c,a=t&&!t.nodeType&&t,o=a&&!0&&e&&!e.nodeType&&e,f=o&&o.exports===a,d=f?r.Buffer:void 0,c=d?d.isBuffer:void 0,u=c||n;e.exports=u})(Cr,Cr.exports);var Ur=Cr.exports,Fc=kt,wc=Jn,xc=it,Dc="[object Arguments]",Uc="[object Array]",Bc="[object Boolean]",Gc="[object Date]",jc="[object Error]",Wc="[object Function]",Kc="[object Map]",Vc="[object Number]",Hc="[object Object]",zc="[object RegExp]",Yc="[object Set]",qc="[object String]",Xc="[object WeakMap]",Zc="[object ArrayBuffer]",Jc="[object DataView]",Qc="[object Float32Array]",el="[object Float64Array]",tl="[object Int8Array]",rl="[object Int16Array]",nl="[object Int32Array]",al="[object Uint8Array]",il="[object Uint8ClampedArray]",ol="[object Uint16Array]",sl="[object Uint32Array]",Ae={};Ae[Qc]=Ae[el]=Ae[tl]=Ae[rl]=Ae[nl]=Ae[al]=Ae[il]=Ae[ol]=Ae[sl]=!0;Ae[Dc]=Ae[Uc]=Ae[Zc]=Ae[Bc]=Ae[Jc]=Ae[Gc]=Ae[jc]=Ae[Wc]=Ae[Kc]=Ae[Vc]=Ae[Hc]=Ae[zc]=Ae[Yc]=Ae[qc]=Ae[Xc]=!1;function ul(e){return xc(e)&&wc(e.length)&&!!Ae[Fc(e)]}var cl=ul;function ll(e){return function(t){return e(t)}}var dr=ll,kr={exports:{}};kr.exports;(function(e,t){var r=Js,n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,o=a&&a.exports===n,f=o&&r.process,d=function(){try{var c=a&&a.require&&a.require("util").types;return c||f&&f.binding&&f.binding("util")}catch{}}();e.exports=d})(kr,kr.exports);var Br=kr.exports,fl=cl,dl=dr,ja=Br,Wa=ja&&ja.isTypedArray,hl=Wa?dl(Wa):fl,Qn=hl,pl=eo,vl=fr,_l=Dr,ml=me,yl=Ze,gl=Ur,El=cr,Tl=Qn,Al="[object Map]",Ol="[object Set]",Rl=Object.prototype,Il=Rl.hasOwnProperty;function Nl(e){if(e==null)return!0;if(yl(e)&&(ml(e)||typeof e=="string"||typeof e.splice=="function"||gl(e)||Tl(e)||_l(e)))return!e.length;var t=vl(e);if(t==Al||t==Ol)return!e.size;if(El(e))return!pl(e).length;for(var r in e)if(Il.call(e,r))return!1;return!0}var He=Nl;function Sl(e,t){for(var r=-1,n=e==null?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a}var hr=Sl;function Ll(){this.__data__=[],this.size=0}var Pl=Ll;function bl(e,t){return e===t||e!==e&&t!==t}var pr=bl,Cl=pr;function kl(e,t){for(var r=e.length;r--;)if(Cl(e[r][0],t))return r;return-1}var Gr=kl,Ml=Gr,$l=Array.prototype,Fl=$l.splice;function wl(e){var t=this.__data__,r=Ml(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():Fl.call(t,r,1),--this.size,!0}var xl=wl,Dl=Gr;function Ul(e){var t=this.__data__,r=Dl(t,e);return r<0?void 0:t[r][1]}var Bl=Ul,Gl=Gr;function jl(e){return Gl(this.__data__,e)>-1}var Wl=jl,Kl=Gr;function Vl(e,t){var r=this.__data__,n=Kl(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var Hl=Vl,zl=Pl,Yl=xl,ql=Bl,Xl=Wl,Zl=Hl;function $t(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}$t.prototype.clear=zl;$t.prototype.delete=Yl;$t.prototype.get=ql;$t.prototype.has=Xl;$t.prototype.set=Zl;var jr=$t,Jl=jr;function Ql(){this.__data__=new Jl,this.size=0}var ef=Ql;function tf(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var rf=tf;function nf(e){return this.__data__.get(e)}var af=nf;function of(e){return this.__data__.has(e)}var sf=of,uf=Tt,cf=uf(Object,"create"),Wr=cf,Ka=Wr;function lf(){this.__data__=Ka?Ka(null):{},this.size=0}var ff=lf;function df(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var hf=df,pf=Wr,vf="__lodash_hash_undefined__",_f=Object.prototype,mf=_f.hasOwnProperty;function yf(e){var t=this.__data__;if(pf){var r=t[e];return r===vf?void 0:r}return mf.call(t,e)?t[e]:void 0}var gf=yf,Ef=Wr,Tf=Object.prototype,Af=Tf.hasOwnProperty;function Of(e){var t=this.__data__;return Ef?t[e]!==void 0:Af.call(t,e)}var Rf=Of,If=Wr,Nf="__lodash_hash_undefined__";function Sf(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=If&&t===void 0?Nf:t,this}var Lf=Sf,Pf=ff,bf=hf,Cf=gf,kf=Rf,Mf=Lf;function Ft(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Ft.prototype.clear=Pf;Ft.prototype.delete=bf;Ft.prototype.get=Cf;Ft.prototype.has=kf;Ft.prototype.set=Mf;var $f=Ft,Va=$f,Ff=jr,wf=Zn;function xf(){this.size=0,this.__data__={hash:new Va,map:new(wf||Ff),string:new Va}}var Df=xf;function Uf(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var Bf=Uf,Gf=Bf;function jf(e,t){var r=e.__data__;return Gf(t)?r[typeof t=="string"?"string":"hash"]:r.map}var Kr=jf,Wf=Kr;function Kf(e){var t=Wf(this,e).delete(e);return this.size-=t?1:0,t}var Vf=Kf,Hf=Kr;function zf(e){return Hf(this,e).get(e)}var Yf=zf,qf=Kr;function Xf(e){return qf(this,e).has(e)}var Zf=Xf,Jf=Kr;function Qf(e,t){var r=Jf(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var ed=Qf,td=Df,rd=Vf,nd=Yf,ad=Zf,id=ed;function wt(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}wt.prototype.clear=td;wt.prototype.delete=rd;wt.prototype.get=nd;wt.prototype.has=ad;wt.prototype.set=id;var ea=wt,od=jr,sd=Zn,ud=ea,cd=200;function ld(e,t){var r=this.__data__;if(r instanceof od){var n=r.__data__;if(!sd||n.length<cd-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new ud(n)}return r.set(e,t),this.size=r.size,this}var fd=ld,dd=jr,hd=ef,pd=rf,vd=af,_d=sf,md=fd;function xt(e){var t=this.__data__=new dd(e);this.size=t.size}xt.prototype.clear=hd;xt.prototype.delete=pd;xt.prototype.get=vd;xt.prototype.has=_d;xt.prototype.set=md;var ta=xt,yd="__lodash_hash_undefined__";function gd(e){return this.__data__.set(e,yd),this}var Ed=gd;function Td(e){return this.__data__.has(e)}var Ad=Td,Od=ea,Rd=Ed,Id=Ad;function Mr(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new Od;++t<r;)this.add(e[t])}Mr.prototype.add=Mr.prototype.push=Rd;Mr.prototype.has=Id;var ra=Mr;function Nd(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var io=Nd;function Sd(e,t){return e.has(t)}var na=Sd,Ld=ra,Pd=io,bd=na,Cd=1,kd=2;function Md(e,t,r,n,a,o){var f=r&Cd,d=e.length,c=t.length;if(d!=c&&!(f&&c>d))return!1;var u=o.get(e),i=o.get(t);if(u&&i)return u==t&&i==e;var h=-1,g=!0,b=r&kd?new Ld:void 0;for(o.set(e,t),o.set(t,e);++h<d;){var T=e[h],l=t[h];if(n)var A=f?n(l,T,h,t,e,o):n(T,l,h,e,t,o);if(A!==void 0){if(A)continue;g=!1;break}if(b){if(!Pd(t,function(R,S){if(!bd(b,S)&&(T===R||a(T,R,r,n,o)))return b.push(S)})){g=!1;break}}else if(!(T===l||a(T,l,r,n,o))){g=!1;break}}return o.delete(e),o.delete(t),g}var oo=Md,$d=at,Fd=$d.Uint8Array,so=Fd;function wd(e){var t=-1,r=Array(e.size);return e.forEach(function(n,a){r[++t]=[a,n]}),r}var xd=wd;function Dd(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var aa=Dd,Ha=xr,za=so,Ud=pr,Bd=oo,Gd=xd,jd=aa,Wd=1,Kd=2,Vd="[object Boolean]",Hd="[object Date]",zd="[object Error]",Yd="[object Map]",qd="[object Number]",Xd="[object RegExp]",Zd="[object Set]",Jd="[object String]",Qd="[object Symbol]",eh="[object ArrayBuffer]",th="[object DataView]",Ya=Ha?Ha.prototype:void 0,Rn=Ya?Ya.valueOf:void 0;function rh(e,t,r,n,a,o,f){switch(r){case th:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case eh:return!(e.byteLength!=t.byteLength||!o(new za(e),new za(t)));case Vd:case Hd:case qd:return Ud(+e,+t);case zd:return e.name==t.name&&e.message==t.message;case Xd:case Jd:return e==t+"";case Yd:var d=Gd;case Zd:var c=n&Wd;if(d||(d=jd),e.size!=t.size&&!c)return!1;var u=f.get(e);if(u)return u==t;n|=Kd,f.set(e,t);var i=Bd(d(e),d(t),n,a,o,f);return f.delete(e),i;case Qd:if(Rn)return Rn.call(e)==Rn.call(t)}return!1}var nh=rh;function ah(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}var ia=ah,ih=ia,oh=me;function sh(e,t,r){var n=t(e);return oh(e)?n:ih(n,r(e))}var uo=sh;function uh(e,t){for(var r=-1,n=e==null?0:e.length,a=0,o=[];++r<n;){var f=e[r];t(f,r,e)&&(o[a++]=f)}return o}var oa=uh;function ch(){return[]}var co=ch,lh=oa,fh=co,dh=Object.prototype,hh=dh.propertyIsEnumerable,qa=Object.getOwnPropertySymbols,ph=qa?function(e){return e==null?[]:(e=Object(e),lh(qa(e),function(t){return hh.call(e,t)}))}:fh,sa=ph;function vh(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var _h=vh,mh=9007199254740991,yh=/^(?:0|[1-9]\d*)$/;function gh(e,t){var r=typeof e;return t=t??mh,!!t&&(r=="number"||r!="symbol"&&yh.test(e))&&e>-1&&e%1==0&&e<t}var Vr=gh,Eh=_h,Th=Dr,Ah=me,Oh=Ur,Rh=Vr,Ih=Qn,Nh=Object.prototype,Sh=Nh.hasOwnProperty;function Lh(e,t){var r=Ah(e),n=!r&&Th(e),a=!r&&!n&&Oh(e),o=!r&&!n&&!a&&Ih(e),f=r||n||a||o,d=f?Eh(e.length,String):[],c=d.length;for(var u in e)(t||Sh.call(e,u))&&!(f&&(u=="length"||a&&(u=="offset"||u=="parent")||o&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||Rh(u,c)))&&d.push(u);return d}var lo=Lh,Ph=lo,bh=eo,Ch=Ze;function kh(e){return Ch(e)?Ph(e):bh(e)}var je=kh,Mh=uo,$h=sa,Fh=je;function wh(e){return Mh(e,Fh,$h)}var fo=wh,Xa=fo,xh=1,Dh=Object.prototype,Uh=Dh.hasOwnProperty;function Bh(e,t,r,n,a,o){var f=r&xh,d=Xa(e),c=d.length,u=Xa(t),i=u.length;if(c!=i&&!f)return!1;for(var h=c;h--;){var g=d[h];if(!(f?g in t:Uh.call(t,g)))return!1}var b=o.get(e),T=o.get(t);if(b&&T)return b==t&&T==e;var l=!0;o.set(e,t),o.set(t,e);for(var A=f;++h<c;){g=d[h];var R=e[g],S=t[g];if(n)var L=f?n(S,R,g,t,e,o):n(R,S,g,e,t,o);if(!(L===void 0?R===S||a(R,S,r,n,o):L)){l=!1;break}A||(A=g=="constructor")}if(l&&!A){var E=e.constructor,y=t.constructor;E!=y&&"constructor"in e&&"constructor"in t&&!(typeof E=="function"&&E instanceof E&&typeof y=="function"&&y instanceof y)&&(l=!1)}return o.delete(e),o.delete(t),l}var Gh=Bh,In=ta,jh=oo,Wh=nh,Kh=Gh,Za=fr,Ja=me,Qa=Ur,Vh=Qn,Hh=1,ei="[object Arguments]",ti="[object Array]",Ir="[object Object]",zh=Object.prototype,ri=zh.hasOwnProperty;function Yh(e,t,r,n,a,o){var f=Ja(e),d=Ja(t),c=f?ti:Za(e),u=d?ti:Za(t);c=c==ei?Ir:c,u=u==ei?Ir:u;var i=c==Ir,h=u==Ir,g=c==u;if(g&&Qa(e)){if(!Qa(t))return!1;f=!0,i=!1}if(g&&!i)return o||(o=new In),f||Vh(e)?jh(e,t,r,n,a,o):Wh(e,t,c,r,n,a,o);if(!(r&Hh)){var b=i&&ri.call(e,"__wrapped__"),T=h&&ri.call(t,"__wrapped__");if(b||T){var l=b?e.value():e,A=T?t.value():t;return o||(o=new In),a(l,A,r,n,o)}}return g?(o||(o=new In),Kh(e,t,r,n,a,o)):!1}var qh=Yh,Xh=qh,ni=it;function ho(e,t,r,n,a){return e===t?!0:e==null||t==null||!ni(e)&&!ni(t)?e!==e&&t!==t:Xh(e,t,r,n,ho,a)}var po=ho,Zh=ta,Jh=po,Qh=1,ep=2;function tp(e,t,r,n){var a=r.length,o=a,f=!n;if(e==null)return!o;for(e=Object(e);a--;){var d=r[a];if(f&&d[2]?d[1]!==e[d[0]]:!(d[0]in e))return!1}for(;++a<o;){d=r[a];var c=d[0],u=e[c],i=d[1];if(f&&d[2]){if(u===void 0&&!(c in e))return!1}else{var h=new Zh;if(n)var g=n(u,i,c,e,t,h);if(!(g===void 0?Jh(i,u,Qh|ep,n,h):g))return!1}}return!0}var rp=tp,np=nt;function ap(e){return e===e&&!np(e)}var vo=ap,ip=vo,op=je;function sp(e){for(var t=op(e),r=t.length;r--;){var n=t[r],a=e[n];t[r]=[n,a,ip(a)]}return t}var up=sp;function cp(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var _o=cp,lp=rp,fp=up,dp=_o;function hp(e){var t=fp(e);return t.length==1&&t[0][2]?dp(t[0][0],t[0][1]):function(r){return r===e||lp(r,e,t)}}var pp=hp,vp=me,_p=Xn,mp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,yp=/^\w*$/;function gp(e,t){if(vp(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||_p(e)?!0:yp.test(e)||!mp.test(e)||t!=null&&e in Object(t)}var ua=gp,mo=ea,Ep="Expected a function";function ca(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(Ep);var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],o=r.cache;if(o.has(a))return o.get(a);var f=e.apply(this,n);return r.cache=o.set(a,f)||o,f};return r.cache=new(ca.Cache||mo),r}ca.Cache=mo;var Tp=ca,Ap=Tp,Op=500;function Rp(e){var t=Ap(e,function(n){return r.size===Op&&r.clear(),n}),r=t.cache;return t}var Ip=Rp,Np=Ip,Sp=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Lp=/\\(\\)?/g,Pp=Np(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(Sp,function(r,n,a,o){t.push(a?o.replace(Lp,"$1"):n||r)}),t}),bp=Pp,ai=xr,Cp=hr,kp=me,Mp=Xn,$p=1/0,ii=ai?ai.prototype:void 0,oi=ii?ii.toString:void 0;function yo(e){if(typeof e=="string")return e;if(kp(e))return Cp(e,yo)+"";if(Mp(e))return oi?oi.call(e):"";var t=e+"";return t=="0"&&1/e==-$p?"-0":t}var Fp=yo,wp=Fp;function xp(e){return e==null?"":wp(e)}var go=xp,Dp=me,Up=ua,Bp=bp,Gp=go;function jp(e,t){return Dp(e)?e:Up(e,t)?[e]:Bp(Gp(e))}var Hr=jp,Wp=Xn,Kp=1/0;function Vp(e){if(typeof e=="string"||Wp(e))return e;var t=e+"";return t=="0"&&1/e==-Kp?"-0":t}var vr=Vp,Hp=Hr,zp=vr;function Yp(e,t){t=Hp(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[zp(t[r++])];return r&&r==n?e:void 0}var la=Yp,qp=la;function Xp(e,t,r){var n=e==null?void 0:qp(e,t);return n===void 0?r:n}var Zp=Xp;function Jp(e,t){return e!=null&&t in Object(e)}var Qp=Jp,ev=Hr,tv=Dr,rv=me,nv=Vr,av=Jn,iv=vr;function ov(e,t,r){t=ev(t,e);for(var n=-1,a=t.length,o=!1;++n<a;){var f=iv(t[n]);if(!(o=e!=null&&r(e,f)))break;e=e[f]}return o||++n!=a?o:(a=e==null?0:e.length,!!a&&av(a)&&nv(f,a)&&(rv(e)||tv(e)))}var Eo=ov,sv=Qp,uv=Eo;function cv(e,t){return e!=null&&uv(e,t,sv)}var lv=cv,fv=po,dv=Zp,hv=lv,pv=ua,vv=vo,_v=_o,mv=vr,yv=1,gv=2;function Ev(e,t){return pv(e)&&vv(t)?_v(mv(e),t):function(r){var n=dv(r,e);return n===void 0&&n===t?hv(r,e):fv(t,n,yv|gv)}}var Tv=Ev;function Av(e){return e}var _r=Av;function Ov(e){return function(t){return t==null?void 0:t[e]}}var Rv=Ov,Iv=la;function Nv(e){return function(t){return Iv(t,e)}}var Sv=Nv,Lv=Rv,Pv=Sv,bv=ua,Cv=vr;function kv(e){return bv(e)?Lv(Cv(e)):Pv(e)}var Mv=kv,$v=pp,Fv=Tv,wv=_r,xv=me,Dv=Mv;function Uv(e){return typeof e=="function"?e:e==null?wv:typeof e=="object"?xv(e)?Fv(e[0],e[1]):$v(e):Dv(e)}var Je=Uv;function Bv(e){return function(t,r,n){for(var a=-1,o=Object(t),f=n(t),d=f.length;d--;){var c=f[e?d:++a];if(r(o[c],c,o)===!1)break}return t}}var Gv=Bv,jv=Gv,Wv=jv(),Kv=Wv,Vv=Kv,Hv=je;function zv(e,t){return e&&Vv(e,t,Hv)}var Yv=zv,qv=Ze;function Xv(e,t){return function(r,n){if(r==null)return r;if(!qv(r))return e(r,n);for(var a=r.length,o=t?a:-1,f=Object(r);(t?o--:++o<a)&&n(f[o],o,f)!==!1;);return r}}var Zv=Xv,Jv=Yv,Qv=Zv,e_=Qv(Jv),At=e_,t_=At,r_=Ze;function n_(e,t){var r=-1,n=r_(e)?Array(e.length):[];return t_(e,function(a,o,f){n[++r]=t(a,o,f)}),n}var a_=n_,i_=hr,o_=Je,s_=a_,u_=me;function c_(e,t){var r=u_(e)?i_:s_;return r(e,o_(t))}var Ue=c_;function l_(e,t){for(var r=-1,n=e==null?0:e.length;++r<n&&t(e[r],r,e)!==!1;);return e}var To=l_,f_=_r;function d_(e){return typeof e=="function"?e:f_}var h_=d_,p_=To,v_=At,__=h_,m_=me;function y_(e,t){var r=m_(e)?p_:v_;return r(e,__(t))}var $e=y_,g_=hr;function E_(e,t){return g_(t,function(r){return e[r]})}var T_=E_,A_=T_,O_=je;function R_(e){return e==null?[]:A_(e,O_(e))}var ot=R_,I_=Object.prototype,N_=I_.hasOwnProperty;function S_(e,t){return e!=null&&N_.call(e,t)}var L_=S_,P_=L_,b_=Eo;function C_(e,t){return e!=null&&b_(e,t,P_)}var We=C_,k_=Tt,M_=function(){try{var e=k_(Object,"defineProperty");return e({},"",{}),e}catch{}}(),Ao=M_,si=Ao;function $_(e,t,r){t=="__proto__"&&si?si(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var fa=$_,F_=fa,w_=pr,x_=Object.prototype,D_=x_.hasOwnProperty;function U_(e,t,r){var n=e[t];(!(D_.call(e,t)&&w_(n,r))||r===void 0&&!(t in e))&&F_(e,t,r)}var zr=U_,B_=zr,G_=fa;function j_(e,t,r,n){var a=!r;r||(r={});for(var o=-1,f=t.length;++o<f;){var d=t[o],c=n?n(r[d],e[d],d,r,e):void 0;c===void 0&&(c=e[d]),a?G_(r,d,c):B_(r,d,c)}return r}var mr=j_,W_=mr,K_=je;function V_(e,t){return e&&W_(t,K_(t),e)}var H_=V_;function z_(e){var t=[];if(e!=null)for(var r in Object(e))t.push(r);return t}var Y_=z_,q_=nt,X_=cr,Z_=Y_,J_=Object.prototype,Q_=J_.hasOwnProperty;function em(e){if(!q_(e))return Z_(e);var t=X_(e),r=[];for(var n in e)n=="constructor"&&(t||!Q_.call(e,n))||r.push(n);return r}var tm=em,rm=lo,nm=tm,am=Ze;function im(e){return am(e)?rm(e,!0):nm(e)}var Yr=im,om=mr,sm=Yr;function um(e,t){return e&&om(t,sm(t),e)}var cm=um,$r={exports:{}};$r.exports;(function(e,t){var r=at,n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,o=a&&a.exports===n,f=o?r.Buffer:void 0,d=f?f.allocUnsafe:void 0;function c(u,i){if(i)return u.slice();var h=u.length,g=d?d(h):new u.constructor(h);return u.copy(g),g}e.exports=c})($r,$r.exports);var lm=$r.exports;function fm(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}var dm=fm,hm=mr,pm=sa;function vm(e,t){return hm(e,pm(e),t)}var _m=vm,mm=Qi,ym=mm(Object.getPrototypeOf,Object),Oo=ym,gm=ia,Em=Oo,Tm=sa,Am=co,Om=Object.getOwnPropertySymbols,Rm=Om?function(e){for(var t=[];e;)gm(t,Tm(e)),e=Em(e);return t}:Am,Ro=Rm,Im=mr,Nm=Ro;function Sm(e,t){return Im(e,Nm(e),t)}var Lm=Sm,Pm=uo,bm=Ro,Cm=Yr;function km(e){return Pm(e,Cm,bm)}var Io=km,Mm=Object.prototype,$m=Mm.hasOwnProperty;function Fm(e){var t=e.length,r=new e.constructor(t);return t&&typeof e[0]=="string"&&$m.call(e,"index")&&(r.index=e.index,r.input=e.input),r}var wm=Fm,ui=so;function xm(e){var t=new e.constructor(e.byteLength);return new ui(t).set(new ui(e)),t}var da=xm,Dm=da;function Um(e,t){var r=t?Dm(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}var Bm=Um,Gm=/\w*$/;function jm(e){var t=new e.constructor(e.source,Gm.exec(e));return t.lastIndex=e.lastIndex,t}var Wm=jm,ci=xr,li=ci?ci.prototype:void 0,fi=li?li.valueOf:void 0;function Km(e){return fi?Object(fi.call(e)):{}}var Vm=Km,Hm=da;function zm(e,t){var r=t?Hm(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}var Ym=zm,qm=da,Xm=Bm,Zm=Wm,Jm=Vm,Qm=Ym,ey="[object Boolean]",ty="[object Date]",ry="[object Map]",ny="[object Number]",ay="[object RegExp]",iy="[object Set]",oy="[object String]",sy="[object Symbol]",uy="[object ArrayBuffer]",cy="[object DataView]",ly="[object Float32Array]",fy="[object Float64Array]",dy="[object Int8Array]",hy="[object Int16Array]",py="[object Int32Array]",vy="[object Uint8Array]",_y="[object Uint8ClampedArray]",my="[object Uint16Array]",yy="[object Uint32Array]";function gy(e,t,r){var n=e.constructor;switch(t){case uy:return qm(e);case ey:case ty:return new n(+e);case cy:return Xm(e,r);case ly:case fy:case dy:case hy:case py:case vy:case _y:case my:case yy:return Qm(e,r);case ry:return new n;case ny:case oy:return new n(e);case ay:return Zm(e);case iy:return new n;case sy:return Jm(e)}}var Ey=gy,Ty=nt,di=Object.create,Ay=function(){function e(){}return function(t){if(!Ty(t))return{};if(di)return di(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}(),Oy=Ay,Ry=Oy,Iy=Oo,Ny=cr;function Sy(e){return typeof e.constructor=="function"&&!Ny(e)?Ry(Iy(e)):{}}var Ly=Sy,Py=fr,by=it,Cy="[object Map]";function ky(e){return by(e)&&Py(e)==Cy}var My=ky,$y=My,Fy=dr,hi=Br,pi=hi&&hi.isMap,wy=pi?Fy(pi):$y,xy=wy,Dy=fr,Uy=it,By="[object Set]";function Gy(e){return Uy(e)&&Dy(e)==By}var jy=Gy,Wy=jy,Ky=dr,vi=Br,_i=vi&&vi.isSet,Vy=_i?Ky(_i):Wy,Hy=Vy,zy=ta,Yy=To,qy=zr,Xy=H_,Zy=cm,Jy=lm,Qy=dm,eg=_m,tg=Lm,rg=fo,ng=Io,ag=fr,ig=wm,og=Ey,sg=Ly,ug=me,cg=Ur,lg=xy,fg=nt,dg=Hy,hg=je,pg=Yr,vg=1,_g=2,mg=4,No="[object Arguments]",yg="[object Array]",gg="[object Boolean]",Eg="[object Date]",Tg="[object Error]",So="[object Function]",Ag="[object GeneratorFunction]",Og="[object Map]",Rg="[object Number]",Lo="[object Object]",Ig="[object RegExp]",Ng="[object Set]",Sg="[object String]",Lg="[object Symbol]",Pg="[object WeakMap]",bg="[object ArrayBuffer]",Cg="[object DataView]",kg="[object Float32Array]",Mg="[object Float64Array]",$g="[object Int8Array]",Fg="[object Int16Array]",wg="[object Int32Array]",xg="[object Uint8Array]",Dg="[object Uint8ClampedArray]",Ug="[object Uint16Array]",Bg="[object Uint32Array]",Ee={};Ee[No]=Ee[yg]=Ee[bg]=Ee[Cg]=Ee[gg]=Ee[Eg]=Ee[kg]=Ee[Mg]=Ee[$g]=Ee[Fg]=Ee[wg]=Ee[Og]=Ee[Rg]=Ee[Lo]=Ee[Ig]=Ee[Ng]=Ee[Sg]=Ee[Lg]=Ee[xg]=Ee[Dg]=Ee[Ug]=Ee[Bg]=!0;Ee[Tg]=Ee[So]=Ee[Pg]=!1;function Sr(e,t,r,n,a,o){var f,d=t&vg,c=t&_g,u=t&mg;if(r&&(f=a?r(e,n,a,o):r(e)),f!==void 0)return f;if(!fg(e))return e;var i=ug(e);if(i){if(f=ig(e),!d)return Qy(e,f)}else{var h=ag(e),g=h==So||h==Ag;if(cg(e))return Jy(e,d);if(h==Lo||h==No||g&&!a){if(f=c||g?{}:sg(e),!d)return c?tg(e,Zy(f,e)):eg(e,Xy(f,e))}else{if(!Ee[h])return a?e:{};f=og(e,h,d)}}o||(o=new zy);var b=o.get(e);if(b)return b;o.set(e,f),dg(e)?e.forEach(function(A){f.add(Sr(A,t,r,A,e,o))}):lg(e)&&e.forEach(function(A,R){f.set(R,Sr(A,t,r,R,e,o))});var T=u?c?ng:rg:c?pg:hg,l=i?void 0:T(e);return Yy(l||e,function(A,R){l&&(R=A,A=e[R]),qy(f,R,Sr(A,t,r,R,e,o))}),f}var Gg=Sr,jg=Gg,Wg=4;function Kg(e){return jg(e,Wg)}var pt=Kg,Dt={},Ct={};Object.defineProperty(Ct,"__esModule",{value:!0});Ct.PRINT_WARNING=Ct.PRINT_ERROR=void 0;function Vg(e){console&&console.error&&console.error("Error: ".concat(e))}Ct.PRINT_ERROR=Vg;function Hg(e){console&&console.warn&&console.warn("Warning: ".concat(e))}Ct.PRINT_WARNING=Hg;var qr={};Object.defineProperty(qr,"__esModule",{value:!0});qr.timer=void 0;function zg(e){var t=new Date().getTime(),r=e(),n=new Date().getTime(),a=n-t;return{time:a,value:r}}qr.timer=zg;var Xr={};Object.defineProperty(Xr,"__esModule",{value:!0});Xr.toFastProperties=void 0;function Yg(e){function t(){}t.prototype=e;var r=new t;function n(){return typeof r.bar}return n(),n(),e}Xr.toFastProperties=Yg;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.toFastProperties=e.timer=e.PRINT_ERROR=e.PRINT_WARNING=void 0;var t=Ct;Object.defineProperty(e,"PRINT_WARNING",{enumerable:!0,get:function(){return t.PRINT_WARNING}}),Object.defineProperty(e,"PRINT_ERROR",{enumerable:!0,get:function(){return t.PRINT_ERROR}});var r=qr;Object.defineProperty(e,"timer",{enumerable:!0,get:function(){return r.timer}});var n=Xr;Object.defineProperty(e,"toFastProperties",{enumerable:!0,get:function(){return n.toFastProperties}})})(Dt);var Ye={},Ut={};function qg(e,t,r){var n=-1,a=e.length;t<0&&(t=-t>a?0:a+t),r=r>a?a:r,r<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var o=Array(a);++n<a;)o[n]=e[n+t];return o}var ha=qg,Xg=Qs,mi=1/0,Zg=17976931348623157e292;function Jg(e){if(!e)return e===0?e:0;if(e=Xg(e),e===mi||e===-mi){var t=e<0?-1:1;return t*Zg}return e===e?e:0}var Qg=Jg,eE=Qg;function tE(e){var t=eE(e),r=t%1;return t===t?r?t-r:t:0}var yr=tE,rE=ha,nE=yr;function aE(e,t,r){var n=e==null?0:e.length;return n?(t=r||t===void 0?1:nE(t),rE(e,t<0?0:t,n)):[]}var pa=aE,Le={},he={},iE=kt,oE=me,sE=it,uE="[object String]";function cE(e){return typeof e=="string"||!oE(e)&&sE(e)&&iE(e)==uE}var Zr=cE,lE=kt,fE=it,dE="[object RegExp]";function hE(e){return fE(e)&&lE(e)==dE}var pE=hE,vE=pE,_E=dr,yi=Br,gi=yi&&yi.isRegExp,mE=gi?_E(gi):vE,Po=mE,yE=zr,gE=Hr,EE=Vr,Ei=nt,TE=vr;function AE(e,t,r,n){if(!Ei(e))return e;t=gE(t,e);for(var a=-1,o=t.length,f=o-1,d=e;d!=null&&++a<o;){var c=TE(t[a]),u=r;if(c==="__proto__"||c==="constructor"||c==="prototype")return e;if(a!=f){var i=d[c];u=n?n(i,c,d):void 0,u===void 0&&(u=Ei(i)?i:EE(t[a+1])?[]:{})}yE(d,c,u),d=d[c]}return e}var OE=AE,RE=la,IE=OE,NE=Hr;function SE(e,t,r){for(var n=-1,a=t.length,o={};++n<a;){var f=t[n],d=RE(e,f);r(d,f)&&IE(o,NE(f,e),d)}return o}var LE=SE,PE=hr,bE=Je,CE=LE,kE=Io;function ME(e,t){if(e==null)return{};var r=PE(kE(e),function(n){return[n]});return t=bE(t),CE(e,r,function(n,a){return t(n,a[0])})}var bo=ME;function $E(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var FE=$E,wE=FE,Ti=Math.max;function xE(e,t,r){return t=Ti(t===void 0?e.length-1:t,0),function(){for(var n=arguments,a=-1,o=Ti(n.length-t,0),f=Array(o);++a<o;)f[a]=n[t+a];a=-1;for(var d=Array(t+1);++a<t;)d[a]=n[a];return d[t]=r(f),wE(e,this,d)}}var DE=xE;function UE(e){return function(){return e}}var BE=UE,GE=BE,Ai=Ao,jE=_r,WE=Ai?function(e,t){return Ai(e,"toString",{configurable:!0,enumerable:!1,value:GE(t),writable:!0})}:jE,KE=WE,VE=800,HE=16,zE=Date.now;function YE(e){var t=0,r=0;return function(){var n=zE(),a=HE-(n-r);if(r=n,a>0){if(++t>=VE)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var qE=YE,XE=KE,ZE=qE,JE=ZE(XE),QE=JE,eT=_r,tT=DE,rT=QE;function nT(e,t){return rT(tT(e,t,eT),e+"")}var va=nT,aT=pr,iT=Ze,oT=Vr,sT=nt;function uT(e,t,r){if(!sT(r))return!1;var n=typeof t;return(n=="number"?iT(r)&&oT(t,r.length):n=="string"&&t in r)?aT(r[t],e):!1}var Jr=uT,cT=va,lT=Jr;function fT(e){return cT(function(t,r){var n=-1,a=r.length,o=a>1?r[a-1]:void 0,f=a>2?r[2]:void 0;for(o=e.length>3&&typeof o=="function"?(a--,o):void 0,f&&lT(r[0],r[1],f)&&(o=a<3?void 0:o,a=1),t=Object(t);++n<a;){var d=r[n];d&&e(t,d,n,o)}return t})}var dT=fT,hT=zr,pT=mr,vT=dT,_T=Ze,mT=cr,yT=je,gT=Object.prototype,ET=gT.hasOwnProperty,TT=vT(function(e,t){if(mT(t)||_T(t)){pT(t,yT(t),e);return}for(var r in t)ET.call(t,r)&&hT(e,r,t[r])}),Qr=TT,st=D&&D.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(n[o]=a[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Bt=D&&D.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(he,"__esModule",{value:!0});he.serializeProduction=he.serializeGrammar=he.Terminal=he.Alternation=he.RepetitionWithSeparator=he.Repetition=he.RepetitionMandatoryWithSeparator=he.RepetitionMandatory=he.Option=he.Alternative=he.Rule=he.NonTerminal=he.AbstractProduction=void 0;var Co=Bt(Ue),AT=Bt($e),xn=Bt(Zr),OT=Bt(Po),Qe=Bt(bo),et=Bt(Qr);function RT(e){return IT(e)?e.LABEL:e.name}function IT(e){return(0,xn.default)(e.LABEL)&&e.LABEL!==""}var tt=function(){function e(t){this._definition=t}return Object.defineProperty(e.prototype,"definition",{get:function(){return this._definition},set:function(t){this._definition=t},enumerable:!1,configurable:!0}),e.prototype.accept=function(t){t.visit(this),(0,AT.default)(this.definition,function(r){r.accept(t)})},e}();he.AbstractProduction=tt;var ko=function(e){st(t,e);function t(r){var n=e.call(this,[])||this;return n.idx=1,(0,et.default)(n,(0,Qe.default)(r,function(a){return a!==void 0})),n}return Object.defineProperty(t.prototype,"definition",{get:function(){return this.referencedRule!==void 0?this.referencedRule.definition:[]},set:function(r){},enumerable:!1,configurable:!0}),t.prototype.accept=function(r){r.visit(this)},t}(tt);he.NonTerminal=ko;var Mo=function(e){st(t,e);function t(r){var n=e.call(this,r.definition)||this;return n.orgText="",(0,et.default)(n,(0,Qe.default)(r,function(a){return a!==void 0})),n}return t}(tt);he.Rule=Mo;var $o=function(e){st(t,e);function t(r){var n=e.call(this,r.definition)||this;return n.ignoreAmbiguities=!1,(0,et.default)(n,(0,Qe.default)(r,function(a){return a!==void 0})),n}return t}(tt);he.Alternative=$o;var Fo=function(e){st(t,e);function t(r){var n=e.call(this,r.definition)||this;return n.idx=1,(0,et.default)(n,(0,Qe.default)(r,function(a){return a!==void 0})),n}return t}(tt);he.Option=Fo;var wo=function(e){st(t,e);function t(r){var n=e.call(this,r.definition)||this;return n.idx=1,(0,et.default)(n,(0,Qe.default)(r,function(a){return a!==void 0})),n}return t}(tt);he.RepetitionMandatory=wo;var xo=function(e){st(t,e);function t(r){var n=e.call(this,r.definition)||this;return n.idx=1,(0,et.default)(n,(0,Qe.default)(r,function(a){return a!==void 0})),n}return t}(tt);he.RepetitionMandatoryWithSeparator=xo;var Do=function(e){st(t,e);function t(r){var n=e.call(this,r.definition)||this;return n.idx=1,(0,et.default)(n,(0,Qe.default)(r,function(a){return a!==void 0})),n}return t}(tt);he.Repetition=Do;var Uo=function(e){st(t,e);function t(r){var n=e.call(this,r.definition)||this;return n.idx=1,(0,et.default)(n,(0,Qe.default)(r,function(a){return a!==void 0})),n}return t}(tt);he.RepetitionWithSeparator=Uo;var Bo=function(e){st(t,e);function t(r){var n=e.call(this,r.definition)||this;return n.idx=1,n.ignoreAmbiguities=!1,n.hasPredicates=!1,(0,et.default)(n,(0,Qe.default)(r,function(a){return a!==void 0})),n}return Object.defineProperty(t.prototype,"definition",{get:function(){return this._definition},set:function(r){this._definition=r},enumerable:!1,configurable:!0}),t}(tt);he.Alternation=Bo;var Lr=function(){function e(t){this.idx=1,(0,et.default)(this,(0,Qe.default)(t,function(r){return r!==void 0}))}return e.prototype.accept=function(t){t.visit(this)},e}();he.Terminal=Lr;function NT(e){return(0,Co.default)(e,or)}he.serializeGrammar=NT;function or(e){function t(o){return(0,Co.default)(o,or)}if(e instanceof ko){var r={type:"NonTerminal",name:e.nonTerminalName,idx:e.idx};return(0,xn.default)(e.label)&&(r.label=e.label),r}else{if(e instanceof $o)return{type:"Alternative",definition:t(e.definition)};if(e instanceof Fo)return{type:"Option",idx:e.idx,definition:t(e.definition)};if(e instanceof wo)return{type:"RepetitionMandatory",idx:e.idx,definition:t(e.definition)};if(e instanceof xo)return{type:"RepetitionMandatoryWithSeparator",idx:e.idx,separator:or(new Lr({terminalType:e.separator})),definition:t(e.definition)};if(e instanceof Uo)return{type:"RepetitionWithSeparator",idx:e.idx,separator:or(new Lr({terminalType:e.separator})),definition:t(e.definition)};if(e instanceof Do)return{type:"Repetition",idx:e.idx,definition:t(e.definition)};if(e instanceof Bo)return{type:"Alternation",idx:e.idx,definition:t(e.definition)};if(e instanceof Lr){var n={type:"Terminal",name:e.terminalType.name,label:RT(e.terminalType),idx:e.idx};(0,xn.default)(e.label)&&(n.terminalLabel=e.label);var a=e.terminalType.PATTERN;return e.terminalType.PATTERN&&(n.pattern=(0,OT.default)(a)?a.source:a),n}else{if(e instanceof Mo)return{type:"Rule",name:e.name,orgText:e.orgText,definition:t(e.definition)};throw Error("non exhaustive match")}}}he.serializeProduction=or;var en={};Object.defineProperty(en,"__esModule",{value:!0});en.GAstVisitor=void 0;var ze=he,ST=function(){function e(){}return e.prototype.visit=function(t){var r=t;switch(r.constructor){case ze.NonTerminal:return this.visitNonTerminal(r);case ze.Alternative:return this.visitAlternative(r);case ze.Option:return this.visitOption(r);case ze.RepetitionMandatory:return this.visitRepetitionMandatory(r);case ze.RepetitionMandatoryWithSeparator:return this.visitRepetitionMandatoryWithSeparator(r);case ze.RepetitionWithSeparator:return this.visitRepetitionWithSeparator(r);case ze.Repetition:return this.visitRepetition(r);case ze.Alternation:return this.visitAlternation(r);case ze.Terminal:return this.visitTerminal(r);case ze.Rule:return this.visitRule(r);default:throw Error("non exhaustive match")}},e.prototype.visitNonTerminal=function(t){},e.prototype.visitAlternative=function(t){},e.prototype.visitOption=function(t){},e.prototype.visitRepetition=function(t){},e.prototype.visitRepetitionMandatory=function(t){},e.prototype.visitRepetitionMandatoryWithSeparator=function(t){},e.prototype.visitRepetitionWithSeparator=function(t){},e.prototype.visitAlternation=function(t){},e.prototype.visitTerminal=function(t){},e.prototype.visitRule=function(t){},e}();en.GAstVisitor=ST;var qe={},LT=At;function PT(e,t){var r;return LT(e,function(n,a,o){return r=t(n,a,o),!r}),!!r}var bT=PT,CT=io,kT=Je,MT=bT,$T=me,FT=Jr;function wT(e,t,r){var n=$T(e)?CT:MT;return r&&FT(e,t,r)&&(t=void 0),n(e,kT(t))}var _a=wT;function xT(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var DT=xT,UT=At;function BT(e,t){var r=!0;return UT(e,function(n,a,o){return r=!!t(n,a,o),r}),r}var GT=BT,jT=DT,WT=GT,KT=Je,VT=me,HT=Jr;function zT(e,t,r){var n=VT(e)?jT:WT;return r&&HT(e,t,r)&&(t=void 0),n(e,KT(t))}var tn=zT;function YT(e,t,r,n){for(var a=e.length,o=r+(n?1:-1);n?o--:++o<a;)if(t(e[o],o,e))return o;return-1}var Go=YT;function qT(e){return e!==e}var XT=qT;function ZT(e,t,r){for(var n=r-1,a=e.length;++n<a;)if(e[n]===t)return n;return-1}var JT=ZT,QT=Go,eA=XT,tA=JT;function rA(e,t,r){return t===t?tA(e,t,r):QT(e,eA,r)}var ma=rA,nA=ma,aA=Ze,iA=Zr,oA=yr,sA=ot,uA=Math.max;function cA(e,t,r,n){e=aA(e)?e:sA(e),r=r&&!n?oA(r):0;var a=e.length;return r<0&&(r=uA(a+r,0)),iA(e)?r<=a&&e.indexOf(t,r)>-1:!!a&&nA(e,t,r)>-1}var vt=cA,ya=D&&D.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(qe,"__esModule",{value:!0});qe.getProductionDslName=qe.isBranchingProd=qe.isOptionalProd=qe.isSequenceProd=void 0;var lA=ya(_a),fA=ya(tn),dA=ya(vt),Ie=he;function hA(e){return e instanceof Ie.Alternative||e instanceof Ie.Option||e instanceof Ie.Repetition||e instanceof Ie.RepetitionMandatory||e instanceof Ie.RepetitionMandatoryWithSeparator||e instanceof Ie.RepetitionWithSeparator||e instanceof Ie.Terminal||e instanceof Ie.Rule}qe.isSequenceProd=hA;function Dn(e,t){t===void 0&&(t=[]);var r=e instanceof Ie.Option||e instanceof Ie.Repetition||e instanceof Ie.RepetitionWithSeparator;return r?!0:e instanceof Ie.Alternation?(0,lA.default)(e.definition,function(n){return Dn(n,t)}):e instanceof Ie.NonTerminal&&(0,dA.default)(t,e)?!1:e instanceof Ie.AbstractProduction?(e instanceof Ie.NonTerminal&&t.push(e),(0,fA.default)(e.definition,function(n){return Dn(n,t)})):!1}qe.isOptionalProd=Dn;function pA(e){return e instanceof Ie.Alternation}qe.isBranchingProd=pA;function vA(e){if(e instanceof Ie.NonTerminal)return"SUBRULE";if(e instanceof Ie.Option)return"OPTION";if(e instanceof Ie.Alternation)return"OR";if(e instanceof Ie.RepetitionMandatory)return"AT_LEAST_ONE";if(e instanceof Ie.RepetitionMandatoryWithSeparator)return"AT_LEAST_ONE_SEP";if(e instanceof Ie.RepetitionWithSeparator)return"MANY_SEP";if(e instanceof Ie.Repetition)return"MANY";if(e instanceof Ie.Terminal)return"CONSUME";throw Error("non exhaustive match")}qe.getProductionDslName=vA;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.isSequenceProd=e.isBranchingProd=e.isOptionalProd=e.getProductionDslName=e.GAstVisitor=e.serializeProduction=e.serializeGrammar=e.Alternative=e.Alternation=e.RepetitionWithSeparator=e.RepetitionMandatoryWithSeparator=e.RepetitionMandatory=e.Repetition=e.Option=e.NonTerminal=e.Terminal=e.Rule=void 0;var t=he;Object.defineProperty(e,"Rule",{enumerable:!0,get:function(){return t.Rule}}),Object.defineProperty(e,"Terminal",{enumerable:!0,get:function(){return t.Terminal}}),Object.defineProperty(e,"NonTerminal",{enumerable:!0,get:function(){return t.NonTerminal}}),Object.defineProperty(e,"Option",{enumerable:!0,get:function(){return t.Option}}),Object.defineProperty(e,"Repetition",{enumerable:!0,get:function(){return t.Repetition}}),Object.defineProperty(e,"RepetitionMandatory",{enumerable:!0,get:function(){return t.RepetitionMandatory}}),Object.defineProperty(e,"RepetitionMandatoryWithSeparator",{enumerable:!0,get:function(){return t.RepetitionMandatoryWithSeparator}}),Object.defineProperty(e,"RepetitionWithSeparator",{enumerable:!0,get:function(){return t.RepetitionWithSeparator}}),Object.defineProperty(e,"Alternation",{enumerable:!0,get:function(){return t.Alternation}}),Object.defineProperty(e,"Alternative",{enumerable:!0,get:function(){return t.Alternative}}),Object.defineProperty(e,"serializeGrammar",{enumerable:!0,get:function(){return t.serializeGrammar}}),Object.defineProperty(e,"serializeProduction",{enumerable:!0,get:function(){return t.serializeProduction}});var r=en;Object.defineProperty(e,"GAstVisitor",{enumerable:!0,get:function(){return r.GAstVisitor}});var n=qe;Object.defineProperty(e,"getProductionDslName",{enumerable:!0,get:function(){return n.getProductionDslName}}),Object.defineProperty(e,"isOptionalProd",{enumerable:!0,get:function(){return n.isOptionalProd}}),Object.defineProperty(e,"isBranchingProd",{enumerable:!0,get:function(){return n.isBranchingProd}}),Object.defineProperty(e,"isSequenceProd",{enumerable:!0,get:function(){return n.isSequenceProd}})})(Le);var jo=D&&D.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ut,"__esModule",{value:!0});Ut.RestWalker=void 0;var _A=jo(pa),Oi=jo($e),xe=Le,mA=function(){function e(){}return e.prototype.walk=function(t,r){var n=this;r===void 0&&(r=[]),(0,Oi.default)(t.definition,function(a,o){var f=(0,_A.default)(t.definition,o+1);if(a instanceof xe.NonTerminal)n.walkProdRef(a,f,r);else if(a instanceof xe.Terminal)n.walkTerminal(a,f,r);else if(a instanceof xe.Alternative)n.walkFlat(a,f,r);else if(a instanceof xe.Option)n.walkOption(a,f,r);else if(a instanceof xe.RepetitionMandatory)n.walkAtLeastOne(a,f,r);else if(a instanceof xe.RepetitionMandatoryWithSeparator)n.walkAtLeastOneSep(a,f,r);else if(a instanceof xe.RepetitionWithSeparator)n.walkManySep(a,f,r);else if(a instanceof xe.Repetition)n.walkMany(a,f,r);else if(a instanceof xe.Alternation)n.walkOr(a,f,r);else throw Error("non exhaustive match")})},e.prototype.walkTerminal=function(t,r,n){},e.prototype.walkProdRef=function(t,r,n){},e.prototype.walkFlat=function(t,r,n){var a=r.concat(n);this.walk(t,a)},e.prototype.walkOption=function(t,r,n){var a=r.concat(n);this.walk(t,a)},e.prototype.walkAtLeastOne=function(t,r,n){var a=[new xe.Option({definition:t.definition})].concat(r,n);this.walk(t,a)},e.prototype.walkAtLeastOneSep=function(t,r,n){var a=Ri(t,r,n);this.walk(t,a)},e.prototype.walkMany=function(t,r,n){var a=[new xe.Option({definition:t.definition})].concat(r,n);this.walk(t,a)},e.prototype.walkManySep=function(t,r,n){var a=Ri(t,r,n);this.walk(t,a)},e.prototype.walkOr=function(t,r,n){var a=this,o=r.concat(n);(0,Oi.default)(t.definition,function(f){var d=new xe.Alternative({definition:[f]});a.walk(d,o)})},e}();Ut.RestWalker=mA;function Ri(e,t,r){var n=[new xe.Option({definition:[new xe.Terminal({terminalType:e.separator})].concat(e.definition)})],a=n.concat(t,r);return a}var Ve={},Ii=xr,yA=Dr,gA=me,Ni=Ii?Ii.isConcatSpreadable:void 0;function EA(e){return gA(e)||yA(e)||!!(Ni&&e&&e[Ni])}var TA=EA,AA=ia,OA=TA;function Wo(e,t,r,n,a){var o=-1,f=e.length;for(r||(r=OA),a||(a=[]);++o<f;){var d=e[o];t>0&&r(d)?t>1?Wo(d,t-1,r,n,a):AA(a,d):n||(a[a.length]=d)}return a}var ga=Wo,RA=ga;function IA(e){var t=e==null?0:e.length;return t?RA(e,1):[]}var ut=IA,NA=ma;function SA(e,t){var r=e==null?0:e.length;return!!r&&NA(e,t,0)>-1}var Ko=SA;function LA(e,t,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(r(t,e[n]))return!0;return!1}var Vo=LA;function PA(){}var Ea=PA,Nn=ro,bA=Ea,CA=aa,kA=1/0,MA=Nn&&1/CA(new Nn([,-0]))[1]==kA?function(e){return new Nn(e)}:bA,$A=MA,FA=ra,wA=Ko,xA=Vo,DA=na,UA=$A,BA=aa,GA=200;function jA(e,t,r){var n=-1,a=wA,o=e.length,f=!0,d=[],c=d;if(r)f=!1,a=xA;else if(o>=GA){var u=t?null:UA(e);if(u)return BA(u);f=!1,a=DA,c=new FA}else c=t?[]:d;e:for(;++n<o;){var i=e[n],h=t?t(i):i;if(i=r||i!==0?i:0,f&&h===h){for(var g=c.length;g--;)if(c[g]===h)continue e;t&&c.push(h),d.push(i)}else a(c,h,r)||(c!==d&&c.push(h),d.push(i))}return d}var WA=jA,KA=WA;function VA(e){return e&&e.length?KA(e):[]}var Ta=VA,Aa=D&&D.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ve,"__esModule",{value:!0});Ve.firstForTerminal=Ve.firstForBranching=Ve.firstForSequence=Ve.first=void 0;var HA=Aa(ut),Ho=Aa(Ta),zA=Aa(Ue),Si=Le,Un=Le;function rn(e){if(e instanceof Si.NonTerminal)return rn(e.referencedRule);if(e instanceof Si.Terminal)return qo(e);if((0,Un.isSequenceProd)(e))return zo(e);if((0,Un.isBranchingProd)(e))return Yo(e);throw Error("non exhaustive match")}Ve.first=rn;function zo(e){for(var t=[],r=e.definition,n=0,a=r.length>n,o,f=!0;a&&f;)o=r[n],f=(0,Un.isOptionalProd)(o),t=t.concat(rn(o)),n=n+1,a=r.length>n;return(0,Ho.default)(t)}Ve.firstForSequence=zo;function Yo(e){var t=(0,zA.default)(e.definition,function(r){return rn(r)});return(0,Ho.default)((0,HA.default)(t))}Ve.firstForBranching=Yo;function qo(e){return[e.terminalType]}Ve.firstForTerminal=qo;var gr={};Object.defineProperty(gr,"__esModule",{value:!0});gr.IN=void 0;gr.IN="_~IN~_";var YA=D&&D.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(n[o]=a[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Xo=D&&D.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ye,"__esModule",{value:!0});Ye.buildInProdFollowPrefix=Ye.buildBetweenProdsFollowPrefix=Ye.computeAllProdsFollows=Ye.ResyncFollowsWalker=void 0;var qA=Ut,XA=Ve,ZA=Xo($e),JA=Xo(Qr),Zo=gr,QA=Le,Jo=function(e){YA(t,e);function t(r){var n=e.call(this)||this;return n.topProd=r,n.follows={},n}return t.prototype.startWalking=function(){return this.walk(this.topProd),this.follows},t.prototype.walkTerminal=function(r,n,a){},t.prototype.walkProdRef=function(r,n,a){var o=Qo(r.referencedRule,r.idx)+this.topProd.name,f=n.concat(a),d=new QA.Alternative({definition:f}),c=(0,XA.first)(d);this.follows[o]=c},t}(qA.RestWalker);Ye.ResyncFollowsWalker=Jo;function eO(e){var t={};return(0,ZA.default)(e,function(r){var n=new Jo(r).startWalking();(0,JA.default)(t,n)}),t}Ye.computeAllProdsFollows=eO;function Qo(e,t){return e.name+t+Zo.IN}Ye.buildBetweenProdsFollowPrefix=Qo;function tO(e){var t=e.terminalType.name;return t+e.idx+Zo.IN}Ye.buildInProdFollowPrefix=tO;var Ot={};function rO(e){return e===void 0}var Gt=rO,Sn={},Ln={},es={exports:{}};(function(e){(function(t,r){e.exports?e.exports=r():t.regexpToAst=r()})(typeof self<"u"?self:D,function(){function t(){}t.prototype.saveState=function(){return{idx:this.idx,input:this.input,groupIdx:this.groupIdx}},t.prototype.restoreState=function(l){this.idx=l.idx,this.input=l.input,this.groupIdx=l.groupIdx},t.prototype.pattern=function(l){this.idx=0,this.input=l,this.groupIdx=0,this.consumeChar("/");var A=this.disjunction();this.consumeChar("/");for(var R={type:"Flags",loc:{begin:this.idx,end:l.length},global:!1,ignoreCase:!1,multiLine:!1,unicode:!1,sticky:!1};this.isRegExpFlag();)switch(this.popChar()){case"g":d(R,"global");break;case"i":d(R,"ignoreCase");break;case"m":d(R,"multiLine");break;case"u":d(R,"unicode");break;case"y":d(R,"sticky");break}if(this.idx!==this.input.length)throw Error("Redundant input: "+this.input.substring(this.idx));return{type:"Pattern",flags:R,value:A,loc:this.loc(0)}},t.prototype.disjunction=function(){var l=[],A=this.idx;for(l.push(this.alternative());this.peekChar()==="|";)this.consumeChar("|"),l.push(this.alternative());return{type:"Disjunction",value:l,loc:this.loc(A)}},t.prototype.alternative=function(){for(var l=[],A=this.idx;this.isTerm();)l.push(this.term());return{type:"Alternative",value:l,loc:this.loc(A)}},t.prototype.term=function(){return this.isAssertion()?this.assertion():this.atom()},t.prototype.assertion=function(){var l=this.idx;switch(this.popChar()){case"^":return{type:"StartAnchor",loc:this.loc(l)};case"$":return{type:"EndAnchor",loc:this.loc(l)};case"\\":switch(this.popChar()){case"b":return{type:"WordBoundary",loc:this.loc(l)};case"B":return{type:"NonWordBoundary",loc:this.loc(l)}}throw Error("Invalid Assertion Escape");case"(":this.consumeChar("?");var A;switch(this.popChar()){case"=":A="Lookahead";break;case"!":A="NegativeLookahead";break}c(A);var R=this.disjunction();return this.consumeChar(")"),{type:A,value:R,loc:this.loc(l)}}u()},t.prototype.quantifier=function(l){var A,R=this.idx;switch(this.popChar()){case"*":A={atLeast:0,atMost:1/0};break;case"+":A={atLeast:1,atMost:1/0};break;case"?":A={atLeast:0,atMost:1};break;case"{":var S=this.integerIncludingZero();switch(this.popChar()){case"}":A={atLeast:S,atMost:S};break;case",":var L;this.isDigit()?(L=this.integerIncludingZero(),A={atLeast:S,atMost:L}):A={atLeast:S,atMost:1/0},this.consumeChar("}");break}if(l===!0&&A===void 0)return;c(A);break}if(!(l===!0&&A===void 0))return c(A),this.peekChar(0)==="?"?(this.consumeChar("?"),A.greedy=!1):A.greedy=!0,A.type="Quantifier",A.loc=this.loc(R),A},t.prototype.atom=function(){var l,A=this.idx;switch(this.peekChar()){case".":l=this.dotAll();break;case"\\":l=this.atomEscape();break;case"[":l=this.characterClass();break;case"(":l=this.group();break}return l===void 0&&this.isPatternCharacter()&&(l=this.patternCharacter()),c(l),l.loc=this.loc(A),this.isQuantifier()&&(l.quantifier=this.quantifier()),l},t.prototype.dotAll=function(){return this.consumeChar("."),{type:"Set",complement:!0,value:[o(`
`),o("\r"),o("\u2028"),o("\u2029")]}},t.prototype.atomEscape=function(){switch(this.consumeChar("\\"),this.peekChar()){case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":return this.decimalEscapeAtom();case"d":case"D":case"s":case"S":case"w":case"W":return this.characterClassEscape();case"f":case"n":case"r":case"t":case"v":return this.controlEscapeAtom();case"c":return this.controlLetterEscapeAtom();case"0":return this.nulCharacterAtom();case"x":return this.hexEscapeSequenceAtom();case"u":return this.regExpUnicodeEscapeSequenceAtom();default:return this.identityEscapeAtom()}},t.prototype.decimalEscapeAtom=function(){var l=this.positiveInteger();return{type:"GroupBackReference",value:l}},t.prototype.characterClassEscape=function(){var l,A=!1;switch(this.popChar()){case"d":l=h;break;case"D":l=h,A=!0;break;case"s":l=b;break;case"S":l=b,A=!0;break;case"w":l=g;break;case"W":l=g,A=!0;break}return c(l),{type:"Set",value:l,complement:A}},t.prototype.controlEscapeAtom=function(){var l;switch(this.popChar()){case"f":l=o("\f");break;case"n":l=o(`
`);break;case"r":l=o("\r");break;case"t":l=o("	");break;case"v":l=o("\v");break}return c(l),{type:"Character",value:l}},t.prototype.controlLetterEscapeAtom=function(){this.consumeChar("c");var l=this.popChar();if(/[a-zA-Z]/.test(l)===!1)throw Error("Invalid ");var A=l.toUpperCase().charCodeAt(0)-64;return{type:"Character",value:A}},t.prototype.nulCharacterAtom=function(){return this.consumeChar("0"),{type:"Character",value:o("\0")}},t.prototype.hexEscapeSequenceAtom=function(){return this.consumeChar("x"),this.parseHexDigits(2)},t.prototype.regExpUnicodeEscapeSequenceAtom=function(){return this.consumeChar("u"),this.parseHexDigits(4)},t.prototype.identityEscapeAtom=function(){var l=this.popChar();return{type:"Character",value:o(l)}},t.prototype.classPatternCharacterAtom=function(){switch(this.peekChar()){case`
`:case"\r":case"\u2028":case"\u2029":case"\\":case"]":throw Error("TBD");default:var l=this.popChar();return{type:"Character",value:o(l)}}},t.prototype.characterClass=function(){var l=[],A=!1;for(this.consumeChar("["),this.peekChar(0)==="^"&&(this.consumeChar("^"),A=!0);this.isClassAtom();){var R=this.classAtom(),S=R.type==="Character";if(S&&this.isRangeDash()){this.consumeChar("-");var L=this.classAtom(),E=L.type==="Character";if(E){if(L.value<R.value)throw Error("Range out of order in character class");l.push({from:R.value,to:L.value})}else f(R.value,l),l.push(o("-")),f(L.value,l)}else f(R.value,l)}return this.consumeChar("]"),{type:"Set",complement:A,value:l}},t.prototype.classAtom=function(){switch(this.peekChar()){case"]":case`
`:case"\r":case"\u2028":case"\u2029":throw Error("TBD");case"\\":return this.classEscape();default:return this.classPatternCharacterAtom()}},t.prototype.classEscape=function(){switch(this.consumeChar("\\"),this.peekChar()){case"b":return this.consumeChar("b"),{type:"Character",value:o("\b")};case"d":case"D":case"s":case"S":case"w":case"W":return this.characterClassEscape();case"f":case"n":case"r":case"t":case"v":return this.controlEscapeAtom();case"c":return this.controlLetterEscapeAtom();case"0":return this.nulCharacterAtom();case"x":return this.hexEscapeSequenceAtom();case"u":return this.regExpUnicodeEscapeSequenceAtom();default:return this.identityEscapeAtom()}},t.prototype.group=function(){var l=!0;switch(this.consumeChar("("),this.peekChar(0)){case"?":this.consumeChar("?"),this.consumeChar(":"),l=!1;break;default:this.groupIdx++;break}var A=this.disjunction();this.consumeChar(")");var R={type:"Group",capturing:l,value:A};return l&&(R.idx=this.groupIdx),R},t.prototype.positiveInteger=function(){var l=this.popChar();if(a.test(l)===!1)throw Error("Expecting a positive integer");for(;n.test(this.peekChar(0));)l+=this.popChar();return parseInt(l,10)},t.prototype.integerIncludingZero=function(){var l=this.popChar();if(n.test(l)===!1)throw Error("Expecting an integer");for(;n.test(this.peekChar(0));)l+=this.popChar();return parseInt(l,10)},t.prototype.patternCharacter=function(){var l=this.popChar();switch(l){case`
`:case"\r":case"\u2028":case"\u2029":case"^":case"$":case"\\":case".":case"*":case"+":case"?":case"(":case")":case"[":case"|":throw Error("TBD");default:return{type:"Character",value:o(l)}}},t.prototype.isRegExpFlag=function(){switch(this.peekChar(0)){case"g":case"i":case"m":case"u":case"y":return!0;default:return!1}},t.prototype.isRangeDash=function(){return this.peekChar()==="-"&&this.isClassAtom(1)},t.prototype.isDigit=function(){return n.test(this.peekChar(0))},t.prototype.isClassAtom=function(l){switch(l===void 0&&(l=0),this.peekChar(l)){case"]":case`
`:case"\r":case"\u2028":case"\u2029":return!1;default:return!0}},t.prototype.isTerm=function(){return this.isAtom()||this.isAssertion()},t.prototype.isAtom=function(){if(this.isPatternCharacter())return!0;switch(this.peekChar(0)){case".":case"\\":case"[":case"(":return!0;default:return!1}},t.prototype.isAssertion=function(){switch(this.peekChar(0)){case"^":case"$":return!0;case"\\":switch(this.peekChar(1)){case"b":case"B":return!0;default:return!1}case"(":return this.peekChar(1)==="?"&&(this.peekChar(2)==="="||this.peekChar(2)==="!");default:return!1}},t.prototype.isQuantifier=function(){var l=this.saveState();try{return this.quantifier(!0)!==void 0}catch{return!1}finally{this.restoreState(l)}},t.prototype.isPatternCharacter=function(){switch(this.peekChar()){case"^":case"$":case"\\":case".":case"*":case"+":case"?":case"(":case")":case"[":case"|":case"/":case`
`:case"\r":case"\u2028":case"\u2029":return!1;default:return!0}},t.prototype.parseHexDigits=function(l){for(var A="",R=0;R<l;R++){var S=this.popChar();if(r.test(S)===!1)throw Error("Expecting a HexDecimal digits");A+=S}var L=parseInt(A,16);return{type:"Character",value:L}},t.prototype.peekChar=function(l){return l===void 0&&(l=0),this.input[this.idx+l]},t.prototype.popChar=function(){var l=this.peekChar(0);return this.consumeChar(),l},t.prototype.consumeChar=function(l){if(l!==void 0&&this.input[this.idx]!==l)throw Error("Expected: '"+l+"' but found: '"+this.input[this.idx]+"' at offset: "+this.idx);if(this.idx>=this.input.length)throw Error("Unexpected end of input");this.idx++},t.prototype.loc=function(l){return{begin:l,end:this.idx}};var r=/[0-9a-fA-F]/,n=/[0-9]/,a=/[1-9]/;function o(l){return l.charCodeAt(0)}function f(l,A){l.length!==void 0?l.forEach(function(R){A.push(R)}):A.push(l)}function d(l,A){if(l[A]===!0)throw"duplicate flag "+A;l[A]=!0}function c(l){if(l===void 0)throw Error("Internal Error - Should never get here!")}function u(){throw Error("Internal Error - Should never get here!")}var i,h=[];for(i=o("0");i<=o("9");i++)h.push(i);var g=[o("_")].concat(h);for(i=o("a");i<=o("z");i++)g.push(i);for(i=o("A");i<=o("Z");i++)g.push(i);var b=[o(" "),o("\f"),o(`
`),o("\r"),o("	"),o("\v"),o("	"),o(""),o(""),o(""),o(""),o(""),o(""),o(""),o(""),o(""),o(""),o(""),o(""),o(""),o("\u2028"),o("\u2029"),o(""),o(""),o(""),o("\uFEFF")];function T(){}return T.prototype.visitChildren=function(l){for(var A in l){var R=l[A];l.hasOwnProperty(A)&&(R.type!==void 0?this.visit(R):Array.isArray(R)&&R.forEach(function(S){this.visit(S)},this))}},T.prototype.visit=function(l){switch(l.type){case"Pattern":this.visitPattern(l);break;case"Flags":this.visitFlags(l);break;case"Disjunction":this.visitDisjunction(l);break;case"Alternative":this.visitAlternative(l);break;case"StartAnchor":this.visitStartAnchor(l);break;case"EndAnchor":this.visitEndAnchor(l);break;case"WordBoundary":this.visitWordBoundary(l);break;case"NonWordBoundary":this.visitNonWordBoundary(l);break;case"Lookahead":this.visitLookahead(l);break;case"NegativeLookahead":this.visitNegativeLookahead(l);break;case"Character":this.visitCharacter(l);break;case"Set":this.visitSet(l);break;case"Group":this.visitGroup(l);break;case"GroupBackReference":this.visitGroupBackReference(l);break;case"Quantifier":this.visitQuantifier(l);break}this.visitChildren(l)},T.prototype.visitPattern=function(l){},T.prototype.visitFlags=function(l){},T.prototype.visitDisjunction=function(l){},T.prototype.visitAlternative=function(l){},T.prototype.visitStartAnchor=function(l){},T.prototype.visitEndAnchor=function(l){},T.prototype.visitWordBoundary=function(l){},T.prototype.visitNonWordBoundary=function(l){},T.prototype.visitLookahead=function(l){},T.prototype.visitNegativeLookahead=function(l){},T.prototype.visitCharacter=function(l){},T.prototype.visitSet=function(l){},T.prototype.visitGroup=function(l){},T.prototype.visitGroupBackReference=function(l){},T.prototype.visitQuantifier=function(l){},{RegExpParser:t,BaseRegExpVisitor:T,VERSION:"0.5.0"}})})(es);var Oa=es.exports;function nO(e){return e&&e.length?e[0]:void 0}var aO=nO,Er=aO;function iO(e){for(var t=-1,r=e==null?0:e.length,n=0,a=[];++t<r;){var o=e[t];o&&(a[n++]=o)}return a}var nn=iO,oO=At;function sO(e,t){var r=[];return oO(e,function(n,a,o){t(n,a,o)&&r.push(n)}),r}var ts=sO,uO="Expected a function";function cO(e){if(typeof e!="function")throw new TypeError(uO);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}var lO=cO,fO=oa,dO=ts,hO=Je,pO=me,vO=lO;function _O(e,t){var r=pO(e)?fO:dO;return r(e,vO(hO(t)))}var Ra=_O,mO=ra,yO=Ko,gO=Vo,EO=hr,TO=dr,AO=na,OO=200;function RO(e,t,r,n){var a=-1,o=yO,f=!0,d=e.length,c=[],u=t.length;if(!d)return c;r&&(t=EO(t,TO(r))),n?(o=gO,f=!1):t.length>=OO&&(o=AO,f=!1,t=new mO(t));e:for(;++a<d;){var i=e[a],h=r==null?i:r(i);if(i=n||i!==0?i:0,f&&h===h){for(var g=u;g--;)if(t[g]===h)continue e;c.push(i)}else o(t,h,n)||c.push(i)}return c}var IO=RO,NO=Ze,SO=it;function LO(e){return SO(e)&&NO(e)}var PO=LO,bO=IO,CO=ga,kO=va,Li=PO,MO=kO(function(e,t){return Li(e)?bO(e,CO(t,1,Li,!0)):[]}),Ia=MO,$O=ma,FO=yr,wO=Math.max;function xO(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var a=r==null?0:FO(r);return a<0&&(a=wO(n+a,0)),$O(e,t,a)}var DO=xO,UO=Je,BO=Ze,GO=je;function jO(e){return function(t,r,n){var a=Object(t);if(!BO(t)){var o=UO(r);t=GO(t),r=function(d){return o(a[d],d,a)}}var f=e(t,r,n);return f>-1?a[o?t[f]:f]:void 0}}var WO=jO,KO=Go,VO=Je,HO=yr,zO=Math.max;function YO(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var a=r==null?0:HO(r);return a<0&&(a=zO(n+a,0)),KO(e,VO(t),a)}var qO=YO,XO=WO,ZO=qO,JO=XO(ZO),Na=JO,QO=oa,eR=ts,tR=Je,rR=me;function nR(e,t){var r=rR(e)?QO:eR;return r(e,tR(t))}var Sa=nR,aR=va,iR=pr,oR=Jr,sR=Yr,rs=Object.prototype,uR=rs.hasOwnProperty,cR=aR(function(e,t){e=Object(e);var r=-1,n=t.length,a=n>2?t[2]:void 0;for(a&&oR(t[0],t[1],a)&&(n=1);++r<n;)for(var o=t[r],f=sR(o),d=-1,c=f.length;++d<c;){var u=f[d],i=e[u];(i===void 0||iR(i,rs[u])&&!uR.call(e,u))&&(e[u]=o[u])}return e}),ns=cR;function lR(e,t,r,n){var a=-1,o=e==null?0:e.length;for(n&&o&&(r=e[++a]);++a<o;)r=t(r,e[a],a,e);return r}var fR=lR;function dR(e,t,r,n,a){return a(e,function(o,f,d){r=n?(n=!1,o):t(r,o,f,d)}),r}var hR=dR,pR=fR,vR=At,_R=Je,mR=hR,yR=me;function gR(e,t,r){var n=yR(e)?pR:mR,a=arguments.length<3;return n(e,_R(t),r,a,vR)}var Rt=gR,Pn={},ht={};Object.defineProperty(ht,"__esModule",{value:!0});ht.clearRegExpParserCache=ht.getRegExpAst=void 0;var ER=Oa,Pr={},TR=new ER.RegExpParser;function AR(e){var t=e.toString();if(Pr.hasOwnProperty(t))return Pr[t];var r=TR.pattern(t);return Pr[t]=r,r}ht.getRegExpAst=AR;function OR(){Pr={}}ht.clearRegExpParserCache=OR;var Pi;function RR(){return Pi||(Pi=1,function(e){var t=D&&D.__extends||function(){var v=function(p,_){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,m){s.__proto__=m}||function(s,m){for(var I in m)Object.prototype.hasOwnProperty.call(m,I)&&(s[I]=m[I])},v(p,_)};return function(p,_){if(typeof _!="function"&&_!==null)throw new TypeError("Class extends value "+String(_)+" is not a constructor or null");v(p,_);function s(){this.constructor=p}p.prototype=_===null?Object.create(_):(s.prototype=_.prototype,new s)}}(),r=D&&D.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};Object.defineProperty(e,"__esModule",{value:!0}),e.canMatchCharCode=e.firstCharOptimizedIndices=e.getOptimizedStartCodesIndices=e.failedOptimizationPrefixMsg=void 0;var n=Oa,a=r(me),o=r(tn),f=r($e),d=r(Na),c=r(ot),u=r(vt),i=Dt,h=ht,g=as(),b="Complement Sets are not supported for first char optimization";e.failedOptimizationPrefixMsg=`Unable to use "first char" lexer optimizations:
`;function T(v,p){p===void 0&&(p=!1);try{var _=(0,h.getRegExpAst)(v),s=l(_.value,{},_.flags.ignoreCase);return s}catch(I){if(I.message===b)p&&(0,i.PRINT_WARNING)("".concat(e.failedOptimizationPrefixMsg)+"	Unable to optimize: < ".concat(v.toString(),` >
`)+`	Complement Sets cannot be automatically optimized.
	This will disable the lexer's first char optimizations.
	See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#COMPLEMENT for details.`);else{var m="";p&&(m=`
	This will disable the lexer's first char optimizations.
	See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#REGEXP_PARSING for details.`),(0,i.PRINT_ERROR)("".concat(e.failedOptimizationPrefixMsg,`
`)+"	Failed parsing: < ".concat(v.toString(),` >
`)+"	Using the regexp-to-ast library version: ".concat(n.VERSION,`
`)+"	Please open an issue at: https://github.com/bd82/regexp-to-ast/issues"+m)}}return[]}e.getOptimizedStartCodesIndices=T;function l(v,p,_){switch(v.type){case"Disjunction":for(var s=0;s<v.value.length;s++)l(v.value[s],p,_);break;case"Alternative":for(var m=v.value,s=0;s<m.length;s++){var I=m[s];switch(I.type){case"EndAnchor":case"GroupBackReference":case"Lookahead":case"NegativeLookahead":case"StartAnchor":case"WordBoundary":case"NonWordBoundary":continue}var N=I;switch(N.type){case"Character":A(N.value,p,_);break;case"Set":if(N.complement===!0)throw Error(b);(0,f.default)(N.value,function(k){if(typeof k=="number")A(k,p,_);else{var H=k;if(_===!0)for(var O=H.from;O<=H.to;O++)A(O,p,_);else{for(var O=H.from;O<=H.to&&O<g.minOptimizationVal;O++)A(O,p,_);if(H.to>=g.minOptimizationVal)for(var F=H.from>=g.minOptimizationVal?H.from:g.minOptimizationVal,C=H.to,K=(0,g.charCodeToOptimizedIndex)(F),V=(0,g.charCodeToOptimizedIndex)(C),z=K;z<=V;z++)p[z]=z}}});break;case"Group":l(N.value,p,_);break;default:throw Error("Non Exhaustive Match")}var G=N.quantifier!==void 0&&N.quantifier.atLeast===0;if(N.type==="Group"&&L(N)===!1||N.type!=="Group"&&G===!1)break}break;default:throw Error("non exhaustive match!")}return(0,c.default)(p)}e.firstCharOptimizedIndices=l;function A(v,p,_){var s=(0,g.charCodeToOptimizedIndex)(v);p[s]=s,_===!0&&R(v,p)}function R(v,p){var _=String.fromCharCode(v),s=_.toUpperCase();if(s!==_){var m=(0,g.charCodeToOptimizedIndex)(s.charCodeAt(0));p[m]=m}else{var I=_.toLowerCase();if(I!==_){var m=(0,g.charCodeToOptimizedIndex)(I.charCodeAt(0));p[m]=m}}}function S(v,p){return(0,d.default)(v.value,function(_){if(typeof _=="number")return(0,u.default)(p,_);var s=_;return(0,d.default)(p,function(m){return s.from<=m&&m<=s.to})!==void 0})}function L(v){var p=v.quantifier;return p&&p.atLeast===0?!0:v.value?(0,a.default)(v.value)?(0,o.default)(v.value,L):L(v.value):!1}var E=function(v){t(p,v);function p(_){var s=v.call(this)||this;return s.targetCharCodes=_,s.found=!1,s}return p.prototype.visitChildren=function(_){if(this.found!==!0){switch(_.type){case"Lookahead":this.visitLookahead(_);return;case"NegativeLookahead":this.visitNegativeLookahead(_);return}v.prototype.visitChildren.call(this,_)}},p.prototype.visitCharacter=function(_){(0,u.default)(this.targetCharCodes,_.value)&&(this.found=!0)},p.prototype.visitSet=function(_){_.complement?S(_,this.targetCharCodes)===void 0&&(this.found=!0):S(_,this.targetCharCodes)!==void 0&&(this.found=!0)},p}(n.BaseRegExpVisitor);function y(v,p){if(p instanceof RegExp){var _=(0,h.getRegExpAst)(p),s=new E(v);return s.visit(_),s.found}else return(0,d.default)(p,function(m){return(0,u.default)(v,m.charCodeAt(0))})!==void 0}e.canMatchCharCode=y}(Pn)),Pn}var bi;function as(){return bi||(bi=1,function(e){var t=D&&D.__extends||function(){var w=function(x,B){return w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(W,j){W.__proto__=j}||function(W,j){for(var X in j)Object.prototype.hasOwnProperty.call(j,X)&&(W[X]=j[X])},w(x,B)};return function(x,B){if(typeof B!="function"&&B!==null)throw new TypeError("Class extends value "+String(B)+" is not a constructor or null");w(x,B);function W(){this.constructor=x}x.prototype=B===null?Object.create(B):(W.prototype=B.prototype,new W)}}(),r=D&&D.__importDefault||function(w){return w&&w.__esModule?w:{default:w}};Object.defineProperty(e,"__esModule",{value:!0}),e.charCodeToOptimizedIndex=e.minOptimizationVal=e.buildLineBreakIssueMessage=e.LineTerminatorOptimizedTester=e.isShortPattern=e.isCustomPattern=e.cloneEmptyGroups=e.performWarningRuntimeChecks=e.performRuntimeChecks=e.addStickyFlag=e.addStartOfInput=e.findUnreachablePatterns=e.findModesThatDoNotExist=e.findInvalidGroupType=e.findDuplicatePatterns=e.findUnsupportedFlags=e.findStartOfInputAnchor=e.findEmptyMatchRegExps=e.findEndOfInputAnchor=e.findInvalidPatterns=e.findMissingPatterns=e.validatePatterns=e.analyzeTokenTypes=e.enableSticky=e.disableSticky=e.SUPPORT_STICKY=e.MODES=e.DEFAULT_MODE=void 0;var n=Oa,a=an(),o=r(Er),f=r(He),d=r(nn),c=r(me),u=r(ot),i=r(ut),h=r(Ra),g=r(Ia),b=r(DO),T=r(Ue),l=r($e),A=r(Zr),R=r(lr),S=r(Gt),L=r(Na),E=r(We),y=r(je),v=r(Po),p=r(Sa),_=r(ns),s=r(Rt),m=r(vt),I=Dt,N=RR(),G=ht,P="PATTERN";e.DEFAULT_MODE="defaultMode",e.MODES="modes",e.SUPPORT_STICKY=typeof new RegExp("(?:)").sticky=="boolean";function k(){e.SUPPORT_STICKY=!1}e.disableSticky=k;function H(){e.SUPPORT_STICKY=!0}e.enableSticky=H;function O(w,x){x=(0,_.default)(x,{useSticky:e.SUPPORT_STICKY,debug:!1,safeMode:!1,positionTracking:"full",lineTerminatorCharacters:["\r",`
`],tracer:function(ce,Y){return Y()}});var B=x.tracer;B("initCharCodeToOptimizedIndexMap",function(){Be()});var W;B("Reject Lexer.NA",function(){W=(0,h.default)(w,function(ce){return ce[P]===a.Lexer.NA})});var j=!1,X;B("Transform Patterns",function(){j=!1,X=(0,T.default)(W,function(ce){var Y=ce[P];if((0,v.default)(Y)){var Se=Y.source;return Se.length===1&&Se!=="^"&&Se!=="$"&&Se!=="."&&!Y.ignoreCase?Se:Se.length===2&&Se[0]==="\\"&&!(0,m.default)(["d","D","s","S","t","r","n","t","0","c","b","B","f","v","w","W"],Se[1])?Se[1]:x.useSticky?Z(Y):q(Y)}else{if((0,R.default)(Y))return j=!0,{exec:Y};if(typeof Y=="object")return j=!0,Y;if(typeof Y=="string"){if(Y.length===1)return Y;var Yt=Y.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),Rr=new RegExp(Yt);return x.useSticky?Z(Rr):q(Rr)}else throw Error("non exhaustive match")}})});var ne,ye,Re,be,ft;B("misc mapping",function(){ne=(0,T.default)(W,function(ce){return ce.tokenTypeIdx}),ye=(0,T.default)(W,function(ce){var Y=ce.GROUP;if(Y!==a.Lexer.SKIPPED){if((0,A.default)(Y))return Y;if((0,S.default)(Y))return!1;throw Error("non exhaustive match")}}),Re=(0,T.default)(W,function(ce){var Y=ce.LONGER_ALT;if(Y){var Se=(0,c.default)(Y)?(0,T.default)(Y,function(Yt){return(0,b.default)(W,Yt)}):[(0,b.default)(W,Y)];return Se}}),be=(0,T.default)(W,function(ce){return ce.PUSH_MODE}),ft=(0,T.default)(W,function(ce){return(0,E.default)(ce,"POP_MODE")})});var rt;B("Line Terminator Handling",function(){var ce=Pe(x.lineTerminatorCharacters);rt=(0,T.default)(W,function(Y){return!1}),x.positionTracking!=="onlyOffset"&&(rt=(0,T.default)(W,function(Y){return(0,E.default)(Y,"LINE_BREAKS")?!!Y.LINE_BREAKS:Te(Y,ce)===!1&&(0,N.canMatchCharCode)(ce,Y.PATTERN)}))});var Lt,Ht,zt,Ke;B("Misc Mapping #2",function(){Lt=(0,T.default)(W,re),Ht=(0,T.default)(X,de),zt=(0,s.default)(W,function(ce,Y){var Se=Y.GROUP;return(0,A.default)(Se)&&Se!==a.Lexer.SKIPPED&&(ce[Se]=[]),ce},{}),Ke=(0,T.default)(X,function(ce,Y){return{pattern:X[Y],longerAlt:Re[Y],canLineTerminator:rt[Y],isCustom:Lt[Y],short:Ht[Y],group:ye[Y],push:be[Y],pop:ft[Y],tokenTypeIdx:ne[Y],tokenType:W[Y]}})});var dt=!0,ke=[];return x.safeMode||B("First Char Optimization",function(){ke=(0,s.default)(W,function(ce,Y,Se){if(typeof Y.PATTERN=="string"){var Yt=Y.PATTERN.charCodeAt(0),Rr=lt(Yt);Fe(ce,Rr,Ke[Se])}else if((0,c.default)(Y.START_CHARS_HINT)){var Ma;(0,l.default)(Y.START_CHARS_HINT,function(qt){var qs=typeof qt=="string"?qt.charCodeAt(0):qt,Tn=lt(qs);Ma!==Tn&&(Ma=Tn,Fe(ce,Tn,Ke[Se]))})}else if((0,v.default)(Y.PATTERN))if(Y.PATTERN.unicode)dt=!1,x.ensureOptimizations&&(0,I.PRINT_ERROR)("".concat(N.failedOptimizationPrefixMsg)+"	Unable to analyze < ".concat(Y.PATTERN.toString(),` > pattern.
`)+`	The regexp unicode flag is not currently supported by the regexp-to-ast library.
	This will disable the lexer's first char optimizations.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#UNICODE_OPTIMIZE`);else{var $a=(0,N.getOptimizedStartCodesIndices)(Y.PATTERN,x.ensureOptimizations);(0,f.default)($a)&&(dt=!1),(0,l.default)($a,function(qt){Fe(ce,qt,Ke[Se])})}else x.ensureOptimizations&&(0,I.PRINT_ERROR)("".concat(N.failedOptimizationPrefixMsg)+"	TokenType: <".concat(Y.name,`> is using a custom token pattern without providing <start_chars_hint> parameter.
`)+`	This will disable the lexer's first char optimizations.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#CUSTOM_OPTIMIZE`),dt=!1;return ce},[])}),{emptyGroups:zt,patternIdxToConfig:Ke,charCodeToPatternIdxToConfig:ke,hasCustom:j,canBeOptimized:dt}}e.analyzeTokenTypes=O;function F(w,x){var B=[],W=K(w);B=B.concat(W.errors);var j=V(W.valid),X=j.valid;return B=B.concat(j.errors),B=B.concat(C(X)),B=B.concat(ve(X)),B=B.concat(ge(X,x)),B=B.concat($(X)),B}e.validatePatterns=F;function C(w){var x=[],B=(0,p.default)(w,function(W){return(0,v.default)(W[P])});return x=x.concat(le(B)),x=x.concat(ue(B)),x=x.concat(J(B)),x=x.concat(pe(B)),x=x.concat(se(B)),x}function K(w){var x=(0,p.default)(w,function(j){return!(0,E.default)(j,P)}),B=(0,T.default)(x,function(j){return{message:"Token Type: ->"+j.name+"<- missing static 'PATTERN' property",type:a.LexerDefinitionErrorType.MISSING_PATTERN,tokenTypes:[j]}}),W=(0,g.default)(w,x);return{errors:B,valid:W}}e.findMissingPatterns=K;function V(w){var x=(0,p.default)(w,function(j){var X=j[P];return!(0,v.default)(X)&&!(0,R.default)(X)&&!(0,E.default)(X,"exec")&&!(0,A.default)(X)}),B=(0,T.default)(x,function(j){return{message:"Token Type: ->"+j.name+"<- static 'PATTERN' can only be a RegExp, a Function matching the {CustomPatternMatcherFunc} type or an Object matching the {ICustomPattern} interface.",type:a.LexerDefinitionErrorType.INVALID_PATTERN,tokenTypes:[j]}}),W=(0,g.default)(w,x);return{errors:B,valid:W}}e.findInvalidPatterns=V;var z=/[^\\][$]/;function le(w){var x=function(j){t(X,j);function X(){var ne=j!==null&&j.apply(this,arguments)||this;return ne.found=!1,ne}return X.prototype.visitEndAnchor=function(ne){this.found=!0},X}(n.BaseRegExpVisitor),B=(0,p.default)(w,function(j){var X=j.PATTERN;try{var ne=(0,G.getRegExpAst)(X),ye=new x;return ye.visit(ne),ye.found}catch{return z.test(X.source)}}),W=(0,T.default)(B,function(j){return{message:`Unexpected RegExp Anchor Error:
	Token Type: ->`+j.name+`<- static 'PATTERN' cannot contain end of input anchor '$'
	See chevrotain.io/docs/guide/resolving_lexer_errors.html#ANCHORS	for details.`,type:a.LexerDefinitionErrorType.EOI_ANCHOR_FOUND,tokenTypes:[j]}});return W}e.findEndOfInputAnchor=le;function se(w){var x=(0,p.default)(w,function(W){var j=W.PATTERN;return j.test("")}),B=(0,T.default)(x,function(W){return{message:"Token Type: ->"+W.name+"<- static 'PATTERN' must not match an empty string",type:a.LexerDefinitionErrorType.EMPTY_MATCH_PATTERN,tokenTypes:[W]}});return B}e.findEmptyMatchRegExps=se;var ae=/[^\\[][\^]|^\^/;function ue(w){var x=function(j){t(X,j);function X(){var ne=j!==null&&j.apply(this,arguments)||this;return ne.found=!1,ne}return X.prototype.visitStartAnchor=function(ne){this.found=!0},X}(n.BaseRegExpVisitor),B=(0,p.default)(w,function(j){var X=j.PATTERN;try{var ne=(0,G.getRegExpAst)(X),ye=new x;return ye.visit(ne),ye.found}catch{return ae.test(X.source)}}),W=(0,T.default)(B,function(j){return{message:`Unexpected RegExp Anchor Error:
	Token Type: ->`+j.name+`<- static 'PATTERN' cannot contain start of input anchor '^'
	See https://chevrotain.io/docs/guide/resolving_lexer_errors.html#ANCHORS	for details.`,type:a.LexerDefinitionErrorType.SOI_ANCHOR_FOUND,tokenTypes:[j]}});return W}e.findStartOfInputAnchor=ue;function J(w){var x=(0,p.default)(w,function(W){var j=W[P];return j instanceof RegExp&&(j.multiline||j.global)}),B=(0,T.default)(x,function(W){return{message:"Token Type: ->"+W.name+"<- static 'PATTERN' may NOT contain global('g') or multiline('m')",type:a.LexerDefinitionErrorType.UNSUPPORTED_FLAGS_FOUND,tokenTypes:[W]}});return B}e.findUnsupportedFlags=J;function pe(w){var x=[],B=(0,T.default)(w,function(X){return(0,s.default)(w,function(ne,ye){return X.PATTERN.source===ye.PATTERN.source&&!(0,m.default)(x,ye)&&ye.PATTERN!==a.Lexer.NA&&(x.push(ye),ne.push(ye)),ne},[])});B=(0,d.default)(B);var W=(0,p.default)(B,function(X){return X.length>1}),j=(0,T.default)(W,function(X){var ne=(0,T.default)(X,function(Re){return Re.name}),ye=(0,o.default)(X).PATTERN;return{message:"The same RegExp pattern ->".concat(ye,"<-")+"has been used in all of the following Token Types: ".concat(ne.join(", ")," <-"),type:a.LexerDefinitionErrorType.DUPLICATE_PATTERNS_FOUND,tokenTypes:X}});return j}e.findDuplicatePatterns=pe;function ve(w){var x=(0,p.default)(w,function(W){if(!(0,E.default)(W,"GROUP"))return!1;var j=W.GROUP;return j!==a.Lexer.SKIPPED&&j!==a.Lexer.NA&&!(0,A.default)(j)}),B=(0,T.default)(x,function(W){return{message:"Token Type: ->"+W.name+"<- static 'GROUP' can only be Lexer.SKIPPED/Lexer.NA/A String",type:a.LexerDefinitionErrorType.INVALID_GROUP_TYPE_FOUND,tokenTypes:[W]}});return B}e.findInvalidGroupType=ve;function ge(w,x){var B=(0,p.default)(w,function(j){return j.PUSH_MODE!==void 0&&!(0,m.default)(x,j.PUSH_MODE)}),W=(0,T.default)(B,function(j){var X="Token Type: ->".concat(j.name,"<- static 'PUSH_MODE' value cannot refer to a Lexer Mode ->").concat(j.PUSH_MODE,"<-")+"which does not exist";return{message:X,type:a.LexerDefinitionErrorType.PUSH_MODE_DOES_NOT_EXIST,tokenTypes:[j]}});return W}e.findModesThatDoNotExist=ge;function $(w){var x=[],B=(0,s.default)(w,function(W,j,X){var ne=j.PATTERN;return ne===a.Lexer.NA||((0,A.default)(ne)?W.push({str:ne,idx:X,tokenType:j}):(0,v.default)(ne)&&M(ne)&&W.push({str:ne.source,idx:X,tokenType:j})),W},[]);return(0,l.default)(w,function(W,j){(0,l.default)(B,function(X){var ne=X.str,ye=X.idx,Re=X.tokenType;if(j<ye&&U(ne,W.PATTERN)){var be="Token: ->".concat(Re.name,`<- can never be matched.
`)+"Because it appears AFTER the Token Type ->".concat(W.name,"<-")+`in the lexer's definition.
See https://chevrotain.io/docs/guide/resolving_lexer_errors.html#UNREACHABLE`;x.push({message:be,type:a.LexerDefinitionErrorType.UNREACHABLE_PATTERN,tokenTypes:[W,Re]})}})}),x}e.findUnreachablePatterns=$;function U(w,x){if((0,v.default)(x)){var B=x.exec(w);return B!==null&&B.index===0}else{if((0,R.default)(x))return x(w,0,[],{});if((0,E.default)(x,"exec"))return x.exec(w,0,[],{});if(typeof x=="string")return x===w;throw Error("non exhaustive match")}}function M(w){var x=[".","\\","[","]","|","^","$","(",")","?","*","+","{"];return(0,L.default)(x,function(B){return w.source.indexOf(B)!==-1})===void 0}function q(w){var x=w.ignoreCase?"i":"";return new RegExp("^(?:".concat(w.source,")"),x)}e.addStartOfInput=q;function Z(w){var x=w.ignoreCase?"iy":"y";return new RegExp("".concat(w.source),x)}e.addStickyFlag=Z;function Q(w,x,B){var W=[];return(0,E.default)(w,e.DEFAULT_MODE)||W.push({message:"A MultiMode Lexer cannot be initialized without a <"+e.DEFAULT_MODE+`> property in its definition
`,type:a.LexerDefinitionErrorType.MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE}),(0,E.default)(w,e.MODES)||W.push({message:"A MultiMode Lexer cannot be initialized without a <"+e.MODES+`> property in its definition
`,type:a.LexerDefinitionErrorType.MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY}),(0,E.default)(w,e.MODES)&&(0,E.default)(w,e.DEFAULT_MODE)&&!(0,E.default)(w.modes,w.defaultMode)&&W.push({message:"A MultiMode Lexer cannot be initialized with a ".concat(e.DEFAULT_MODE,": <").concat(w.defaultMode,">")+`which does not exist
`,type:a.LexerDefinitionErrorType.MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST}),(0,E.default)(w,e.MODES)&&(0,l.default)(w.modes,function(j,X){(0,l.default)(j,function(ne,ye){if((0,S.default)(ne))W.push({message:"A Lexer cannot be initialized using an undefined Token Type. Mode:"+"<".concat(X,"> at index: <").concat(ye,`>
`),type:a.LexerDefinitionErrorType.LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED});else if((0,E.default)(ne,"LONGER_ALT")){var Re=(0,c.default)(ne.LONGER_ALT)?ne.LONGER_ALT:[ne.LONGER_ALT];(0,l.default)(Re,function(be){!(0,S.default)(be)&&!(0,m.default)(j,be)&&W.push({message:"A MultiMode Lexer cannot be initialized with a longer_alt <".concat(be.name,"> on token <").concat(ne.name,"> outside of mode <").concat(X,`>
`),type:a.LexerDefinitionErrorType.MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE})})}})}),W}e.performRuntimeChecks=Q;function te(w,x,B){var W=[],j=!1,X=(0,d.default)((0,i.default)((0,u.default)(w.modes))),ne=(0,h.default)(X,function(Re){return Re[P]===a.Lexer.NA}),ye=Pe(B);return x&&(0,l.default)(ne,function(Re){var be=Te(Re,ye);if(be!==!1){var ft=Oe(Re,be),rt={message:ft,type:be.issue,tokenType:Re};W.push(rt)}else(0,E.default)(Re,"LINE_BREAKS")?Re.LINE_BREAKS===!0&&(j=!0):(0,N.canMatchCharCode)(ye,Re.PATTERN)&&(j=!0)}),x&&!j&&W.push({message:`Warning: No LINE_BREAKS Found.
	This Lexer has been defined to track line and column information,
	But none of the Token Types can be identified as matching a line terminator.
	See https://chevrotain.io/docs/guide/resolving_lexer_errors.html#LINE_BREAKS 
	for details.`,type:a.LexerDefinitionErrorType.NO_LINE_BREAKS_FLAGS}),W}e.performWarningRuntimeChecks=te;function ee(w){var x={},B=(0,y.default)(w);return(0,l.default)(B,function(W){var j=w[W];if((0,c.default)(j))x[W]=[];else throw Error("non exhaustive match")}),x}e.cloneEmptyGroups=ee;function re(w){var x=w.PATTERN;if((0,v.default)(x))return!1;if((0,R.default)(x))return!0;if((0,E.default)(x,"exec"))return!0;if((0,A.default)(x))return!1;throw Error("non exhaustive match")}e.isCustomPattern=re;function de(w){return(0,A.default)(w)&&w.length===1?w.charCodeAt(0):!1}e.isShortPattern=de,e.LineTerminatorOptimizedTester={test:function(w){for(var x=w.length,B=this.lastIndex;B<x;B++){var W=w.charCodeAt(B);if(W===10)return this.lastIndex=B+1,!0;if(W===13)return w.charCodeAt(B+1)===10?this.lastIndex=B+2:this.lastIndex=B+1,!0}return!1},lastIndex:0};function Te(w,x){if((0,E.default)(w,"LINE_BREAKS"))return!1;if((0,v.default)(w.PATTERN)){try{(0,N.canMatchCharCode)(x,w.PATTERN)}catch(B){return{issue:a.LexerDefinitionErrorType.IDENTIFY_TERMINATOR,errMsg:B.message}}return!1}else{if((0,A.default)(w.PATTERN))return!1;if(re(w))return{issue:a.LexerDefinitionErrorType.CUSTOM_LINE_BREAK};throw Error("non exhaustive match")}}function Oe(w,x){if(x.issue===a.LexerDefinitionErrorType.IDENTIFY_TERMINATOR)return`Warning: unable to identify line terminator usage in pattern.
`+"	The problem is in the <".concat(w.name,`> Token Type
`)+"	 Root cause: ".concat(x.errMsg,`.
`)+"	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#IDENTIFY_TERMINATOR";if(x.issue===a.LexerDefinitionErrorType.CUSTOM_LINE_BREAK)return`Warning: A Custom Token Pattern should specify the <line_breaks> option.
`+"	The problem is in the <".concat(w.name,`> Token Type
`)+"	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#CUSTOM_LINE_BREAK";throw Error("non exhaustive match")}e.buildLineBreakIssueMessage=Oe;function Pe(w){var x=(0,T.default)(w,function(B){return(0,A.default)(B)?B.charCodeAt(0):B});return x}function Fe(w,x,B){w[x]===void 0?w[x]=[B]:w[x].push(B)}e.minOptimizationVal=256;var ct=[];function lt(w){return w<e.minOptimizationVal?w:ct[w]}e.charCodeToOptimizedIndex=lt;function Be(){if((0,f.default)(ct)){ct=new Array(65536);for(var w=0;w<65536;w++)ct[w]=w>255?255+~~(w/255):w}}}(Ln)),Ln}function IR(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var La=IR,It={};(function(e){var t=D&&D.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(e,"__esModule",{value:!0}),e.isTokenType=e.hasExtendingTokensTypesMapProperty=e.hasExtendingTokensTypesProperty=e.hasCategoriesProperty=e.hasShortKeyProperty=e.singleAssignCategoriesToksMap=e.assignCategoriesMapProp=e.assignCategoriesTokensProp=e.assignTokenDefaultProps=e.expandCategories=e.augmentTokenTypes=e.tokenIdxToClass=e.tokenShortNameIdx=e.tokenStructuredMatcherNoCategories=e.tokenStructuredMatcher=void 0;var r=t(He),n=t(nn),a=t(me),o=t(ut),f=t(Ia),d=t(Ue),c=t($e),u=t(We),i=t(vt),h=t(pt);function g(s,m){var I=s.tokenTypeIdx;return I===m.tokenTypeIdx?!0:m.isParent===!0&&m.categoryMatchesMap[I]===!0}e.tokenStructuredMatcher=g;function b(s,m){return s.tokenTypeIdx===m.tokenTypeIdx}e.tokenStructuredMatcherNoCategories=b,e.tokenShortNameIdx=1,e.tokenIdxToClass={};function T(s){var m=l(s);A(m),S(m),R(m),(0,c.default)(m,function(I){I.isParent=I.categoryMatches.length>0})}e.augmentTokenTypes=T;function l(s){for(var m=(0,h.default)(s),I=s,N=!0;N;){I=(0,n.default)((0,o.default)((0,d.default)(I,function(P){return P.CATEGORIES})));var G=(0,f.default)(I,m);m=m.concat(G),(0,r.default)(G)?N=!1:I=G}return m}e.expandCategories=l;function A(s){(0,c.default)(s,function(m){E(m)||(e.tokenIdxToClass[e.tokenShortNameIdx]=m,m.tokenTypeIdx=e.tokenShortNameIdx++),y(m)&&!(0,a.default)(m.CATEGORIES)&&(m.CATEGORIES=[m.CATEGORIES]),y(m)||(m.CATEGORIES=[]),v(m)||(m.categoryMatches=[]),p(m)||(m.categoryMatchesMap={})})}e.assignTokenDefaultProps=A;function R(s){(0,c.default)(s,function(m){m.categoryMatches=[],(0,c.default)(m.categoryMatchesMap,function(I,N){m.categoryMatches.push(e.tokenIdxToClass[N].tokenTypeIdx)})})}e.assignCategoriesTokensProp=R;function S(s){(0,c.default)(s,function(m){L([],m)})}e.assignCategoriesMapProp=S;function L(s,m){(0,c.default)(s,function(I){m.categoryMatchesMap[I.tokenTypeIdx]=!0}),(0,c.default)(m.CATEGORIES,function(I){var N=s.concat(m);(0,i.default)(N,I)||L(N,I)})}e.singleAssignCategoriesToksMap=L;function E(s){return(0,u.default)(s,"tokenTypeIdx")}e.hasShortKeyProperty=E;function y(s){return(0,u.default)(s,"CATEGORIES")}e.hasCategoriesProperty=y;function v(s){return(0,u.default)(s,"categoryMatches")}e.hasExtendingTokensTypesProperty=v;function p(s){return(0,u.default)(s,"categoryMatchesMap")}e.hasExtendingTokensTypesMapProperty=p;function _(s){return(0,u.default)(s,"tokenTypeIdx")}e.isTokenType=_})(It);var Tr={};Object.defineProperty(Tr,"__esModule",{value:!0});Tr.defaultLexerErrorProvider=void 0;Tr.defaultLexerErrorProvider={buildUnableToPopLexerModeMessage:function(e){return"Unable to pop Lexer Mode after encountering Token ->".concat(e.image,"<- The Mode Stack is empty")},buildUnexpectedCharactersMessage:function(e,t,r,n,a){return"unexpected character: ->".concat(e.charAt(t),"<- at offset: ").concat(t,",")+" skipped ".concat(r," characters.")}};var Ci;function an(){return Ci||(Ci=1,function(e){var t=D&&D.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};Object.defineProperty(e,"__esModule",{value:!0}),e.Lexer=e.LexerDefinitionErrorType=void 0;var r=as(),n=t(Ea),a=t(He),o=t(me),f=t(La),d=t(Ra),c=t(Ue),u=t($e),i=t(je),h=t(Gt),g=t(_r),b=t(Qr),T=t(Rt),l=t(pt),A=Dt,R=It,S=Tr,L=ht;(function(v){v[v.MISSING_PATTERN=0]="MISSING_PATTERN",v[v.INVALID_PATTERN=1]="INVALID_PATTERN",v[v.EOI_ANCHOR_FOUND=2]="EOI_ANCHOR_FOUND",v[v.UNSUPPORTED_FLAGS_FOUND=3]="UNSUPPORTED_FLAGS_FOUND",v[v.DUPLICATE_PATTERNS_FOUND=4]="DUPLICATE_PATTERNS_FOUND",v[v.INVALID_GROUP_TYPE_FOUND=5]="INVALID_GROUP_TYPE_FOUND",v[v.PUSH_MODE_DOES_NOT_EXIST=6]="PUSH_MODE_DOES_NOT_EXIST",v[v.MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE=7]="MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE",v[v.MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY=8]="MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY",v[v.MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST=9]="MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST",v[v.LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED=10]="LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED",v[v.SOI_ANCHOR_FOUND=11]="SOI_ANCHOR_FOUND",v[v.EMPTY_MATCH_PATTERN=12]="EMPTY_MATCH_PATTERN",v[v.NO_LINE_BREAKS_FLAGS=13]="NO_LINE_BREAKS_FLAGS",v[v.UNREACHABLE_PATTERN=14]="UNREACHABLE_PATTERN",v[v.IDENTIFY_TERMINATOR=15]="IDENTIFY_TERMINATOR",v[v.CUSTOM_LINE_BREAK=16]="CUSTOM_LINE_BREAK",v[v.MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE=17]="MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE"})(e.LexerDefinitionErrorType||(e.LexerDefinitionErrorType={}));var E={deferDefinitionErrorsHandling:!1,positionTracking:"full",lineTerminatorsPattern:/\n|\r\n?/g,lineTerminatorCharacters:[`
`,"\r"],ensureOptimizations:!1,safeMode:!1,errorMessageProvider:S.defaultLexerErrorProvider,traceInitPerf:!1,skipValidations:!1,recoveryEnabled:!0};Object.freeze(E);var y=function(){function v(p,_){_===void 0&&(_=E);var s=this;if(this.lexerDefinition=p,this.lexerDefinitionErrors=[],this.lexerDefinitionWarning=[],this.patternIdxToConfig={},this.charCodeToPatternIdxToConfig={},this.modes=[],this.emptyGroups={},this.trackStartLines=!0,this.trackEndLines=!0,this.hasCustom=!1,this.canModeBeOptimized={},this.TRACE_INIT=function(I,N){if(s.traceInitPerf===!0){s.traceInitIndent++;var G=new Array(s.traceInitIndent+1).join("	");s.traceInitIndent<s.traceInitMaxIdent&&console.log("".concat(G,"--> <").concat(I,">"));var P=(0,A.timer)(N),k=P.time,H=P.value,O=k>10?console.warn:console.log;return s.traceInitIndent<s.traceInitMaxIdent&&O("".concat(G,"<-- <").concat(I,"> time: ").concat(k,"ms")),s.traceInitIndent--,H}else return N()},typeof _=="boolean")throw Error(`The second argument to the Lexer constructor is now an ILexerConfig Object.
a boolean 2nd argument is no longer supported`);this.config=(0,b.default)({},E,_);var m=this.config.traceInitPerf;m===!0?(this.traceInitMaxIdent=1/0,this.traceInitPerf=!0):typeof m=="number"&&(this.traceInitMaxIdent=m,this.traceInitPerf=!0),this.traceInitIndent=-1,this.TRACE_INIT("Lexer Constructor",function(){var I,N=!0;s.TRACE_INIT("Lexer Config handling",function(){if(s.config.lineTerminatorsPattern===E.lineTerminatorsPattern)s.config.lineTerminatorsPattern=r.LineTerminatorOptimizedTester;else if(s.config.lineTerminatorCharacters===E.lineTerminatorCharacters)throw Error(`Error: Missing <lineTerminatorCharacters> property on the Lexer config.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#MISSING_LINE_TERM_CHARS`);if(_.safeMode&&_.ensureOptimizations)throw Error('"safeMode" and "ensureOptimizations" flags are mutually exclusive.');s.trackStartLines=/full|onlyStart/i.test(s.config.positionTracking),s.trackEndLines=/full/i.test(s.config.positionTracking),(0,o.default)(p)?I={modes:{defaultMode:(0,l.default)(p)},defaultMode:r.DEFAULT_MODE}:(N=!1,I=(0,l.default)(p))}),s.config.skipValidations===!1&&(s.TRACE_INIT("performRuntimeChecks",function(){s.lexerDefinitionErrors=s.lexerDefinitionErrors.concat((0,r.performRuntimeChecks)(I,s.trackStartLines,s.config.lineTerminatorCharacters))}),s.TRACE_INIT("performWarningRuntimeChecks",function(){s.lexerDefinitionWarning=s.lexerDefinitionWarning.concat((0,r.performWarningRuntimeChecks)(I,s.trackStartLines,s.config.lineTerminatorCharacters))})),I.modes=I.modes?I.modes:{},(0,u.default)(I.modes,function(H,O){I.modes[O]=(0,d.default)(H,function(F){return(0,h.default)(F)})});var G=(0,i.default)(I.modes);if((0,u.default)(I.modes,function(H,O){s.TRACE_INIT("Mode: <".concat(O,"> processing"),function(){if(s.modes.push(O),s.config.skipValidations===!1&&s.TRACE_INIT("validatePatterns",function(){s.lexerDefinitionErrors=s.lexerDefinitionErrors.concat((0,r.validatePatterns)(H,G))}),(0,a.default)(s.lexerDefinitionErrors)){(0,R.augmentTokenTypes)(H);var F;s.TRACE_INIT("analyzeTokenTypes",function(){F=(0,r.analyzeTokenTypes)(H,{lineTerminatorCharacters:s.config.lineTerminatorCharacters,positionTracking:_.positionTracking,ensureOptimizations:_.ensureOptimizations,safeMode:_.safeMode,tracer:s.TRACE_INIT})}),s.patternIdxToConfig[O]=F.patternIdxToConfig,s.charCodeToPatternIdxToConfig[O]=F.charCodeToPatternIdxToConfig,s.emptyGroups=(0,b.default)({},s.emptyGroups,F.emptyGroups),s.hasCustom=F.hasCustom||s.hasCustom,s.canModeBeOptimized[O]=F.canBeOptimized}})}),s.defaultMode=I.defaultMode,!(0,a.default)(s.lexerDefinitionErrors)&&!s.config.deferDefinitionErrorsHandling){var P=(0,c.default)(s.lexerDefinitionErrors,function(H){return H.message}),k=P.join(`-----------------------
`);throw new Error(`Errors detected in definition of Lexer:
`+k)}(0,u.default)(s.lexerDefinitionWarning,function(H){(0,A.PRINT_WARNING)(H.message)}),s.TRACE_INIT("Choosing sub-methods implementations",function(){if(r.SUPPORT_STICKY?(s.chopInput=g.default,s.match=s.matchWithTest):(s.updateLastIndex=n.default,s.match=s.matchWithExec),N&&(s.handleModes=n.default),s.trackStartLines===!1&&(s.computeNewColumn=g.default),s.trackEndLines===!1&&(s.updateTokenEndLineColumnLocation=n.default),/full/i.test(s.config.positionTracking))s.createTokenInstance=s.createFullToken;else if(/onlyStart/i.test(s.config.positionTracking))s.createTokenInstance=s.createStartOnlyToken;else if(/onlyOffset/i.test(s.config.positionTracking))s.createTokenInstance=s.createOffsetOnlyToken;else throw Error('Invalid <positionTracking> config option: "'.concat(s.config.positionTracking,'"'));s.hasCustom?(s.addToken=s.addTokenUsingPush,s.handlePayload=s.handlePayloadWithCustom):(s.addToken=s.addTokenUsingMemberAccess,s.handlePayload=s.handlePayloadNoCustom)}),s.TRACE_INIT("Failed Optimization Warnings",function(){var H=(0,T.default)(s.canModeBeOptimized,function(O,F,C){return F===!1&&O.push(C),O},[]);if(_.ensureOptimizations&&!(0,a.default)(H))throw Error("Lexer Modes: < ".concat(H.join(", "),` > cannot be optimized.
`)+`	 Disable the "ensureOptimizations" lexer config flag to silently ignore this and run the lexer in an un-optimized mode.
	 Or inspect the console log for details on how to resolve these issues.`)}),s.TRACE_INIT("clearRegExpParserCache",function(){(0,L.clearRegExpParserCache)()}),s.TRACE_INIT("toFastProperties",function(){(0,A.toFastProperties)(s)})})}return v.prototype.tokenize=function(p,_){if(_===void 0&&(_=this.defaultMode),!(0,a.default)(this.lexerDefinitionErrors)){var s=(0,c.default)(this.lexerDefinitionErrors,function(I){return I.message}),m=s.join(`-----------------------
`);throw new Error(`Unable to Tokenize because Errors detected in definition of Lexer:
`+m)}return this.tokenizeInternal(p,_)},v.prototype.tokenizeInternal=function(p,_){var s=this,m,I,N,G,P,k,H,O,F,C,K,V,z,le,se,ae=p,ue=ae.length,J=0,pe=0,ve=this.hasCustom?0:Math.floor(p.length/10),ge=new Array(ve),$=[],U=this.trackStartLines?1:void 0,M=this.trackStartLines?1:void 0,q=(0,r.cloneEmptyGroups)(this.emptyGroups),Z=this.trackStartLines,Q=this.config.lineTerminatorsPattern,te=0,ee=[],re=[],de=[],Te=[];Object.freeze(Te);var Oe;function Pe(){return ee}function Fe(ke){var ce=(0,r.charCodeToOptimizedIndex)(ke),Y=re[ce];return Y===void 0?Te:Y}var ct=function(ke){if(de.length===1&&ke.tokenType.PUSH_MODE===void 0){var ce=s.config.errorMessageProvider.buildUnableToPopLexerModeMessage(ke);$.push({offset:ke.startOffset,line:ke.startLine,column:ke.startColumn,length:ke.image.length,message:ce})}else{de.pop();var Y=(0,f.default)(de);ee=s.patternIdxToConfig[Y],re=s.charCodeToPatternIdxToConfig[Y],te=ee.length;var Se=s.canModeBeOptimized[Y]&&s.config.safeMode===!1;re&&Se?Oe=Fe:Oe=Pe}};function lt(ke){de.push(ke),re=this.charCodeToPatternIdxToConfig[ke],ee=this.patternIdxToConfig[ke],te=ee.length,te=ee.length;var ce=this.canModeBeOptimized[ke]&&this.config.safeMode===!1;re&&ce?Oe=Fe:Oe=Pe}lt.call(this,_);for(var Be,w=this.config.recoveryEnabled;J<ue;){k=null;var x=ae.charCodeAt(J),B=Oe(x),W=B.length;for(m=0;m<W;m++){Be=B[m];var j=Be.pattern;H=null;var X=Be.short;if(X!==!1?x===X&&(k=j):Be.isCustom===!0?(se=j.exec(ae,J,ge,q),se!==null?(k=se[0],se.payload!==void 0&&(H=se.payload)):k=null):(this.updateLastIndex(j,J),k=this.match(j,p,J)),k!==null){if(P=Be.longerAlt,P!==void 0){var ne=P.length;for(N=0;N<ne;N++){var ye=ee[P[N]],Re=ye.pattern;if(O=null,ye.isCustom===!0?(se=Re.exec(ae,J,ge,q),se!==null?(G=se[0],se.payload!==void 0&&(O=se.payload)):G=null):(this.updateLastIndex(Re,J),G=this.match(Re,p,J)),G&&G.length>k.length){k=G,H=O,Be=ye;break}}}break}}if(k!==null){if(F=k.length,C=Be.group,C!==void 0&&(K=Be.tokenTypeIdx,V=this.createTokenInstance(k,J,K,Be.tokenType,U,M,F),this.handlePayload(V,H),C===!1?pe=this.addToken(ge,pe,V):q[C].push(V)),p=this.chopInput(p,F),J=J+F,M=this.computeNewColumn(M,F),Z===!0&&Be.canLineTerminator===!0){var be=0,ft=void 0,rt=void 0;Q.lastIndex=0;do ft=Q.test(k),ft===!0&&(rt=Q.lastIndex-1,be++);while(ft===!0);be!==0&&(U=U+be,M=F-rt,this.updateTokenEndLineColumnLocation(V,C,rt,be,U,M,F))}this.handleModes(Be,ct,lt,V)}else{for(var Lt=J,Ht=U,zt=M,Ke=w===!1;Ke===!1&&J<ue;)for(p=this.chopInput(p,1),J++,I=0;I<te;I++){var dt=ee[I],j=dt.pattern,X=dt.short;if(X!==!1?ae.charCodeAt(J)===X&&(Ke=!0):dt.isCustom===!0?Ke=j.exec(ae,J,ge,q)!==null:(this.updateLastIndex(j,J),Ke=j.exec(p)!==null),Ke===!0)break}if(z=J-Lt,le=this.config.errorMessageProvider.buildUnexpectedCharactersMessage(ae,Lt,z,Ht,zt),$.push({offset:Lt,line:Ht,column:zt,length:z,message:le}),w===!1)break}}return this.hasCustom||(ge.length=pe),{tokens:ge,groups:q,errors:$}},v.prototype.handleModes=function(p,_,s,m){if(p.pop===!0){var I=p.push;_(m),I!==void 0&&s.call(this,I)}else p.push!==void 0&&s.call(this,p.push)},v.prototype.chopInput=function(p,_){return p.substring(_)},v.prototype.updateLastIndex=function(p,_){p.lastIndex=_},v.prototype.updateTokenEndLineColumnLocation=function(p,_,s,m,I,N,G){var P,k;_!==void 0&&(P=s===G-1,k=P?-1:0,m===1&&P===!0||(p.endLine=I+k,p.endColumn=N-1+-k))},v.prototype.computeNewColumn=function(p,_){return p+_},v.prototype.createOffsetOnlyToken=function(p,_,s,m){return{image:p,startOffset:_,tokenTypeIdx:s,tokenType:m}},v.prototype.createStartOnlyToken=function(p,_,s,m,I,N){return{image:p,startOffset:_,startLine:I,startColumn:N,tokenTypeIdx:s,tokenType:m}},v.prototype.createFullToken=function(p,_,s,m,I,N,G){return{image:p,startOffset:_,endOffset:_+G-1,startLine:I,endLine:I,startColumn:N,endColumn:N+G-1,tokenTypeIdx:s,tokenType:m}},v.prototype.addTokenUsingPush=function(p,_,s){return p.push(s),_},v.prototype.addTokenUsingMemberAccess=function(p,_,s){return p[_]=s,_++,_},v.prototype.handlePayloadNoCustom=function(p,_){},v.prototype.handlePayloadWithCustom=function(p,_){_!==null&&(p.payload=_)},v.prototype.matchWithTest=function(p,_,s){var m=p.test(_);return m===!0?_.substring(s,p.lastIndex):null},v.prototype.matchWithExec=function(p,_){var s=p.exec(_);return s!==null?s[0]:null},v.SKIPPED="This marks a skipped Token pattern, this means each token identified by it willbe consumed and then thrown into oblivion, this can be used to for example to completely ignore whitespace.",v.NA=/NOT_APPLICABLE/,v}();e.Lexer=y}(Sn)),Sn}(function(e){var t=D&&D.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(e,"__esModule",{value:!0}),e.tokenMatcher=e.createTokenInstance=e.EOF=e.createToken=e.hasTokenLabel=e.tokenName=e.tokenLabel=void 0;var r=t(Zr),n=t(We),a=t(Gt),o=an(),f=It;function d(p){return u(p)?p.LABEL:p.name}e.tokenLabel=d;function c(p){return p.name}e.tokenName=c;function u(p){return(0,r.default)(p.LABEL)&&p.LABEL!==""}e.hasTokenLabel=u;var i="parent",h="categories",g="label",b="group",T="push_mode",l="pop_mode",A="longer_alt",R="line_breaks",S="start_chars_hint";function L(p){return E(p)}e.createToken=L;function E(p){var _=p.pattern,s={};if(s.name=p.name,(0,a.default)(_)||(s.PATTERN=_),(0,n.default)(p,i))throw`The parent property is no longer supported.
See: https://github.com/chevrotain/chevrotain/issues/564#issuecomment-349062346 for details.`;return(0,n.default)(p,h)&&(s.CATEGORIES=p[h]),(0,f.augmentTokenTypes)([s]),(0,n.default)(p,g)&&(s.LABEL=p[g]),(0,n.default)(p,b)&&(s.GROUP=p[b]),(0,n.default)(p,l)&&(s.POP_MODE=p[l]),(0,n.default)(p,T)&&(s.PUSH_MODE=p[T]),(0,n.default)(p,A)&&(s.LONGER_ALT=p[A]),(0,n.default)(p,R)&&(s.LINE_BREAKS=p[R]),(0,n.default)(p,S)&&(s.START_CHARS_HINT=p[S]),s}e.EOF=L({name:"EOF",pattern:o.Lexer.NA}),(0,f.augmentTokenTypes)([e.EOF]);function y(p,_,s,m,I,N,G,P){return{image:_,startOffset:s,endOffset:m,startLine:I,endLine:N,startColumn:G,endColumn:P,tokenTypeIdx:p.tokenTypeIdx,tokenType:p}}e.createTokenInstance=y;function v(p,_){return(0,f.tokenStructuredMatcher)(p,_)}e.tokenMatcher=v})(Ot);var jt={};(function(e){var t=D&&D.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(e,"__esModule",{value:!0}),e.defaultGrammarValidatorErrorProvider=e.defaultGrammarResolverErrorProvider=e.defaultParserErrorProvider=void 0;var r=Ot,n=t(Er),a=t(Ue),o=t(Rt),f=Le,d=Le;e.defaultParserErrorProvider={buildMismatchTokenMessage:function(c){var u=c.expected,i=c.actual;c.previous,c.ruleName;var h=(0,r.hasTokenLabel)(u),g=h?"--> ".concat((0,r.tokenLabel)(u)," <--"):"token of type --> ".concat(u.name," <--"),b="Expecting ".concat(g," but found --> '").concat(i.image,"' <--");return b},buildNotAllInputParsedMessage:function(c){var u=c.firstRedundant;return c.ruleName,"Redundant input, expecting EOF but found: "+u.image},buildNoViableAltMessage:function(c){var u=c.expectedPathsPerAlt,i=c.actual;c.previous;var h=c.customUserDescription;c.ruleName;var g="Expecting: ",b=(0,n.default)(i).image,T=`
but found: '`+b+"'";if(h)return g+h+T;var l=(0,o.default)(u,function(L,E){return L.concat(E)},[]),A=(0,a.default)(l,function(L){return"[".concat((0,a.default)(L,function(E){return(0,r.tokenLabel)(E)}).join(", "),"]")}),R=(0,a.default)(A,function(L,E){return"  ".concat(E+1,". ").concat(L)}),S=`one of these possible Token sequences:
`.concat(R.join(`
`));return g+S+T},buildEarlyExitMessage:function(c){var u=c.expectedIterationPaths,i=c.actual,h=c.customUserDescription;c.ruleName;var g="Expecting: ",b=(0,n.default)(i).image,T=`
but found: '`+b+"'";if(h)return g+h+T;var l=(0,a.default)(u,function(R){return"[".concat((0,a.default)(R,function(S){return(0,r.tokenLabel)(S)}).join(","),"]")}),A=`expecting at least one iteration which starts with one of these possible Token sequences::
  `+"<".concat(l.join(" ,"),">");return g+A+T}},Object.freeze(e.defaultParserErrorProvider),e.defaultGrammarResolverErrorProvider={buildRuleNotFoundError:function(c,u){var i="Invalid grammar, reference to a rule which is not defined: ->"+u.nonTerminalName+`<-
inside top level rule: ->`+c.name+"<-";return i}},e.defaultGrammarValidatorErrorProvider={buildDuplicateFoundError:function(c,u){function i(S){return S instanceof f.Terminal?S.terminalType.name:S instanceof f.NonTerminal?S.nonTerminalName:""}var h=c.name,g=(0,n.default)(u),b=g.idx,T=(0,d.getProductionDslName)(g),l=i(g),A=b>0,R="->".concat(T).concat(A?b:"","<- ").concat(l?"with argument: ->".concat(l,"<-"):"",`
                  appears more than once (`).concat(u.length," times) in the top level rule: ->").concat(h,`<-.                  
                  For further details see: https://chevrotain.io/docs/FAQ.html#NUMERICAL_SUFFIXES 
                  `);return R=R.replace(/[ \t]+/g," "),R=R.replace(/\s\s+/g,`
`),R},buildNamespaceConflictError:function(c){var u=`Namespace conflict found in grammar.
`+"The grammar has both a Terminal(Token) and a Non-Terminal(Rule) named: <".concat(c.name,`>.
`)+`To resolve this make sure each Terminal and Non-Terminal names are unique
This is easy to accomplish by using the convention that Terminal names start with an uppercase letter
and Non-Terminal names start with a lower case letter.`;return u},buildAlternationPrefixAmbiguityError:function(c){var u=(0,a.default)(c.prefixPath,function(g){return(0,r.tokenLabel)(g)}).join(", "),i=c.alternation.idx===0?"":c.alternation.idx,h="Ambiguous alternatives: <".concat(c.ambiguityIndices.join(" ,"),`> due to common lookahead prefix
`)+"in <OR".concat(i,"> inside <").concat(c.topLevelRule.name,`> Rule,
`)+"<".concat(u,`> may appears as a prefix path in all these alternatives.
`)+`See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#COMMON_PREFIX
For Further details.`;return h},buildAlternationAmbiguityError:function(c){var u=(0,a.default)(c.prefixPath,function(g){return(0,r.tokenLabel)(g)}).join(", "),i=c.alternation.idx===0?"":c.alternation.idx,h="Ambiguous Alternatives Detected: <".concat(c.ambiguityIndices.join(" ,"),"> in <OR").concat(i,">")+" inside <".concat(c.topLevelRule.name,`> Rule,
`)+"<".concat(u,`> may appears as a prefix path in all these alternatives.
`);return h=h+`See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#AMBIGUOUS_ALTERNATIVES
For Further details.`,h},buildEmptyRepetitionError:function(c){var u=(0,d.getProductionDslName)(c.repetition);c.repetition.idx!==0&&(u+=c.repetition.idx);var i="The repetition <".concat(u,"> within Rule <").concat(c.topLevelRule.name,`> can never consume any tokens.
`)+"This could lead to an infinite loop.";return i},buildTokenNameError:function(c){return"deprecated"},buildEmptyAlternationError:function(c){var u="Ambiguous empty alternative: <".concat(c.emptyChoiceIdx+1,">")+" in <OR".concat(c.alternation.idx,"> inside <").concat(c.topLevelRule.name,`> Rule.
`)+"Only the last alternative may be an empty alternative.";return u},buildTooManyAlternativesError:function(c){var u=`An Alternation cannot have more than 256 alternatives:
`+"<OR".concat(c.alternation.idx,"> inside <").concat(c.topLevelRule.name,`> Rule.
 has `).concat(c.alternation.definition.length+1," alternatives.");return u},buildLeftRecursionError:function(c){var u=c.topLevelRule.name,i=(0,a.default)(c.leftRecursionPath,function(b){return b.name}),h="".concat(u," --> ").concat(i.concat([u]).join(" --> ")),g=`Left Recursion found in grammar.
`+"rule: <".concat(u,`> can be invoked from itself (directly or indirectly)
`)+`without consuming any Tokens. The grammar path that causes this is: 
 `.concat(h,`
`)+` To fix this refactor your grammar to remove the left recursion.
see: https://en.wikipedia.org/wiki/LL_parser#Left_factoring.`;return g},buildInvalidRuleNameError:function(c){return"deprecated"},buildDuplicateRuleNameError:function(c){var u;c.topLevelRule instanceof f.Rule?u=c.topLevelRule.name:u=c.topLevelRule;var i="Duplicate definition, rule: ->".concat(u,"<- is already defined in the grammar: ->").concat(c.grammarName,"<-");return i}}})(jt);var _t={},mt={},ki;function NR(){if(ki)return mt;ki=1;var e=D&&D.__extends||function(){var c=function(u,i){return c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,g){h.__proto__=g}||function(h,g){for(var b in g)Object.prototype.hasOwnProperty.call(g,b)&&(h[b]=g[b])},c(u,i)};return function(u,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");c(u,i);function h(){this.constructor=u}u.prototype=i===null?Object.create(i):(h.prototype=i.prototype,new h)}}(),t=D&&D.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(mt,"__esModule",{value:!0}),mt.GastRefResolverVisitor=mt.resolveGrammar=void 0;var r=Ge(),n=t($e),a=t(ot),o=Le;function f(c,u){var i=new d(c,u);return i.resolveRefs(),i.errors}mt.resolveGrammar=f;var d=function(c){e(u,c);function u(i,h){var g=c.call(this)||this;return g.nameToTopRule=i,g.errMsgProvider=h,g.errors=[],g}return u.prototype.resolveRefs=function(){var i=this;(0,n.default)((0,a.default)(this.nameToTopRule),function(h){i.currTopLevel=h,h.accept(i)})},u.prototype.visitNonTerminal=function(i){var h=this.nameToTopRule[i.nonTerminalName];if(h)i.referencedRule=h;else{var g=this.errMsgProvider.buildRuleNotFoundError(this.currTopLevel,i);this.errors.push({message:g,type:r.ParserDefinitionErrorType.UNRESOLVED_SUBRULE_REF,ruleName:this.currTopLevel.name,unresolvedRefName:i.nonTerminalName})}},u}(o.GAstVisitor);return mt.GastRefResolverVisitor=d,mt}var fe={};function SR(e,t,r,n){for(var a=-1,o=e==null?0:e.length;++a<o;){var f=e[a];t(n,f,r(f),e)}return n}var LR=SR,PR=At;function bR(e,t,r,n){return PR(e,function(a,o,f){t(n,a,r(a),f)}),n}var CR=bR,kR=LR,MR=CR,$R=Je,FR=me;function wR(e,t){return function(r,n){var a=FR(r)?kR:MR,o=t?t():{};return a(r,e,$R(n),o)}}var xR=wR,DR=fa,UR=xR,BR=Object.prototype,GR=BR.hasOwnProperty,jR=UR(function(e,t,r){GR.call(e,r)?e[r].push(t):DR(e,r,[t])}),is=jR,WR=ga,KR=Ue;function VR(e,t){return WR(KR(e,t),1)}var os=VR,Wt={},Ne={},HR=ha,zR=yr;function YR(e,t,r){var n=e==null?0:e.length;return n?(t=r||t===void 0?1:zR(t),t=n-t,HR(e,0,t<0?0:t)):[]}var Pa=YR,Nt=D&&D.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(n[o]=a[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),St=D&&D.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ne,"__esModule",{value:!0});Ne.nextPossibleTokensAfter=Ne.possiblePathsFrom=Ne.NextTerminalAfterAtLeastOneSepWalker=Ne.NextTerminalAfterAtLeastOneWalker=Ne.NextTerminalAfterManySepWalker=Ne.NextTerminalAfterManyWalker=Ne.AbstractNextTerminalAfterProductionWalker=Ne.NextAfterTokenWalker=Ne.AbstractNextPossibleTokensWalker=void 0;var ss=Ut,on=St(Er),Fr=St(He),Mi=St(Pa),we=St(pa),qR=St(La),XR=St($e),Et=St(pt),ZR=Ve,oe=Le,us=function(e){Nt(t,e);function t(r,n){var a=e.call(this)||this;return a.topProd=r,a.path=n,a.possibleTokTypes=[],a.nextProductionName="",a.nextProductionOccurrence=0,a.found=!1,a.isAtEndOfPath=!1,a}return t.prototype.startWalking=function(){if(this.found=!1,this.path.ruleStack[0]!==this.topProd.name)throw Error("The path does not start with the walker's top Rule!");return this.ruleStack=(0,Et.default)(this.path.ruleStack).reverse(),this.occurrenceStack=(0,Et.default)(this.path.occurrenceStack).reverse(),this.ruleStack.pop(),this.occurrenceStack.pop(),this.updateExpectedNext(),this.walk(this.topProd),this.possibleTokTypes},t.prototype.walk=function(r,n){n===void 0&&(n=[]),this.found||e.prototype.walk.call(this,r,n)},t.prototype.walkProdRef=function(r,n,a){if(r.referencedRule.name===this.nextProductionName&&r.idx===this.nextProductionOccurrence){var o=n.concat(a);this.updateExpectedNext(),this.walk(r.referencedRule,o)}},t.prototype.updateExpectedNext=function(){(0,Fr.default)(this.ruleStack)?(this.nextProductionName="",this.nextProductionOccurrence=0,this.isAtEndOfPath=!0):(this.nextProductionName=this.ruleStack.pop(),this.nextProductionOccurrence=this.occurrenceStack.pop())},t}(ss.RestWalker);Ne.AbstractNextPossibleTokensWalker=us;var JR=function(e){Nt(t,e);function t(r,n){var a=e.call(this,r,n)||this;return a.path=n,a.nextTerminalName="",a.nextTerminalOccurrence=0,a.nextTerminalName=a.path.lastTok.name,a.nextTerminalOccurrence=a.path.lastTokOccurrence,a}return t.prototype.walkTerminal=function(r,n,a){if(this.isAtEndOfPath&&r.terminalType.name===this.nextTerminalName&&r.idx===this.nextTerminalOccurrence&&!this.found){var o=n.concat(a),f=new oe.Alternative({definition:o});this.possibleTokTypes=(0,ZR.first)(f),this.found=!0}},t}(us);Ne.NextAfterTokenWalker=JR;var Ar=function(e){Nt(t,e);function t(r,n){var a=e.call(this)||this;return a.topRule=r,a.occurrence=n,a.result={token:void 0,occurrence:void 0,isEndOfRule:void 0},a}return t.prototype.startWalking=function(){return this.walk(this.topRule),this.result},t}(ss.RestWalker);Ne.AbstractNextTerminalAfterProductionWalker=Ar;var QR=function(e){Nt(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.walkMany=function(r,n,a){if(r.idx===this.occurrence){var o=(0,on.default)(n.concat(a));this.result.isEndOfRule=o===void 0,o instanceof oe.Terminal&&(this.result.token=o.terminalType,this.result.occurrence=o.idx)}else e.prototype.walkMany.call(this,r,n,a)},t}(Ar);Ne.NextTerminalAfterManyWalker=QR;var eI=function(e){Nt(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.walkManySep=function(r,n,a){if(r.idx===this.occurrence){var o=(0,on.default)(n.concat(a));this.result.isEndOfRule=o===void 0,o instanceof oe.Terminal&&(this.result.token=o.terminalType,this.result.occurrence=o.idx)}else e.prototype.walkManySep.call(this,r,n,a)},t}(Ar);Ne.NextTerminalAfterManySepWalker=eI;var tI=function(e){Nt(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.walkAtLeastOne=function(r,n,a){if(r.idx===this.occurrence){var o=(0,on.default)(n.concat(a));this.result.isEndOfRule=o===void 0,o instanceof oe.Terminal&&(this.result.token=o.terminalType,this.result.occurrence=o.idx)}else e.prototype.walkAtLeastOne.call(this,r,n,a)},t}(Ar);Ne.NextTerminalAfterAtLeastOneWalker=tI;var rI=function(e){Nt(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.walkAtLeastOneSep=function(r,n,a){if(r.idx===this.occurrence){var o=(0,on.default)(n.concat(a));this.result.isEndOfRule=o===void 0,o instanceof oe.Terminal&&(this.result.token=o.terminalType,this.result.occurrence=o.idx)}else e.prototype.walkAtLeastOneSep.call(this,r,n,a)},t}(Ar);Ne.NextTerminalAfterAtLeastOneSepWalker=rI;function cs(e,t,r){r===void 0&&(r=[]),r=(0,Et.default)(r);var n=[],a=0;function o(u){return u.concat((0,we.default)(e,a+1))}function f(u){var i=cs(o(u),t,r);return n.concat(i)}for(;r.length<t&&a<e.length;){var d=e[a];if(d instanceof oe.Alternative)return f(d.definition);if(d instanceof oe.NonTerminal)return f(d.definition);if(d instanceof oe.Option)n=f(d.definition);else if(d instanceof oe.RepetitionMandatory){var c=d.definition.concat([new oe.Repetition({definition:d.definition})]);return f(c)}else if(d instanceof oe.RepetitionMandatoryWithSeparator){var c=[new oe.Alternative({definition:d.definition}),new oe.Repetition({definition:[new oe.Terminal({terminalType:d.separator})].concat(d.definition)})];return f(c)}else if(d instanceof oe.RepetitionWithSeparator){var c=d.definition.concat([new oe.Repetition({definition:[new oe.Terminal({terminalType:d.separator})].concat(d.definition)})]);n=f(c)}else if(d instanceof oe.Repetition){var c=d.definition.concat([new oe.Repetition({definition:d.definition})]);n=f(c)}else{if(d instanceof oe.Alternation)return(0,XR.default)(d.definition,function(u){(0,Fr.default)(u.definition)===!1&&(n=f(u.definition))}),n;if(d instanceof oe.Terminal)r.push(d.terminalType);else throw Error("non exhaustive match")}a++}return n.push({partialPath:r,suffixDef:(0,we.default)(e,a)}),n}Ne.possiblePathsFrom=cs;function nI(e,t,r,n){var a="EXIT_NONE_TERMINAL",o=[a],f="EXIT_ALTERNATIVE",d=!1,c=t.length,u=c-n-1,i=[],h=[];for(h.push({idx:-1,def:e,ruleStack:[],occurrenceStack:[]});!(0,Fr.default)(h);){var g=h.pop();if(g===f){d&&(0,qR.default)(h).idx<=u&&h.pop();continue}var b=g.def,T=g.idx,l=g.ruleStack,A=g.occurrenceStack;if(!(0,Fr.default)(b)){var R=b[0];if(R===a){var S={idx:T,def:(0,we.default)(b),ruleStack:(0,Mi.default)(l),occurrenceStack:(0,Mi.default)(A)};h.push(S)}else if(R instanceof oe.Terminal)if(T<c-1){var L=T+1,E=t[L];if(r(E,R.terminalType)){var S={idx:L,def:(0,we.default)(b),ruleStack:l,occurrenceStack:A};h.push(S)}}else if(T===c-1)i.push({nextTokenType:R.terminalType,nextTokenOccurrence:R.idx,ruleStack:l,occurrenceStack:A}),d=!0;else throw Error("non exhaustive match");else if(R instanceof oe.NonTerminal){var y=(0,Et.default)(l);y.push(R.nonTerminalName);var v=(0,Et.default)(A);v.push(R.idx);var S={idx:T,def:R.definition.concat(o,(0,we.default)(b)),ruleStack:y,occurrenceStack:v};h.push(S)}else if(R instanceof oe.Option){var p={idx:T,def:(0,we.default)(b),ruleStack:l,occurrenceStack:A};h.push(p),h.push(f);var _={idx:T,def:R.definition.concat((0,we.default)(b)),ruleStack:l,occurrenceStack:A};h.push(_)}else if(R instanceof oe.RepetitionMandatory){var s=new oe.Repetition({definition:R.definition,idx:R.idx}),m=R.definition.concat([s],(0,we.default)(b)),S={idx:T,def:m,ruleStack:l,occurrenceStack:A};h.push(S)}else if(R instanceof oe.RepetitionMandatoryWithSeparator){var I=new oe.Terminal({terminalType:R.separator}),s=new oe.Repetition({definition:[I].concat(R.definition),idx:R.idx}),m=R.definition.concat([s],(0,we.default)(b)),S={idx:T,def:m,ruleStack:l,occurrenceStack:A};h.push(S)}else if(R instanceof oe.RepetitionWithSeparator){var p={idx:T,def:(0,we.default)(b),ruleStack:l,occurrenceStack:A};h.push(p),h.push(f);var I=new oe.Terminal({terminalType:R.separator}),N=new oe.Repetition({definition:[I].concat(R.definition),idx:R.idx}),m=R.definition.concat([N],(0,we.default)(b)),_={idx:T,def:m,ruleStack:l,occurrenceStack:A};h.push(_)}else if(R instanceof oe.Repetition){var p={idx:T,def:(0,we.default)(b),ruleStack:l,occurrenceStack:A};h.push(p),h.push(f);var N=new oe.Repetition({definition:R.definition,idx:R.idx}),m=R.definition.concat([N],(0,we.default)(b)),_={idx:T,def:m,ruleStack:l,occurrenceStack:A};h.push(_)}else if(R instanceof oe.Alternation)for(var G=R.definition.length-1;G>=0;G--){var P=R.definition[G],k={idx:T,def:P.definition.concat((0,we.default)(b)),ruleStack:l,occurrenceStack:A};h.push(k),h.push(f)}else if(R instanceof oe.Alternative)h.push({idx:T,def:R.definition.concat((0,we.default)(b)),ruleStack:l,occurrenceStack:A});else if(R instanceof oe.Rule)h.push(aI(R,T,l,A));else throw Error("non exhaustive match")}}return i}Ne.nextPossibleTokensAfter=nI;function aI(e,t,r,n){var a=(0,Et.default)(r);a.push(e.name);var o=(0,Et.default)(n);return o.push(1),{idx:t,def:e.definition,ruleStack:a,occurrenceStack:o}}(function(e){var t=D&&D.__extends||function(){var O=function(F,C){return O=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(K,V){K.__proto__=V}||function(K,V){for(var z in V)Object.prototype.hasOwnProperty.call(V,z)&&(K[z]=V[z])},O(F,C)};return function(F,C){if(typeof C!="function"&&C!==null)throw new TypeError("Class extends value "+String(C)+" is not a constructor or null");O(F,C);function K(){this.constructor=F}F.prototype=C===null?Object.create(C):(K.prototype=C.prototype,new K)}}(),r=D&&D.__importDefault||function(O){return O&&O.__esModule?O:{default:O}};Object.defineProperty(e,"__esModule",{value:!0}),e.areTokenCategoriesNotUsed=e.isStrictPrefixOfPath=e.containsPath=e.getLookaheadPathsForOptionalProd=e.getLookaheadPathsForOr=e.lookAheadSequenceFromAlternatives=e.buildSingleAlternativeLookaheadFunction=e.buildAlternativesLookAheadFunc=e.buildLookaheadFuncForOptionalProd=e.buildLookaheadFuncForOr=e.getLookaheadPaths=e.getProdType=e.PROD_TYPE=void 0;var n=r(He),a=r(ut),o=r(tn),f=r(Ue),d=r($e),c=r(We),u=r(Rt),i=Ne,h=Ut,g=It,b=Le,T=Le,l;(function(O){O[O.OPTION=0]="OPTION",O[O.REPETITION=1]="REPETITION",O[O.REPETITION_MANDATORY=2]="REPETITION_MANDATORY",O[O.REPETITION_MANDATORY_WITH_SEPARATOR=3]="REPETITION_MANDATORY_WITH_SEPARATOR",O[O.REPETITION_WITH_SEPARATOR=4]="REPETITION_WITH_SEPARATOR",O[O.ALTERNATION=5]="ALTERNATION"})(l=e.PROD_TYPE||(e.PROD_TYPE={}));function A(O){if(O instanceof b.Option||O==="Option")return l.OPTION;if(O instanceof b.Repetition||O==="Repetition")return l.REPETITION;if(O instanceof b.RepetitionMandatory||O==="RepetitionMandatory")return l.REPETITION_MANDATORY;if(O instanceof b.RepetitionMandatoryWithSeparator||O==="RepetitionMandatoryWithSeparator")return l.REPETITION_MANDATORY_WITH_SEPARATOR;if(O instanceof b.RepetitionWithSeparator||O==="RepetitionWithSeparator")return l.REPETITION_WITH_SEPARATOR;if(O instanceof b.Alternation||O==="Alternation")return l.ALTERNATION;throw Error("non exhaustive match")}e.getProdType=A;function R(O){var F=O.occurrence,C=O.rule,K=O.prodType,V=O.maxLookahead,z=A(K);return z===l.ALTERNATION?N(F,C,V):G(F,C,z,V)}e.getLookaheadPaths=R;function S(O,F,C,K,V,z){var le=N(O,F,C),se=H(le)?g.tokenStructuredMatcherNoCategories:g.tokenStructuredMatcher;return z(le,K,se,V)}e.buildLookaheadFuncForOr=S;function L(O,F,C,K,V,z){var le=G(O,F,V,C),se=H(le)?g.tokenStructuredMatcherNoCategories:g.tokenStructuredMatcher;return z(le[0],se,K)}e.buildLookaheadFuncForOptionalProd=L;function E(O,F,C,K){var V=O.length,z=(0,o.default)(O,function(ae){return(0,o.default)(ae,function(ue){return ue.length===1})});if(F)return function(ae){for(var ue=(0,f.default)(ae,function(Q){return Q.GATE}),J=0;J<V;J++){var pe=O[J],ve=pe.length,ge=ue[J];if(!(ge!==void 0&&ge.call(this)===!1))e:for(var $=0;$<ve;$++){for(var U=pe[$],M=U.length,q=0;q<M;q++){var Z=this.LA(q+1);if(C(Z,U[q])===!1)continue e}return J}}};if(z&&!K){var le=(0,f.default)(O,function(ae){return(0,a.default)(ae)}),se=(0,u.default)(le,function(ae,ue,J){return(0,d.default)(ue,function(pe){(0,c.default)(ae,pe.tokenTypeIdx)||(ae[pe.tokenTypeIdx]=J),(0,d.default)(pe.categoryMatches,function(ve){(0,c.default)(ae,ve)||(ae[ve]=J)})}),ae},{});return function(){var ae=this.LA(1);return se[ae.tokenTypeIdx]}}else return function(){for(var ae=0;ae<V;ae++){var ue=O[ae],J=ue.length;e:for(var pe=0;pe<J;pe++){for(var ve=ue[pe],ge=ve.length,$=0;$<ge;$++){var U=this.LA($+1);if(C(U,ve[$])===!1)continue e}return ae}}}}e.buildAlternativesLookAheadFunc=E;function y(O,F,C){var K=(0,o.default)(O,function(ue){return ue.length===1}),V=O.length;if(K&&!C){var z=(0,a.default)(O);if(z.length===1&&(0,n.default)(z[0].categoryMatches)){var le=z[0],se=le.tokenTypeIdx;return function(){return this.LA(1).tokenTypeIdx===se}}else{var ae=(0,u.default)(z,function(ue,J,pe){return ue[J.tokenTypeIdx]=!0,(0,d.default)(J.categoryMatches,function(ve){ue[ve]=!0}),ue},[]);return function(){var ue=this.LA(1);return ae[ue.tokenTypeIdx]===!0}}}else return function(){e:for(var ue=0;ue<V;ue++){for(var J=O[ue],pe=J.length,ve=0;ve<pe;ve++){var ge=this.LA(ve+1);if(F(ge,J[ve])===!1)continue e}return!0}return!1}}e.buildSingleAlternativeLookaheadFunction=y;var v=function(O){t(F,O);function F(C,K,V){var z=O.call(this)||this;return z.topProd=C,z.targetOccurrence=K,z.targetProdType=V,z}return F.prototype.startWalking=function(){return this.walk(this.topProd),this.restDef},F.prototype.checkIsTarget=function(C,K,V,z){return C.idx===this.targetOccurrence&&this.targetProdType===K?(this.restDef=V.concat(z),!0):!1},F.prototype.walkOption=function(C,K,V){this.checkIsTarget(C,l.OPTION,K,V)||O.prototype.walkOption.call(this,C,K,V)},F.prototype.walkAtLeastOne=function(C,K,V){this.checkIsTarget(C,l.REPETITION_MANDATORY,K,V)||O.prototype.walkOption.call(this,C,K,V)},F.prototype.walkAtLeastOneSep=function(C,K,V){this.checkIsTarget(C,l.REPETITION_MANDATORY_WITH_SEPARATOR,K,V)||O.prototype.walkOption.call(this,C,K,V)},F.prototype.walkMany=function(C,K,V){this.checkIsTarget(C,l.REPETITION,K,V)||O.prototype.walkOption.call(this,C,K,V)},F.prototype.walkManySep=function(C,K,V){this.checkIsTarget(C,l.REPETITION_WITH_SEPARATOR,K,V)||O.prototype.walkOption.call(this,C,K,V)},F}(h.RestWalker),p=function(O){t(F,O);function F(C,K,V){var z=O.call(this)||this;return z.targetOccurrence=C,z.targetProdType=K,z.targetRef=V,z.result=[],z}return F.prototype.checkIsTarget=function(C,K){C.idx===this.targetOccurrence&&this.targetProdType===K&&(this.targetRef===void 0||C===this.targetRef)&&(this.result=C.definition)},F.prototype.visitOption=function(C){this.checkIsTarget(C,l.OPTION)},F.prototype.visitRepetition=function(C){this.checkIsTarget(C,l.REPETITION)},F.prototype.visitRepetitionMandatory=function(C){this.checkIsTarget(C,l.REPETITION_MANDATORY)},F.prototype.visitRepetitionMandatoryWithSeparator=function(C){this.checkIsTarget(C,l.REPETITION_MANDATORY_WITH_SEPARATOR)},F.prototype.visitRepetitionWithSeparator=function(C){this.checkIsTarget(C,l.REPETITION_WITH_SEPARATOR)},F.prototype.visitAlternation=function(C){this.checkIsTarget(C,l.ALTERNATION)},F}(T.GAstVisitor);function _(O){for(var F=new Array(O),C=0;C<O;C++)F[C]=[];return F}function s(O){for(var F=[""],C=0;C<O.length;C++){for(var K=O[C],V=[],z=0;z<F.length;z++){var le=F[z];V.push(le+"_"+K.tokenTypeIdx);for(var se=0;se<K.categoryMatches.length;se++){var ae="_"+K.categoryMatches[se];V.push(le+ae)}}F=V}return F}function m(O,F,C){for(var K=0;K<O.length;K++)if(K!==C)for(var V=O[K],z=0;z<F.length;z++){var le=F[z];if(V[le]===!0)return!1}return!0}function I(O,F){for(var C=(0,f.default)(O,function(J){return(0,i.possiblePathsFrom)([J],1)}),K=_(C.length),V=(0,f.default)(C,function(J){var pe={};return(0,d.default)(J,function(ve){var ge=s(ve.partialPath);(0,d.default)(ge,function($){pe[$]=!0})}),pe}),z=C,le=1;le<=F;le++){var se=z;z=_(se.length);for(var ae=function(J){for(var pe=se[J],ve=0;ve<pe.length;ve++){var ge=pe[ve].partialPath,$=pe[ve].suffixDef,U=s(ge),M=m(V,U,J);if(M||(0,n.default)($)||ge.length===F){var q=K[J];if(P(q,ge)===!1){q.push(ge);for(var Z=0;Z<U.length;Z++){var Q=U[Z];V[J][Q]=!0}}}else{var te=(0,i.possiblePathsFrom)($,le+1,ge);z[J]=z[J].concat(te),(0,d.default)(te,function(ee){var re=s(ee.partialPath);(0,d.default)(re,function(de){V[J][de]=!0})})}}},ue=0;ue<se.length;ue++)ae(ue)}return K}e.lookAheadSequenceFromAlternatives=I;function N(O,F,C,K){var V=new p(O,l.ALTERNATION,K);return F.accept(V),I(V.result,C)}e.getLookaheadPathsForOr=N;function G(O,F,C,K){var V=new p(O,C);F.accept(V);var z=V.result,le=new v(F,O,C),se=le.startWalking(),ae=new b.Alternative({definition:z}),ue=new b.Alternative({definition:se});return I([ae,ue],K)}e.getLookaheadPathsForOptionalProd=G;function P(O,F){e:for(var C=0;C<O.length;C++){var K=O[C];if(K.length===F.length){for(var V=0;V<K.length;V++){var z=F[V],le=K[V],se=z===le||le.categoryMatchesMap[z.tokenTypeIdx]!==void 0;if(se===!1)continue e}return!0}}return!1}e.containsPath=P;function k(O,F){return O.length<F.length&&(0,o.default)(O,function(C,K){var V=F[K];return C===V||V.categoryMatchesMap[C.tokenTypeIdx]})}e.isStrictPrefixOfPath=k;function H(O){return(0,o.default)(O,function(F){return(0,o.default)(F,function(C){return(0,o.default)(C,function(K){return(0,n.default)(K.categoryMatches)})})})}e.areTokenCategoriesNotUsed=H})(Wt);var $i;function sn(){if($i)return fe;$i=1;var e=D&&D.__extends||function(){var $=function(U,M){return $=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(q,Z){q.__proto__=Z}||function(q,Z){for(var Q in Z)Object.prototype.hasOwnProperty.call(Z,Q)&&(q[Q]=Z[Q])},$(U,M)};return function(U,M){if(typeof M!="function"&&M!==null)throw new TypeError("Class extends value "+String(M)+" is not a constructor or null");$(U,M);function q(){this.constructor=U}U.prototype=M===null?Object.create(M):(q.prototype=M.prototype,new q)}}(),t=D&&D.__assign||function(){return t=Object.assign||function($){for(var U,M=1,q=arguments.length;M<q;M++){U=arguments[M];for(var Z in U)Object.prototype.hasOwnProperty.call(U,Z)&&($[Z]=U[Z])}return $},t.apply(this,arguments)},r=D&&D.__importDefault||function($){return $&&$.__esModule?$:{default:$}};Object.defineProperty(fe,"__esModule",{value:!0}),fe.checkPrefixAlternativesAmbiguities=fe.validateSomeNonEmptyLookaheadPath=fe.validateTooManyAlts=fe.RepetitionCollector=fe.validateAmbiguousAlternationAlternatives=fe.validateEmptyOrAlternative=fe.getFirstNoneTerminal=fe.validateNoLeftRecursion=fe.validateRuleIsOverridden=fe.validateRuleDoesNotAlreadyExist=fe.OccurrenceValidationCollector=fe.identifyProductionForDuplicates=fe.validateGrammar=fe.validateLookahead=void 0;var n=r(Er),a=r(He),o=r(pa),f=r(ut),d=r(Sa),c=r(Ra),u=r(Ia),i=r(Ue),h=r($e),g=r(is),b=r(Rt),T=r(bo),l=r(ot),A=r(vt),R=r(os),S=r(pt),L=Ge(),E=Le,y=Wt,v=Ne,p=Le,_=Le,s=r(Pa),m=r(nn),I=It;function N($){var U=$.lookaheadStrategy.validate({rules:$.rules,tokenTypes:$.tokenTypes,grammarName:$.grammarName});return(0,i.default)(U,function(M){return t({type:L.ParserDefinitionErrorType.CUSTOM_LOOKAHEAD_VALIDATION},M)})}fe.validateLookahead=N;function G($,U,M,q){var Z=(0,R.default)($,function(re){return P(re,M)}),Q=ge($,U,M),te=(0,R.default)($,function(re){return ue(re,M)}),ee=(0,R.default)($,function(re){return F(re,$,q,M)});return Z.concat(Q,te,ee)}fe.validateGrammar=G;function P($,U){var M=new O;$.accept(M);var q=M.allProductions,Z=(0,g.default)(q,k),Q=(0,T.default)(Z,function(ee){return ee.length>1}),te=(0,i.default)((0,l.default)(Q),function(ee){var re=(0,n.default)(ee),de=U.buildDuplicateFoundError($,ee),Te=(0,E.getProductionDslName)(re),Oe={message:de,type:L.ParserDefinitionErrorType.DUPLICATE_PRODUCTIONS,ruleName:$.name,dslName:Te,occurrence:re.idx},Pe=H(re);return Pe&&(Oe.parameter=Pe),Oe});return te}function k($){return"".concat((0,E.getProductionDslName)($),"_#_").concat($.idx,"_#_").concat(H($))}fe.identifyProductionForDuplicates=k;function H($){return $ instanceof p.Terminal?$.terminalType.name:$ instanceof p.NonTerminal?$.nonTerminalName:""}var O=function($){e(U,$);function U(){var M=$!==null&&$.apply(this,arguments)||this;return M.allProductions=[],M}return U.prototype.visitNonTerminal=function(M){this.allProductions.push(M)},U.prototype.visitOption=function(M){this.allProductions.push(M)},U.prototype.visitRepetitionWithSeparator=function(M){this.allProductions.push(M)},U.prototype.visitRepetitionMandatory=function(M){this.allProductions.push(M)},U.prototype.visitRepetitionMandatoryWithSeparator=function(M){this.allProductions.push(M)},U.prototype.visitRepetition=function(M){this.allProductions.push(M)},U.prototype.visitAlternation=function(M){this.allProductions.push(M)},U.prototype.visitTerminal=function(M){this.allProductions.push(M)},U}(_.GAstVisitor);fe.OccurrenceValidationCollector=O;function F($,U,M,q){var Z=[],Q=(0,b.default)(U,function(ee,re){return re.name===$.name?ee+1:ee},0);if(Q>1){var te=q.buildDuplicateRuleNameError({topLevelRule:$,grammarName:M});Z.push({message:te,type:L.ParserDefinitionErrorType.DUPLICATE_RULE_NAME,ruleName:$.name})}return Z}fe.validateRuleDoesNotAlreadyExist=F;function C($,U,M){var q=[],Z;return(0,A.default)(U,$)||(Z="Invalid rule override, rule: ->".concat($,"<- cannot be overridden in the grammar: ->").concat(M,"<-")+"as it is not defined in any of the super grammars ",q.push({message:Z,type:L.ParserDefinitionErrorType.INVALID_RULE_OVERRIDE,ruleName:$})),q}fe.validateRuleIsOverridden=C;function K($,U,M,q){q===void 0&&(q=[]);var Z=[],Q=V(U.definition);if((0,a.default)(Q))return[];var te=$.name,ee=(0,A.default)(Q,$);ee&&Z.push({message:M.buildLeftRecursionError({topLevelRule:$,leftRecursionPath:q}),type:L.ParserDefinitionErrorType.LEFT_RECURSION,ruleName:te});var re=(0,u.default)(Q,q.concat([$])),de=(0,R.default)(re,function(Te){var Oe=(0,S.default)(q);return Oe.push(Te),K($,Te,M,Oe)});return Z.concat(de)}fe.validateNoLeftRecursion=K;function V($){var U=[];if((0,a.default)($))return U;var M=(0,n.default)($);if(M instanceof p.NonTerminal)U.push(M.referencedRule);else if(M instanceof p.Alternative||M instanceof p.Option||M instanceof p.RepetitionMandatory||M instanceof p.RepetitionMandatoryWithSeparator||M instanceof p.RepetitionWithSeparator||M instanceof p.Repetition)U=U.concat(V(M.definition));else if(M instanceof p.Alternation)U=(0,f.default)((0,i.default)(M.definition,function(te){return V(te.definition)}));else if(!(M instanceof p.Terminal))throw Error("non exhaustive match");var q=(0,E.isOptionalProd)(M),Z=$.length>1;if(q&&Z){var Q=(0,o.default)($);return U.concat(V(Q))}else return U}fe.getFirstNoneTerminal=V;var z=function($){e(U,$);function U(){var M=$!==null&&$.apply(this,arguments)||this;return M.alternations=[],M}return U.prototype.visitAlternation=function(M){this.alternations.push(M)},U}(_.GAstVisitor);function le($,U){var M=new z;$.accept(M);var q=M.alternations,Z=(0,R.default)(q,function(Q){var te=(0,s.default)(Q.definition);return(0,R.default)(te,function(ee,re){var de=(0,v.nextPossibleTokensAfter)([ee],[],I.tokenStructuredMatcher,1);return(0,a.default)(de)?[{message:U.buildEmptyAlternationError({topLevelRule:$,alternation:Q,emptyChoiceIdx:re}),type:L.ParserDefinitionErrorType.NONE_LAST_EMPTY_ALT,ruleName:$.name,occurrence:Q.idx,alternative:re+1}]:[]})});return Z}fe.validateEmptyOrAlternative=le;function se($,U,M){var q=new z;$.accept(q);var Z=q.alternations;Z=(0,c.default)(Z,function(te){return te.ignoreAmbiguities===!0});var Q=(0,R.default)(Z,function(te){var ee=te.idx,re=te.maxLookahead||U,de=(0,y.getLookaheadPathsForOr)(ee,$,re,te),Te=pe(de,te,$,M),Oe=ve(de,te,$,M);return Te.concat(Oe)});return Q}fe.validateAmbiguousAlternationAlternatives=se;var ae=function($){e(U,$);function U(){var M=$!==null&&$.apply(this,arguments)||this;return M.allProductions=[],M}return U.prototype.visitRepetitionWithSeparator=function(M){this.allProductions.push(M)},U.prototype.visitRepetitionMandatory=function(M){this.allProductions.push(M)},U.prototype.visitRepetitionMandatoryWithSeparator=function(M){this.allProductions.push(M)},U.prototype.visitRepetition=function(M){this.allProductions.push(M)},U}(_.GAstVisitor);fe.RepetitionCollector=ae;function ue($,U){var M=new z;$.accept(M);var q=M.alternations,Z=(0,R.default)(q,function(Q){return Q.definition.length>255?[{message:U.buildTooManyAlternativesError({topLevelRule:$,alternation:Q}),type:L.ParserDefinitionErrorType.TOO_MANY_ALTS,ruleName:$.name,occurrence:Q.idx}]:[]});return Z}fe.validateTooManyAlts=ue;function J($,U,M){var q=[];return(0,h.default)($,function(Z){var Q=new ae;Z.accept(Q);var te=Q.allProductions;(0,h.default)(te,function(ee){var re=(0,y.getProdType)(ee),de=ee.maxLookahead||U,Te=ee.idx,Oe=(0,y.getLookaheadPathsForOptionalProd)(Te,Z,re,de),Pe=Oe[0];if((0,a.default)((0,f.default)(Pe))){var Fe=M.buildEmptyRepetitionError({topLevelRule:Z,repetition:ee});q.push({message:Fe,type:L.ParserDefinitionErrorType.NO_NON_EMPTY_LOOKAHEAD,ruleName:Z.name})}})}),q}fe.validateSomeNonEmptyLookaheadPath=J;function pe($,U,M,q){var Z=[],Q=(0,b.default)($,function(ee,re,de){return U.definition[de].ignoreAmbiguities===!0||(0,h.default)(re,function(Te){var Oe=[de];(0,h.default)($,function(Pe,Fe){de!==Fe&&(0,y.containsPath)(Pe,Te)&&U.definition[Fe].ignoreAmbiguities!==!0&&Oe.push(Fe)}),Oe.length>1&&!(0,y.containsPath)(Z,Te)&&(Z.push(Te),ee.push({alts:Oe,path:Te}))}),ee},[]),te=(0,i.default)(Q,function(ee){var re=(0,i.default)(ee.alts,function(Te){return Te+1}),de=q.buildAlternationAmbiguityError({topLevelRule:M,alternation:U,ambiguityIndices:re,prefixPath:ee.path});return{message:de,type:L.ParserDefinitionErrorType.AMBIGUOUS_ALTS,ruleName:M.name,occurrence:U.idx,alternatives:ee.alts}});return te}function ve($,U,M,q){var Z=(0,b.default)($,function(te,ee,re){var de=(0,i.default)(ee,function(Te){return{idx:re,path:Te}});return te.concat(de)},[]),Q=(0,m.default)((0,R.default)(Z,function(te){var ee=U.definition[te.idx];if(ee.ignoreAmbiguities===!0)return[];var re=te.idx,de=te.path,Te=(0,d.default)(Z,function(Pe){return U.definition[Pe.idx].ignoreAmbiguities!==!0&&Pe.idx<re&&(0,y.isStrictPrefixOfPath)(Pe.path,de)}),Oe=(0,i.default)(Te,function(Pe){var Fe=[Pe.idx+1,re+1],ct=U.idx===0?"":U.idx,lt=q.buildAlternationPrefixAmbiguityError({topLevelRule:M,alternation:U,ambiguityIndices:Fe,prefixPath:Pe.path});return{message:lt,type:L.ParserDefinitionErrorType.AMBIGUOUS_PREFIX_ALTS,ruleName:M.name,occurrence:ct,alternatives:Fe}});return Oe}));return Q}fe.checkPrefixAlternativesAmbiguities=ve;function ge($,U,M){var q=[],Z=(0,i.default)(U,function(Q){return Q.name});return(0,h.default)($,function(Q){var te=Q.name;if((0,A.default)(Z,te)){var ee=M.buildNamespaceConflictError(Q);q.push({message:ee,type:L.ParserDefinitionErrorType.CONFLICT_TOKENS_RULES_NAMESPACE,ruleName:te})}}),q}return fe}var Fi;function iI(){if(Fi)return _t;Fi=1;var e=D&&D.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(_t,"__esModule",{value:!0}),_t.validateGrammar=_t.resolveGrammar=void 0;var t=e($e),r=e(ns),n=NR(),a=sn(),o=jt;function f(c){var u=(0,r.default)(c,{errMsgProvider:o.defaultGrammarResolverErrorProvider}),i={};return(0,t.default)(c.rules,function(h){i[h.name]=h}),(0,n.resolveGrammar)(i,u.errMsgProvider)}_t.resolveGrammar=f;function d(c){return c=(0,r.default)(c,{errMsgProvider:o.defaultGrammarValidatorErrorProvider}),(0,a.validateGrammar)(c.rules,c.tokenTypes,c.errMsgProvider,c.grammarName)}return _t.validateGrammar=d,_t}var bn={},Me={},Or=D&&D.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(n[o]=a[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),oI=D&&D.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Me,"__esModule",{value:!0});Me.EarlyExitException=Me.NotAllInputParsedException=Me.NoViableAltException=Me.MismatchedTokenException=Me.isRecognitionException=void 0;var sI=oI(vt),ls="MismatchedTokenException",fs="NoViableAltException",ds="EarlyExitException",hs="NotAllInputParsedException",ps=[ls,fs,ds,hs];Object.freeze(ps);function uI(e){return(0,sI.default)(ps,e.name)}Me.isRecognitionException=uI;var un=function(e){Or(t,e);function t(r,n){var a=this.constructor,o=e.call(this,r)||this;return o.token=n,o.resyncedTokens=[],Object.setPrototypeOf(o,a.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,o.constructor),o}return t}(Error),cI=function(e){Or(t,e);function t(r,n,a){var o=e.call(this,r,n)||this;return o.previousToken=a,o.name=ls,o}return t}(un);Me.MismatchedTokenException=cI;var lI=function(e){Or(t,e);function t(r,n,a){var o=e.call(this,r,n)||this;return o.previousToken=a,o.name=fs,o}return t}(un);Me.NoViableAltException=lI;var fI=function(e){Or(t,e);function t(r,n){var a=e.call(this,r,n)||this;return a.name=hs,a}return t}(un);Me.NotAllInputParsedException=fI;var dI=function(e){Or(t,e);function t(r,n,a){var o=e.call(this,r,n)||this;return o.previousToken=a,o.name=ds,o}return t}(un);Me.EarlyExitException=dI;var wi;function vs(){return wi||(wi=1,function(e){var t=D&&D.__extends||function(){var S=function(L,E){return S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,v){y.__proto__=v}||function(y,v){for(var p in v)Object.prototype.hasOwnProperty.call(v,p)&&(y[p]=v[p])},S(L,E)};return function(L,E){if(typeof E!="function"&&E!==null)throw new TypeError("Class extends value "+String(E)+" is not a constructor or null");S(L,E);function y(){this.constructor=L}L.prototype=E===null?Object.create(E):(y.prototype=E.prototype,new y)}}(),r=D&&D.__importDefault||function(S){return S&&S.__esModule?S:{default:S}};Object.defineProperty(e,"__esModule",{value:!0}),e.attemptInRepetitionRecovery=e.Recoverable=e.InRuleRecoveryException=e.IN_RULE_RECOVERY_EXCEPTION=e.EOF_FOLLOW_KEY=void 0;var n=Ot,a=r(He),o=r(Pa),f=r(ut),d=r(Ue),c=r(Na),u=r(We),i=r(vt),h=r(pt),g=Me,b=gr,T=Ge();e.EOF_FOLLOW_KEY={},e.IN_RULE_RECOVERY_EXCEPTION="InRuleRecoveryException";var l=function(S){t(L,S);function L(E){var y=S.call(this,E)||this;return y.name=e.IN_RULE_RECOVERY_EXCEPTION,y}return L}(Error);e.InRuleRecoveryException=l;var A=function(){function S(){}return S.prototype.initRecoverable=function(L){this.firstAfterRepMap={},this.resyncFollows={},this.recoveryEnabled=(0,u.default)(L,"recoveryEnabled")?L.recoveryEnabled:T.DEFAULT_PARSER_CONFIG.recoveryEnabled,this.recoveryEnabled&&(this.attemptInRepetitionRecovery=R)},S.prototype.getTokenToInsert=function(L){var E=(0,n.createTokenInstance)(L,"",NaN,NaN,NaN,NaN,NaN,NaN);return E.isInsertedInRecovery=!0,E},S.prototype.canTokenTypeBeInsertedInRecovery=function(L){return!0},S.prototype.canTokenTypeBeDeletedInRecovery=function(L){return!0},S.prototype.tryInRepetitionRecovery=function(L,E,y,v){for(var p=this,_=this.findReSyncTokenType(),s=this.exportLexerState(),m=[],I=!1,N=this.LA(1),G=this.LA(1),P=function(){var k=p.LA(0),H=p.errorMessageProvider.buildMismatchTokenMessage({expected:v,actual:N,previous:k,ruleName:p.getCurrRuleFullName()}),O=new g.MismatchedTokenException(H,N,p.LA(0));O.resyncedTokens=(0,o.default)(m),p.SAVE_ERROR(O)};!I;)if(this.tokenMatcher(G,v)){P();return}else if(y.call(this)){P(),L.apply(this,E);return}else this.tokenMatcher(G,_)?I=!0:(G=this.SKIP_TOKEN(),this.addToResyncTokens(G,m));this.importLexerState(s)},S.prototype.shouldInRepetitionRecoveryBeTried=function(L,E,y){return!(y===!1||this.tokenMatcher(this.LA(1),L)||this.isBackTracking()||this.canPerformInRuleRecovery(L,this.getFollowsForInRuleRecovery(L,E)))},S.prototype.getFollowsForInRuleRecovery=function(L,E){var y=this.getCurrentGrammarPath(L,E),v=this.getNextPossibleTokenTypes(y);return v},S.prototype.tryInRuleRecovery=function(L,E){if(this.canRecoverWithSingleTokenInsertion(L,E)){var y=this.getTokenToInsert(L);return y}if(this.canRecoverWithSingleTokenDeletion(L)){var v=this.SKIP_TOKEN();return this.consumeToken(),v}throw new l("sad sad panda")},S.prototype.canPerformInRuleRecovery=function(L,E){return this.canRecoverWithSingleTokenInsertion(L,E)||this.canRecoverWithSingleTokenDeletion(L)},S.prototype.canRecoverWithSingleTokenInsertion=function(L,E){var y=this;if(!this.canTokenTypeBeInsertedInRecovery(L)||(0,a.default)(E))return!1;var v=this.LA(1),p=(0,c.default)(E,function(_){return y.tokenMatcher(v,_)})!==void 0;return p},S.prototype.canRecoverWithSingleTokenDeletion=function(L){if(!this.canTokenTypeBeDeletedInRecovery(L))return!1;var E=this.tokenMatcher(this.LA(2),L);return E},S.prototype.isInCurrentRuleReSyncSet=function(L){var E=this.getCurrFollowKey(),y=this.getFollowSetFromFollowKey(E);return(0,i.default)(y,L)},S.prototype.findReSyncTokenType=function(){for(var L=this.flattenFollowSet(),E=this.LA(1),y=2;;){var v=(0,c.default)(L,function(p){var _=(0,n.tokenMatcher)(E,p);return _});if(v!==void 0)return v;E=this.LA(y),y++}},S.prototype.getCurrFollowKey=function(){if(this.RULE_STACK.length===1)return e.EOF_FOLLOW_KEY;var L=this.getLastExplicitRuleShortName(),E=this.getLastExplicitRuleOccurrenceIndex(),y=this.getPreviousExplicitRuleShortName();return{ruleName:this.shortRuleNameToFullName(L),idxInCallingRule:E,inRule:this.shortRuleNameToFullName(y)}},S.prototype.buildFullFollowKeyStack=function(){var L=this,E=this.RULE_STACK,y=this.RULE_OCCURRENCE_STACK;return(0,d.default)(E,function(v,p){return p===0?e.EOF_FOLLOW_KEY:{ruleName:L.shortRuleNameToFullName(v),idxInCallingRule:y[p],inRule:L.shortRuleNameToFullName(E[p-1])}})},S.prototype.flattenFollowSet=function(){var L=this,E=(0,d.default)(this.buildFullFollowKeyStack(),function(y){return L.getFollowSetFromFollowKey(y)});return(0,f.default)(E)},S.prototype.getFollowSetFromFollowKey=function(L){if(L===e.EOF_FOLLOW_KEY)return[n.EOF];var E=L.ruleName+L.idxInCallingRule+b.IN+L.inRule;return this.resyncFollows[E]},S.prototype.addToResyncTokens=function(L,E){return this.tokenMatcher(L,n.EOF)||E.push(L),E},S.prototype.reSyncTo=function(L){for(var E=[],y=this.LA(1);this.tokenMatcher(y,L)===!1;)y=this.SKIP_TOKEN(),this.addToResyncTokens(y,E);return(0,o.default)(E)},S.prototype.attemptInRepetitionRecovery=function(L,E,y,v,p,_,s){},S.prototype.getCurrentGrammarPath=function(L,E){var y=this.getHumanReadableRuleStack(),v=(0,h.default)(this.RULE_OCCURRENCE_STACK),p={ruleStack:y,occurrenceStack:v,lastTok:L,lastTokOccurrence:E};return p},S.prototype.getHumanReadableRuleStack=function(){var L=this;return(0,d.default)(this.RULE_STACK,function(E){return L.shortRuleNameToFullName(E)})},S}();e.Recoverable=A;function R(S,L,E,y,v,p,_){var s=this.getKeyForAutomaticLookahead(y,v),m=this.firstAfterRepMap[s];if(m===void 0){var I=this.getCurrRuleFullName(),N=this.getGAstProductions()[I],G=new p(N,v);m=G.startWalking(),this.firstAfterRepMap[s]=m}var P=m.token,k=m.occurrence,H=m.isEndOfRule;this.RULE_STACK.length===1&&H&&P===void 0&&(P=n.EOF,k=1),!(P===void 0||k===void 0)&&this.shouldInRepetitionRecoveryBeTried(P,k,_)&&this.tryInRepetitionRecovery(S,L,E,P)}e.attemptInRepetitionRecovery=R}(bn)),bn}var yt={},cn={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getKeyForAutomaticLookahead=e.AT_LEAST_ONE_SEP_IDX=e.MANY_SEP_IDX=e.AT_LEAST_ONE_IDX=e.MANY_IDX=e.OPTION_IDX=e.OR_IDX=e.BITS_FOR_ALT_IDX=e.BITS_FOR_RULE_IDX=e.BITS_FOR_OCCURRENCE_IDX=e.BITS_FOR_METHOD_TYPE=void 0,e.BITS_FOR_METHOD_TYPE=4,e.BITS_FOR_OCCURRENCE_IDX=8,e.BITS_FOR_RULE_IDX=12,e.BITS_FOR_ALT_IDX=8,e.OR_IDX=1<<e.BITS_FOR_OCCURRENCE_IDX,e.OPTION_IDX=2<<e.BITS_FOR_OCCURRENCE_IDX,e.MANY_IDX=3<<e.BITS_FOR_OCCURRENCE_IDX,e.AT_LEAST_ONE_IDX=4<<e.BITS_FOR_OCCURRENCE_IDX,e.MANY_SEP_IDX=5<<e.BITS_FOR_OCCURRENCE_IDX,e.AT_LEAST_ONE_SEP_IDX=6<<e.BITS_FOR_OCCURRENCE_IDX;function t(r,n,a){return a|n|r}e.getKeyForAutomaticLookahead=t,32-e.BITS_FOR_ALT_IDX})(cn);var Xt={},xi;function _s(){if(xi)return Xt;xi=1;var e=D&&D.__spreadArray||function(u,i,h){if(h||arguments.length===2)for(var g=0,b=i.length,T;g<b;g++)(T||!(g in i))&&(T||(T=Array.prototype.slice.call(i,0,g)),T[g]=i[g]);return u.concat(T||Array.prototype.slice.call(i))},t=D&&D.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(Xt,"__esModule",{value:!0}),Xt.LLkLookaheadStrategy=void 0;var r=t(os),n=t(He),a=jt,o=Ge(),f=sn(),d=Wt,c=function(){function u(i){var h;this.maxLookahead=(h=i==null?void 0:i.maxLookahead)!==null&&h!==void 0?h:o.DEFAULT_PARSER_CONFIG.maxLookahead}return u.prototype.validate=function(i){var h=this.validateNoLeftRecursion(i.rules);if((0,n.default)(h)){var g=this.validateEmptyOrAlternatives(i.rules),b=this.validateAmbiguousAlternationAlternatives(i.rules,this.maxLookahead),T=this.validateSomeNonEmptyLookaheadPath(i.rules,this.maxLookahead),l=e(e(e(e([],h,!0),g,!0),b,!0),T,!0);return l}return h},u.prototype.validateNoLeftRecursion=function(i){return(0,r.default)(i,function(h){return(0,f.validateNoLeftRecursion)(h,h,a.defaultGrammarValidatorErrorProvider)})},u.prototype.validateEmptyOrAlternatives=function(i){return(0,r.default)(i,function(h){return(0,f.validateEmptyOrAlternative)(h,a.defaultGrammarValidatorErrorProvider)})},u.prototype.validateAmbiguousAlternationAlternatives=function(i,h){return(0,r.default)(i,function(g){return(0,f.validateAmbiguousAlternationAlternatives)(g,h,a.defaultGrammarValidatorErrorProvider)})},u.prototype.validateSomeNonEmptyLookaheadPath=function(i,h){return(0,f.validateSomeNonEmptyLookaheadPath)(i,h,a.defaultGrammarValidatorErrorProvider)},u.prototype.buildLookaheadForAlternation=function(i){return(0,d.buildLookaheadFuncForOr)(i.prodOccurrence,i.rule,i.maxLookahead,i.hasPredicates,i.dynamicTokensEnabled,d.buildAlternativesLookAheadFunc)},u.prototype.buildLookaheadForOptional=function(i){return(0,d.buildLookaheadFuncForOptionalProd)(i.prodOccurrence,i.rule,i.maxLookahead,i.dynamicTokensEnabled,(0,d.getProdType)(i.prodType),d.buildSingleAlternativeLookaheadFunction)},u}();return Xt.LLkLookaheadStrategy=c,Xt}var Di;function hI(){if(Di)return yt;Di=1;var e=D&&D.__extends||function(){var b=function(T,l){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,R){A.__proto__=R}||function(A,R){for(var S in R)Object.prototype.hasOwnProperty.call(R,S)&&(A[S]=R[S])},b(T,l)};return function(T,l){if(typeof l!="function"&&l!==null)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");b(T,l);function A(){this.constructor=T}T.prototype=l===null?Object.create(l):(A.prototype=l.prototype,new A)}}(),t=D&&D.__importDefault||function(b){return b&&b.__esModule?b:{default:b}};Object.defineProperty(yt,"__esModule",{value:!0}),yt.collectMethods=yt.LooksAhead=void 0;var r=t($e),n=t(We),a=Ge(),o=cn,f=Le,d=Le,c=_s(),u=function(){function b(){}return b.prototype.initLooksAhead=function(T){this.dynamicTokensEnabled=(0,n.default)(T,"dynamicTokensEnabled")?T.dynamicTokensEnabled:a.DEFAULT_PARSER_CONFIG.dynamicTokensEnabled,this.maxLookahead=(0,n.default)(T,"maxLookahead")?T.maxLookahead:a.DEFAULT_PARSER_CONFIG.maxLookahead,this.lookaheadStrategy=(0,n.default)(T,"lookaheadStrategy")?T.lookaheadStrategy:new c.LLkLookaheadStrategy({maxLookahead:this.maxLookahead}),this.lookAheadFuncsCache=new Map},b.prototype.preComputeLookaheadFunctions=function(T){var l=this;(0,r.default)(T,function(A){l.TRACE_INIT("".concat(A.name," Rule Lookahead"),function(){var R=g(A),S=R.alternation,L=R.repetition,E=R.option,y=R.repetitionMandatory,v=R.repetitionMandatoryWithSeparator,p=R.repetitionWithSeparator;(0,r.default)(S,function(_){var s=_.idx===0?"":_.idx;l.TRACE_INIT("".concat((0,d.getProductionDslName)(_)).concat(s),function(){var m=l.lookaheadStrategy.buildLookaheadForAlternation({prodOccurrence:_.idx,rule:A,maxLookahead:_.maxLookahead||l.maxLookahead,hasPredicates:_.hasPredicates,dynamicTokensEnabled:l.dynamicTokensEnabled}),I=(0,o.getKeyForAutomaticLookahead)(l.fullRuleNameToShort[A.name],o.OR_IDX,_.idx);l.setLaFuncCache(I,m)})}),(0,r.default)(L,function(_){l.computeLookaheadFunc(A,_.idx,o.MANY_IDX,"Repetition",_.maxLookahead,(0,d.getProductionDslName)(_))}),(0,r.default)(E,function(_){l.computeLookaheadFunc(A,_.idx,o.OPTION_IDX,"Option",_.maxLookahead,(0,d.getProductionDslName)(_))}),(0,r.default)(y,function(_){l.computeLookaheadFunc(A,_.idx,o.AT_LEAST_ONE_IDX,"RepetitionMandatory",_.maxLookahead,(0,d.getProductionDslName)(_))}),(0,r.default)(v,function(_){l.computeLookaheadFunc(A,_.idx,o.AT_LEAST_ONE_SEP_IDX,"RepetitionMandatoryWithSeparator",_.maxLookahead,(0,d.getProductionDslName)(_))}),(0,r.default)(p,function(_){l.computeLookaheadFunc(A,_.idx,o.MANY_SEP_IDX,"RepetitionWithSeparator",_.maxLookahead,(0,d.getProductionDslName)(_))})})})},b.prototype.computeLookaheadFunc=function(T,l,A,R,S,L){var E=this;this.TRACE_INIT("".concat(L).concat(l===0?"":l),function(){var y=E.lookaheadStrategy.buildLookaheadForOptional({prodOccurrence:l,rule:T,maxLookahead:S||E.maxLookahead,dynamicTokensEnabled:E.dynamicTokensEnabled,prodType:R}),v=(0,o.getKeyForAutomaticLookahead)(E.fullRuleNameToShort[T.name],A,l);E.setLaFuncCache(v,y)})},b.prototype.getKeyForAutomaticLookahead=function(T,l){var A=this.getLastExplicitRuleShortName();return(0,o.getKeyForAutomaticLookahead)(A,T,l)},b.prototype.getLaFuncFromCache=function(T){return this.lookAheadFuncsCache.get(T)},b.prototype.setLaFuncCache=function(T,l){this.lookAheadFuncsCache.set(T,l)},b}();yt.LooksAhead=u;var i=function(b){e(T,b);function T(){var l=b!==null&&b.apply(this,arguments)||this;return l.dslMethods={option:[],alternation:[],repetition:[],repetitionWithSeparator:[],repetitionMandatory:[],repetitionMandatoryWithSeparator:[]},l}return T.prototype.reset=function(){this.dslMethods={option:[],alternation:[],repetition:[],repetitionWithSeparator:[],repetitionMandatory:[],repetitionMandatoryWithSeparator:[]}},T.prototype.visitOption=function(l){this.dslMethods.option.push(l)},T.prototype.visitRepetitionWithSeparator=function(l){this.dslMethods.repetitionWithSeparator.push(l)},T.prototype.visitRepetitionMandatory=function(l){this.dslMethods.repetitionMandatory.push(l)},T.prototype.visitRepetitionMandatoryWithSeparator=function(l){this.dslMethods.repetitionMandatoryWithSeparator.push(l)},T.prototype.visitRepetition=function(l){this.dslMethods.repetition.push(l)},T.prototype.visitAlternation=function(l){this.dslMethods.alternation.push(l)},T}(f.GAstVisitor),h=new i;function g(b){h.reset(),b.accept(h);var T=h.dslMethods;return h.reset(),T}return yt.collectMethods=g,yt}var Zt={},Xe={};Object.defineProperty(Xe,"__esModule",{value:!0});Xe.addNoneTerminalToCst=Xe.addTerminalToCst=Xe.setNodeLocationFull=Xe.setNodeLocationOnlyOffset=void 0;function pI(e,t){isNaN(e.startOffset)===!0?(e.startOffset=t.startOffset,e.endOffset=t.endOffset):e.endOffset<t.endOffset&&(e.endOffset=t.endOffset)}Xe.setNodeLocationOnlyOffset=pI;function vI(e,t){isNaN(e.startOffset)===!0?(e.startOffset=t.startOffset,e.startColumn=t.startColumn,e.startLine=t.startLine,e.endOffset=t.endOffset,e.endColumn=t.endColumn,e.endLine=t.endLine):e.endOffset<t.endOffset&&(e.endOffset=t.endOffset,e.endColumn=t.endColumn,e.endLine=t.endLine)}Xe.setNodeLocationFull=vI;function _I(e,t,r){e.children[r]===void 0?e.children[r]=[t]:e.children[r].push(t)}Xe.addTerminalToCst=_I;function mI(e,t,r){e.children[t]===void 0?e.children[t]=[r]:e.children[t].push(r)}Xe.addNoneTerminalToCst=mI;var ms={},ln={};Object.defineProperty(ln,"__esModule",{value:!0});ln.defineNameProp=void 0;var yI="name";function gI(e,t){Object.defineProperty(e,yI,{enumerable:!1,configurable:!0,writable:!1,value:t})}ln.defineNameProp=gI;(function(e){var t=D&&D.__importDefault||function(S){return S&&S.__esModule?S:{default:S}};Object.defineProperty(e,"__esModule",{value:!0}),e.validateMissingCstMethods=e.validateVisitor=e.CstVisitorDefinitionError=e.createBaseVisitorConstructorWithDefaults=e.createBaseSemanticVisitorConstructor=e.defaultVisit=void 0;var r=t(He),n=t(nn),a=t(me),o=t(Ue),f=t($e),d=t(Sa),c=t(je),u=t(lr),i=t(Gt),h=ln;function g(S,L){for(var E=(0,c.default)(S),y=E.length,v=0;v<y;v++)for(var p=E[v],_=S[p],s=_.length,m=0;m<s;m++){var I=_[m];I.tokenTypeIdx===void 0&&this[I.name](I.children,L)}}e.defaultVisit=g;function b(S,L){var E=function(){};(0,h.defineNameProp)(E,S+"BaseSemantics");var y={visit:function(v,p){if((0,a.default)(v)&&(v=v[0]),!(0,i.default)(v))return this[v.name](v.children,p)},validateVisitor:function(){var v=A(this,L);if(!(0,r.default)(v)){var p=(0,o.default)(v,function(_){return _.msg});throw Error("Errors Detected in CST Visitor <".concat(this.constructor.name,`>:
	`)+"".concat(p.join(`

`).replace(/\n/g,`
	`)))}}};return E.prototype=y,E.prototype.constructor=E,E._RULE_NAMES=L,E}e.createBaseSemanticVisitorConstructor=b;function T(S,L,E){var y=function(){};(0,h.defineNameProp)(y,S+"BaseSemanticsWithDefaults");var v=Object.create(E.prototype);return(0,f.default)(L,function(p){v[p]=g}),y.prototype=v,y.prototype.constructor=y,y}e.createBaseVisitorConstructorWithDefaults=T;var l;(function(S){S[S.REDUNDANT_METHOD=0]="REDUNDANT_METHOD",S[S.MISSING_METHOD=1]="MISSING_METHOD"})(l=e.CstVisitorDefinitionError||(e.CstVisitorDefinitionError={}));function A(S,L){var E=R(S,L);return E}e.validateVisitor=A;function R(S,L){var E=(0,d.default)(L,function(v){return(0,u.default)(S[v])===!1}),y=(0,o.default)(E,function(v){return{msg:"Missing visitor method: <".concat(v,"> on ").concat(S.constructor.name," CST Visitor."),type:l.MISSING_METHOD,methodName:v}});return(0,n.default)(y)}e.validateMissingCstMethods=R})(ms);var Ui;function EI(){if(Ui)return Zt;Ui=1;var e=D&&D.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(Zt,"__esModule",{value:!0}),Zt.TreeBuilder=void 0;var t=Xe,r=e(Ea),n=e(We),a=e(je),o=e(Gt),f=ms,d=Ge(),c=function(){function u(){}return u.prototype.initTreeBuilder=function(i){if(this.CST_STACK=[],this.outputCst=i.outputCst,this.nodeLocationTracking=(0,n.default)(i,"nodeLocationTracking")?i.nodeLocationTracking:d.DEFAULT_PARSER_CONFIG.nodeLocationTracking,!this.outputCst)this.cstInvocationStateUpdate=r.default,this.cstFinallyStateUpdate=r.default,this.cstPostTerminal=r.default,this.cstPostNonTerminal=r.default,this.cstPostRule=r.default;else if(/full/i.test(this.nodeLocationTracking))this.recoveryEnabled?(this.setNodeLocationFromToken=t.setNodeLocationFull,this.setNodeLocationFromNode=t.setNodeLocationFull,this.cstPostRule=r.default,this.setInitialNodeLocation=this.setInitialNodeLocationFullRecovery):(this.setNodeLocationFromToken=r.default,this.setNodeLocationFromNode=r.default,this.cstPostRule=this.cstPostRuleFull,this.setInitialNodeLocation=this.setInitialNodeLocationFullRegular);else if(/onlyOffset/i.test(this.nodeLocationTracking))this.recoveryEnabled?(this.setNodeLocationFromToken=t.setNodeLocationOnlyOffset,this.setNodeLocationFromNode=t.setNodeLocationOnlyOffset,this.cstPostRule=r.default,this.setInitialNodeLocation=this.setInitialNodeLocationOnlyOffsetRecovery):(this.setNodeLocationFromToken=r.default,this.setNodeLocationFromNode=r.default,this.cstPostRule=this.cstPostRuleOnlyOffset,this.setInitialNodeLocation=this.setInitialNodeLocationOnlyOffsetRegular);else if(/none/i.test(this.nodeLocationTracking))this.setNodeLocationFromToken=r.default,this.setNodeLocationFromNode=r.default,this.cstPostRule=r.default,this.setInitialNodeLocation=r.default;else throw Error('Invalid <nodeLocationTracking> config option: "'.concat(i.nodeLocationTracking,'"'))},u.prototype.setInitialNodeLocationOnlyOffsetRecovery=function(i){i.location={startOffset:NaN,endOffset:NaN}},u.prototype.setInitialNodeLocationOnlyOffsetRegular=function(i){i.location={startOffset:this.LA(1).startOffset,endOffset:NaN}},u.prototype.setInitialNodeLocationFullRecovery=function(i){i.location={startOffset:NaN,startLine:NaN,startColumn:NaN,endOffset:NaN,endLine:NaN,endColumn:NaN}},u.prototype.setInitialNodeLocationFullRegular=function(i){var h=this.LA(1);i.location={startOffset:h.startOffset,startLine:h.startLine,startColumn:h.startColumn,endOffset:NaN,endLine:NaN,endColumn:NaN}},u.prototype.cstInvocationStateUpdate=function(i){var h={name:i,children:Object.create(null)};this.setInitialNodeLocation(h),this.CST_STACK.push(h)},u.prototype.cstFinallyStateUpdate=function(){this.CST_STACK.pop()},u.prototype.cstPostRuleFull=function(i){var h=this.LA(0),g=i.location;g.startOffset<=h.startOffset?(g.endOffset=h.endOffset,g.endLine=h.endLine,g.endColumn=h.endColumn):(g.startOffset=NaN,g.startLine=NaN,g.startColumn=NaN)},u.prototype.cstPostRuleOnlyOffset=function(i){var h=this.LA(0),g=i.location;g.startOffset<=h.startOffset?g.endOffset=h.endOffset:g.startOffset=NaN},u.prototype.cstPostTerminal=function(i,h){var g=this.CST_STACK[this.CST_STACK.length-1];(0,t.addTerminalToCst)(g,h,i),this.setNodeLocationFromToken(g.location,h)},u.prototype.cstPostNonTerminal=function(i,h){var g=this.CST_STACK[this.CST_STACK.length-1];(0,t.addNoneTerminalToCst)(g,h,i),this.setNodeLocationFromNode(g.location,i.location)},u.prototype.getBaseCstVisitorConstructor=function(){if((0,o.default)(this.baseCstVisitorConstructor)){var i=(0,f.createBaseSemanticVisitorConstructor)(this.className,(0,a.default)(this.gastProductionsCache));return this.baseCstVisitorConstructor=i,i}return this.baseCstVisitorConstructor},u.prototype.getBaseCstVisitorConstructorWithDefaults=function(){if((0,o.default)(this.baseCstVisitorWithDefaultsConstructor)){var i=(0,f.createBaseVisitorConstructorWithDefaults)(this.className,(0,a.default)(this.gastProductionsCache),this.getBaseCstVisitorConstructor());return this.baseCstVisitorWithDefaultsConstructor=i,i}return this.baseCstVisitorWithDefaultsConstructor},u.prototype.getLastExplicitRuleShortName=function(){var i=this.RULE_STACK;return i[i.length-1]},u.prototype.getPreviousExplicitRuleShortName=function(){var i=this.RULE_STACK;return i[i.length-2]},u.prototype.getLastExplicitRuleOccurrenceIndex=function(){var i=this.RULE_OCCURRENCE_STACK;return i[i.length-1]},u}();return Zt.TreeBuilder=c,Zt}var Jt={},Bi;function TI(){if(Bi)return Jt;Bi=1,Object.defineProperty(Jt,"__esModule",{value:!0}),Jt.LexerAdapter=void 0;var e=Ge(),t=function(){function r(){}return r.prototype.initLexerAdapter=function(){this.tokVector=[],this.tokVectorLength=0,this.currIdx=-1},Object.defineProperty(r.prototype,"input",{get:function(){return this.tokVector},set:function(n){if(this.selfAnalysisDone!==!0)throw Error("Missing <performSelfAnalysis> invocation at the end of the Parser's constructor.");this.reset(),this.tokVector=n,this.tokVectorLength=n.length},enumerable:!1,configurable:!0}),r.prototype.SKIP_TOKEN=function(){return this.currIdx<=this.tokVector.length-2?(this.consumeToken(),this.LA(1)):e.END_OF_FILE},r.prototype.LA=function(n){var a=this.currIdx+n;return a<0||this.tokVectorLength<=a?e.END_OF_FILE:this.tokVector[a]},r.prototype.consumeToken=function(){this.currIdx++},r.prototype.exportLexerState=function(){return this.currIdx},r.prototype.importLexerState=function(n){this.currIdx=n},r.prototype.resetLexerState=function(){this.currIdx=-1},r.prototype.moveToTerminatedState=function(){this.currIdx=this.tokVector.length-1},r.prototype.getLexerPosition=function(){return this.exportLexerState()},r}();return Jt.LexerAdapter=t,Jt}var Qt={},Gi;function AI(){if(Gi)return Qt;Gi=1;var e=D&&D.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(Qt,"__esModule",{value:!0}),Qt.RecognizerApi=void 0;var t=e(ot),r=e(vt),n=Me,a=Ge(),o=jt,f=sn(),d=Le,c=function(){function u(){}return u.prototype.ACTION=function(i){return i.call(this)},u.prototype.consume=function(i,h,g){return this.consumeInternal(h,i,g)},u.prototype.subrule=function(i,h,g){return this.subruleInternal(h,i,g)},u.prototype.option=function(i,h){return this.optionInternal(h,i)},u.prototype.or=function(i,h){return this.orInternal(h,i)},u.prototype.many=function(i,h){return this.manyInternal(i,h)},u.prototype.atLeastOne=function(i,h){return this.atLeastOneInternal(i,h)},u.prototype.CONSUME=function(i,h){return this.consumeInternal(i,0,h)},u.prototype.CONSUME1=function(i,h){return this.consumeInternal(i,1,h)},u.prototype.CONSUME2=function(i,h){return this.consumeInternal(i,2,h)},u.prototype.CONSUME3=function(i,h){return this.consumeInternal(i,3,h)},u.prototype.CONSUME4=function(i,h){return this.consumeInternal(i,4,h)},u.prototype.CONSUME5=function(i,h){return this.consumeInternal(i,5,h)},u.prototype.CONSUME6=function(i,h){return this.consumeInternal(i,6,h)},u.prototype.CONSUME7=function(i,h){return this.consumeInternal(i,7,h)},u.prototype.CONSUME8=function(i,h){return this.consumeInternal(i,8,h)},u.prototype.CONSUME9=function(i,h){return this.consumeInternal(i,9,h)},u.prototype.SUBRULE=function(i,h){return this.subruleInternal(i,0,h)},u.prototype.SUBRULE1=function(i,h){return this.subruleInternal(i,1,h)},u.prototype.SUBRULE2=function(i,h){return this.subruleInternal(i,2,h)},u.prototype.SUBRULE3=function(i,h){return this.subruleInternal(i,3,h)},u.prototype.SUBRULE4=function(i,h){return this.subruleInternal(i,4,h)},u.prototype.SUBRULE5=function(i,h){return this.subruleInternal(i,5,h)},u.prototype.SUBRULE6=function(i,h){return this.subruleInternal(i,6,h)},u.prototype.SUBRULE7=function(i,h){return this.subruleInternal(i,7,h)},u.prototype.SUBRULE8=function(i,h){return this.subruleInternal(i,8,h)},u.prototype.SUBRULE9=function(i,h){return this.subruleInternal(i,9,h)},u.prototype.OPTION=function(i){return this.optionInternal(i,0)},u.prototype.OPTION1=function(i){return this.optionInternal(i,1)},u.prototype.OPTION2=function(i){return this.optionInternal(i,2)},u.prototype.OPTION3=function(i){return this.optionInternal(i,3)},u.prototype.OPTION4=function(i){return this.optionInternal(i,4)},u.prototype.OPTION5=function(i){return this.optionInternal(i,5)},u.prototype.OPTION6=function(i){return this.optionInternal(i,6)},u.prototype.OPTION7=function(i){return this.optionInternal(i,7)},u.prototype.OPTION8=function(i){return this.optionInternal(i,8)},u.prototype.OPTION9=function(i){return this.optionInternal(i,9)},u.prototype.OR=function(i){return this.orInternal(i,0)},u.prototype.OR1=function(i){return this.orInternal(i,1)},u.prototype.OR2=function(i){return this.orInternal(i,2)},u.prototype.OR3=function(i){return this.orInternal(i,3)},u.prototype.OR4=function(i){return this.orInternal(i,4)},u.prototype.OR5=function(i){return this.orInternal(i,5)},u.prototype.OR6=function(i){return this.orInternal(i,6)},u.prototype.OR7=function(i){return this.orInternal(i,7)},u.prototype.OR8=function(i){return this.orInternal(i,8)},u.prototype.OR9=function(i){return this.orInternal(i,9)},u.prototype.MANY=function(i){this.manyInternal(0,i)},u.prototype.MANY1=function(i){this.manyInternal(1,i)},u.prototype.MANY2=function(i){this.manyInternal(2,i)},u.prototype.MANY3=function(i){this.manyInternal(3,i)},u.prototype.MANY4=function(i){this.manyInternal(4,i)},u.prototype.MANY5=function(i){this.manyInternal(5,i)},u.prototype.MANY6=function(i){this.manyInternal(6,i)},u.prototype.MANY7=function(i){this.manyInternal(7,i)},u.prototype.MANY8=function(i){this.manyInternal(8,i)},u.prototype.MANY9=function(i){this.manyInternal(9,i)},u.prototype.MANY_SEP=function(i){this.manySepFirstInternal(0,i)},u.prototype.MANY_SEP1=function(i){this.manySepFirstInternal(1,i)},u.prototype.MANY_SEP2=function(i){this.manySepFirstInternal(2,i)},u.prototype.MANY_SEP3=function(i){this.manySepFirstInternal(3,i)},u.prototype.MANY_SEP4=function(i){this.manySepFirstInternal(4,i)},u.prototype.MANY_SEP5=function(i){this.manySepFirstInternal(5,i)},u.prototype.MANY_SEP6=function(i){this.manySepFirstInternal(6,i)},u.prototype.MANY_SEP7=function(i){this.manySepFirstInternal(7,i)},u.prototype.MANY_SEP8=function(i){this.manySepFirstInternal(8,i)},u.prototype.MANY_SEP9=function(i){this.manySepFirstInternal(9,i)},u.prototype.AT_LEAST_ONE=function(i){this.atLeastOneInternal(0,i)},u.prototype.AT_LEAST_ONE1=function(i){return this.atLeastOneInternal(1,i)},u.prototype.AT_LEAST_ONE2=function(i){this.atLeastOneInternal(2,i)},u.prototype.AT_LEAST_ONE3=function(i){this.atLeastOneInternal(3,i)},u.prototype.AT_LEAST_ONE4=function(i){this.atLeastOneInternal(4,i)},u.prototype.AT_LEAST_ONE5=function(i){this.atLeastOneInternal(5,i)},u.prototype.AT_LEAST_ONE6=function(i){this.atLeastOneInternal(6,i)},u.prototype.AT_LEAST_ONE7=function(i){this.atLeastOneInternal(7,i)},u.prototype.AT_LEAST_ONE8=function(i){this.atLeastOneInternal(8,i)},u.prototype.AT_LEAST_ONE9=function(i){this.atLeastOneInternal(9,i)},u.prototype.AT_LEAST_ONE_SEP=function(i){this.atLeastOneSepFirstInternal(0,i)},u.prototype.AT_LEAST_ONE_SEP1=function(i){this.atLeastOneSepFirstInternal(1,i)},u.prototype.AT_LEAST_ONE_SEP2=function(i){this.atLeastOneSepFirstInternal(2,i)},u.prototype.AT_LEAST_ONE_SEP3=function(i){this.atLeastOneSepFirstInternal(3,i)},u.prototype.AT_LEAST_ONE_SEP4=function(i){this.atLeastOneSepFirstInternal(4,i)},u.prototype.AT_LEAST_ONE_SEP5=function(i){this.atLeastOneSepFirstInternal(5,i)},u.prototype.AT_LEAST_ONE_SEP6=function(i){this.atLeastOneSepFirstInternal(6,i)},u.prototype.AT_LEAST_ONE_SEP7=function(i){this.atLeastOneSepFirstInternal(7,i)},u.prototype.AT_LEAST_ONE_SEP8=function(i){this.atLeastOneSepFirstInternal(8,i)},u.prototype.AT_LEAST_ONE_SEP9=function(i){this.atLeastOneSepFirstInternal(9,i)},u.prototype.RULE=function(i,h,g){if(g===void 0&&(g=a.DEFAULT_RULE_CONFIG),(0,r.default)(this.definedRulesNames,i)){var b=o.defaultGrammarValidatorErrorProvider.buildDuplicateRuleNameError({topLevelRule:i,grammarName:this.className}),T={message:b,type:a.ParserDefinitionErrorType.DUPLICATE_RULE_NAME,ruleName:i};this.definitionErrors.push(T)}this.definedRulesNames.push(i);var l=this.defineRule(i,h,g);return this[i]=l,l},u.prototype.OVERRIDE_RULE=function(i,h,g){g===void 0&&(g=a.DEFAULT_RULE_CONFIG);var b=(0,f.validateRuleIsOverridden)(i,this.definedRulesNames,this.className);this.definitionErrors=this.definitionErrors.concat(b);var T=this.defineRule(i,h,g);return this[i]=T,T},u.prototype.BACKTRACK=function(i,h){return function(){this.isBackTrackingStack.push(1);var g=this.saveRecogState();try{return i.apply(this,h),!0}catch(b){if((0,n.isRecognitionException)(b))return!1;throw b}finally{this.reloadRecogState(g),this.isBackTrackingStack.pop()}}},u.prototype.getGAstProductions=function(){return this.gastProductionsCache},u.prototype.getSerializedGastProductions=function(){return(0,d.serializeGrammar)((0,t.default)(this.gastProductionsCache))},u}();return Qt.RecognizerApi=c,Qt}var er={},ji;function OI(){if(ji)return er;ji=1;var e=D&&D.__importDefault||function(E){return E&&E.__esModule?E:{default:E}};Object.defineProperty(er,"__esModule",{value:!0}),er.RecognizerEngine=void 0;var t=e(He),r=e(me),n=e(ut),a=e(tn),o=e(Ta),f=e(nt),d=e(We),c=e(ot),u=e(Rt),i=e(pt),h=cn,g=Me,b=Wt,T=Ne,l=Ge(),A=vs(),R=Ot,S=It,L=function(){function E(){}return E.prototype.initRecognizerEngine=function(y,v){if(this.className=this.constructor.name,this.shortRuleNameToFull={},this.fullRuleNameToShort={},this.ruleShortNameIdx=256,this.tokenMatcher=S.tokenStructuredMatcherNoCategories,this.subruleIdx=0,this.definedRulesNames=[],this.tokensMap={},this.isBackTrackingStack=[],this.RULE_STACK=[],this.RULE_OCCURRENCE_STACK=[],this.gastProductionsCache={},(0,d.default)(v,"serializedGrammar"))throw Error(`The Parser's configuration can no longer contain a <serializedGrammar> property.
	See: https://chevrotain.io/docs/changes/BREAKING_CHANGES.html#_6-0-0
	For Further details.`);if((0,r.default)(y)){if((0,t.default)(y))throw Error(`A Token Vocabulary cannot be empty.
	Note that the first argument for the parser constructor
	is no longer a Token vector (since v4.0).`);if(typeof y[0].startOffset=="number")throw Error(`The Parser constructor no longer accepts a token vector as the first argument.
	See: https://chevrotain.io/docs/changes/BREAKING_CHANGES.html#_4-0-0
	For Further details.`)}if((0,r.default)(y))this.tokensMap=(0,u.default)(y,function(I,N){return I[N.name]=N,I},{});else if((0,d.default)(y,"modes")&&(0,a.default)((0,n.default)((0,c.default)(y.modes)),S.isTokenType)){var p=(0,n.default)((0,c.default)(y.modes)),_=(0,o.default)(p);this.tokensMap=(0,u.default)(_,function(I,N){return I[N.name]=N,I},{})}else if((0,f.default)(y))this.tokensMap=(0,i.default)(y);else throw new Error("<tokensDictionary> argument must be An Array of Token constructors, A dictionary of Token constructors or an IMultiModeLexerDefinition");this.tokensMap.EOF=R.EOF;var s=(0,d.default)(y,"modes")?(0,n.default)((0,c.default)(y.modes)):(0,c.default)(y),m=(0,a.default)(s,function(I){return(0,t.default)(I.categoryMatches)});this.tokenMatcher=m?S.tokenStructuredMatcherNoCategories:S.tokenStructuredMatcher,(0,S.augmentTokenTypes)((0,c.default)(this.tokensMap))},E.prototype.defineRule=function(y,v,p){if(this.selfAnalysisDone)throw Error("Grammar rule <".concat(y,`> may not be defined after the 'performSelfAnalysis' method has been called'
`)+"Make sure that all grammar rule definitions are done before 'performSelfAnalysis' is called.");var _=(0,d.default)(p,"resyncEnabled")?p.resyncEnabled:l.DEFAULT_RULE_CONFIG.resyncEnabled,s=(0,d.default)(p,"recoveryValueFunc")?p.recoveryValueFunc:l.DEFAULT_RULE_CONFIG.recoveryValueFunc,m=this.ruleShortNameIdx<<h.BITS_FOR_METHOD_TYPE+h.BITS_FOR_OCCURRENCE_IDX;this.ruleShortNameIdx++,this.shortRuleNameToFull[m]=y,this.fullRuleNameToShort[y]=m;var I;this.outputCst===!0?I=function(){for(var P=[],k=0;k<arguments.length;k++)P[k]=arguments[k];try{this.ruleInvocationStateUpdate(m,y,this.subruleIdx),v.apply(this,P);var H=this.CST_STACK[this.CST_STACK.length-1];return this.cstPostRule(H),H}catch(O){return this.invokeRuleCatch(O,_,s)}finally{this.ruleFinallyStateUpdate()}}:I=function(){for(var P=[],k=0;k<arguments.length;k++)P[k]=arguments[k];try{return this.ruleInvocationStateUpdate(m,y,this.subruleIdx),v.apply(this,P)}catch(H){return this.invokeRuleCatch(H,_,s)}finally{this.ruleFinallyStateUpdate()}};var N=Object.assign(I,{ruleName:y,originalGrammarAction:v});return N},E.prototype.invokeRuleCatch=function(y,v,p){var _=this.RULE_STACK.length===1,s=v&&!this.isBackTracking()&&this.recoveryEnabled;if((0,g.isRecognitionException)(y)){var m=y;if(s){var I=this.findReSyncTokenType();if(this.isInCurrentRuleReSyncSet(I))if(m.resyncedTokens=this.reSyncTo(I),this.outputCst){var N=this.CST_STACK[this.CST_STACK.length-1];return N.recoveredNode=!0,N}else return p(y);else{if(this.outputCst){var N=this.CST_STACK[this.CST_STACK.length-1];N.recoveredNode=!0,m.partialCstResult=N}throw m}}else{if(_)return this.moveToTerminatedState(),p(y);throw m}}else throw y},E.prototype.optionInternal=function(y,v){var p=this.getKeyForAutomaticLookahead(h.OPTION_IDX,v);return this.optionInternalLogic(y,v,p)},E.prototype.optionInternalLogic=function(y,v,p){var _=this,s=this.getLaFuncFromCache(p),m;if(typeof y!="function"){m=y.DEF;var I=y.GATE;if(I!==void 0){var N=s;s=function(){return I.call(_)&&N.call(_)}}}else m=y;if(s.call(this)===!0)return m.call(this)},E.prototype.atLeastOneInternal=function(y,v){var p=this.getKeyForAutomaticLookahead(h.AT_LEAST_ONE_IDX,y);return this.atLeastOneInternalLogic(y,v,p)},E.prototype.atLeastOneInternalLogic=function(y,v,p){var _=this,s=this.getLaFuncFromCache(p),m;if(typeof v!="function"){m=v.DEF;var I=v.GATE;if(I!==void 0){var N=s;s=function(){return I.call(_)&&N.call(_)}}}else m=v;if(s.call(this)===!0)for(var G=this.doSingleRepetition(m);s.call(this)===!0&&G===!0;)G=this.doSingleRepetition(m);else throw this.raiseEarlyExitException(y,b.PROD_TYPE.REPETITION_MANDATORY,v.ERR_MSG);this.attemptInRepetitionRecovery(this.atLeastOneInternal,[y,v],s,h.AT_LEAST_ONE_IDX,y,T.NextTerminalAfterAtLeastOneWalker)},E.prototype.atLeastOneSepFirstInternal=function(y,v){var p=this.getKeyForAutomaticLookahead(h.AT_LEAST_ONE_SEP_IDX,y);this.atLeastOneSepFirstInternalLogic(y,v,p)},E.prototype.atLeastOneSepFirstInternalLogic=function(y,v,p){var _=this,s=v.DEF,m=v.SEP,I=this.getLaFuncFromCache(p);if(I.call(this)===!0){s.call(this);for(var N=function(){return _.tokenMatcher(_.LA(1),m)};this.tokenMatcher(this.LA(1),m)===!0;)this.CONSUME(m),s.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[y,m,N,s,T.NextTerminalAfterAtLeastOneSepWalker],N,h.AT_LEAST_ONE_SEP_IDX,y,T.NextTerminalAfterAtLeastOneSepWalker)}else throw this.raiseEarlyExitException(y,b.PROD_TYPE.REPETITION_MANDATORY_WITH_SEPARATOR,v.ERR_MSG)},E.prototype.manyInternal=function(y,v){var p=this.getKeyForAutomaticLookahead(h.MANY_IDX,y);return this.manyInternalLogic(y,v,p)},E.prototype.manyInternalLogic=function(y,v,p){var _=this,s=this.getLaFuncFromCache(p),m;if(typeof v!="function"){m=v.DEF;var I=v.GATE;if(I!==void 0){var N=s;s=function(){return I.call(_)&&N.call(_)}}}else m=v;for(var G=!0;s.call(this)===!0&&G===!0;)G=this.doSingleRepetition(m);this.attemptInRepetitionRecovery(this.manyInternal,[y,v],s,h.MANY_IDX,y,T.NextTerminalAfterManyWalker,G)},E.prototype.manySepFirstInternal=function(y,v){var p=this.getKeyForAutomaticLookahead(h.MANY_SEP_IDX,y);this.manySepFirstInternalLogic(y,v,p)},E.prototype.manySepFirstInternalLogic=function(y,v,p){var _=this,s=v.DEF,m=v.SEP,I=this.getLaFuncFromCache(p);if(I.call(this)===!0){s.call(this);for(var N=function(){return _.tokenMatcher(_.LA(1),m)};this.tokenMatcher(this.LA(1),m)===!0;)this.CONSUME(m),s.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[y,m,N,s,T.NextTerminalAfterManySepWalker],N,h.MANY_SEP_IDX,y,T.NextTerminalAfterManySepWalker)}},E.prototype.repetitionSepSecondInternal=function(y,v,p,_,s){for(;p();)this.CONSUME(v),_.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[y,v,p,_,s],p,h.AT_LEAST_ONE_SEP_IDX,y,s)},E.prototype.doSingleRepetition=function(y){var v=this.getLexerPosition();y.call(this);var p=this.getLexerPosition();return p>v},E.prototype.orInternal=function(y,v){var p=this.getKeyForAutomaticLookahead(h.OR_IDX,v),_=(0,r.default)(y)?y:y.DEF,s=this.getLaFuncFromCache(p),m=s.call(this,_);if(m!==void 0){var I=_[m];return I.ALT.call(this)}this.raiseNoAltException(v,y.ERR_MSG)},E.prototype.ruleFinallyStateUpdate=function(){if(this.RULE_STACK.pop(),this.RULE_OCCURRENCE_STACK.pop(),this.cstFinallyStateUpdate(),this.RULE_STACK.length===0&&this.isAtEndOfInput()===!1){var y=this.LA(1),v=this.errorMessageProvider.buildNotAllInputParsedMessage({firstRedundant:y,ruleName:this.getCurrRuleFullName()});this.SAVE_ERROR(new g.NotAllInputParsedException(v,y))}},E.prototype.subruleInternal=function(y,v,p){var _;try{var s=p!==void 0?p.ARGS:void 0;return this.subruleIdx=v,_=y.apply(this,s),this.cstPostNonTerminal(_,p!==void 0&&p.LABEL!==void 0?p.LABEL:y.ruleName),_}catch(m){throw this.subruleInternalError(m,p,y.ruleName)}},E.prototype.subruleInternalError=function(y,v,p){throw(0,g.isRecognitionException)(y)&&y.partialCstResult!==void 0&&(this.cstPostNonTerminal(y.partialCstResult,v!==void 0&&v.LABEL!==void 0?v.LABEL:p),delete y.partialCstResult),y},E.prototype.consumeInternal=function(y,v,p){var _;try{var s=this.LA(1);this.tokenMatcher(s,y)===!0?(this.consumeToken(),_=s):this.consumeInternalError(y,s,p)}catch(m){_=this.consumeInternalRecovery(y,v,m)}return this.cstPostTerminal(p!==void 0&&p.LABEL!==void 0?p.LABEL:y.name,_),_},E.prototype.consumeInternalError=function(y,v,p){var _,s=this.LA(0);throw p!==void 0&&p.ERR_MSG?_=p.ERR_MSG:_=this.errorMessageProvider.buildMismatchTokenMessage({expected:y,actual:v,previous:s,ruleName:this.getCurrRuleFullName()}),this.SAVE_ERROR(new g.MismatchedTokenException(_,v,s))},E.prototype.consumeInternalRecovery=function(y,v,p){if(this.recoveryEnabled&&p.name==="MismatchedTokenException"&&!this.isBackTracking()){var _=this.getFollowsForInRuleRecovery(y,v);try{return this.tryInRuleRecovery(y,_)}catch(s){throw s.name===A.IN_RULE_RECOVERY_EXCEPTION?p:s}}else throw p},E.prototype.saveRecogState=function(){var y=this.errors,v=(0,i.default)(this.RULE_STACK);return{errors:y,lexerState:this.exportLexerState(),RULE_STACK:v,CST_STACK:this.CST_STACK}},E.prototype.reloadRecogState=function(y){this.errors=y.errors,this.importLexerState(y.lexerState),this.RULE_STACK=y.RULE_STACK},E.prototype.ruleInvocationStateUpdate=function(y,v,p){this.RULE_OCCURRENCE_STACK.push(p),this.RULE_STACK.push(y),this.cstInvocationStateUpdate(v)},E.prototype.isBackTracking=function(){return this.isBackTrackingStack.length!==0},E.prototype.getCurrRuleFullName=function(){var y=this.getLastExplicitRuleShortName();return this.shortRuleNameToFull[y]},E.prototype.shortRuleNameToFullName=function(y){return this.shortRuleNameToFull[y]},E.prototype.isAtEndOfInput=function(){return this.tokenMatcher(this.LA(1),R.EOF)},E.prototype.reset=function(){this.resetLexerState(),this.subruleIdx=0,this.isBackTrackingStack=[],this.errors=[],this.RULE_STACK=[],this.CST_STACK=[],this.RULE_OCCURRENCE_STACK=[]},E}();return er.RecognizerEngine=L,er}var tr={},Wi;function RI(){if(Wi)return tr;Wi=1;var e=D&&D.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(tr,"__esModule",{value:!0}),tr.ErrorHandler=void 0;var t=Me,r=e(We),n=e(pt),a=Wt,o=Ge(),f=function(){function d(){}return d.prototype.initErrorHandler=function(c){this._errors=[],this.errorMessageProvider=(0,r.default)(c,"errorMessageProvider")?c.errorMessageProvider:o.DEFAULT_PARSER_CONFIG.errorMessageProvider},d.prototype.SAVE_ERROR=function(c){if((0,t.isRecognitionException)(c))return c.context={ruleStack:this.getHumanReadableRuleStack(),ruleOccurrenceStack:(0,n.default)(this.RULE_OCCURRENCE_STACK)},this._errors.push(c),c;throw Error("Trying to save an Error which is not a RecognitionException")},Object.defineProperty(d.prototype,"errors",{get:function(){return(0,n.default)(this._errors)},set:function(c){this._errors=c},enumerable:!1,configurable:!0}),d.prototype.raiseEarlyExitException=function(c,u,i){for(var h=this.getCurrRuleFullName(),g=this.getGAstProductions()[h],b=(0,a.getLookaheadPathsForOptionalProd)(c,g,u,this.maxLookahead),T=b[0],l=[],A=1;A<=this.maxLookahead;A++)l.push(this.LA(A));var R=this.errorMessageProvider.buildEarlyExitMessage({expectedIterationPaths:T,actual:l,previous:this.LA(0),customUserDescription:i,ruleName:h});throw this.SAVE_ERROR(new t.EarlyExitException(R,this.LA(1),this.LA(0)))},d.prototype.raiseNoAltException=function(c,u){for(var i=this.getCurrRuleFullName(),h=this.getGAstProductions()[i],g=(0,a.getLookaheadPathsForOr)(c,h,this.maxLookahead),b=[],T=1;T<=this.maxLookahead;T++)b.push(this.LA(T));var l=this.LA(0),A=this.errorMessageProvider.buildNoViableAltMessage({expectedPathsPerAlt:g,actual:b,previous:l,customUserDescription:u,ruleName:this.getCurrRuleFullName()});throw this.SAVE_ERROR(new t.NoViableAltException(A,this.LA(1),l))},d}();return tr.ErrorHandler=f,tr}var fn={},ys=D&&D.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(fn,"__esModule",{value:!0});fn.ContentAssist=void 0;var Ki=Ne,II=ys(Er),NI=ys(Gt),SI=function(){function e(){}return e.prototype.initContentAssist=function(){},e.prototype.computeContentAssist=function(t,r){var n=this.gastProductionsCache[t];if((0,NI.default)(n))throw Error("Rule ->".concat(t,"<- does not exist in this grammar."));return(0,Ki.nextPossibleTokensAfter)([n],r,this.tokenMatcher,this.maxLookahead)},e.prototype.getNextPossibleTokenTypes=function(t){var r=(0,II.default)(t.ruleStack),n=this.getGAstProductions(),a=n[r],o=new Ki.NextAfterTokenWalker(a,t).startWalking();return o},e}();fn.ContentAssist=SI;var rr={},Vi;function LI(){if(Vi)return rr;Vi=1;var e=D&&D.__importDefault||function(_){return _&&_.__esModule?_:{default:_}};Object.defineProperty(rr,"__esModule",{value:!0}),rr.GastRecorder=void 0;var t=e(La),r=e(me),n=e(_a),a=e($e),o=e(lr),f=e(We),d=Le,c=an(),u=It,i=Ot,h=Ge(),g=cn,b={description:"This Object indicates the Parser is during Recording Phase"};Object.freeze(b);var T=!0,l=Math.pow(2,g.BITS_FOR_OCCURRENCE_IDX)-1,A=(0,i.createToken)({name:"RECORDING_PHASE_TOKEN",pattern:c.Lexer.NA});(0,u.augmentTokenTypes)([A]);var R=(0,i.createTokenInstance)(A,`This IToken indicates the Parser is in Recording Phase
	See: https://chevrotain.io/docs/guide/internals.html#grammar-recording for details`,-1,-1,-1,-1,-1,-1);Object.freeze(R);var S={name:`This CSTNode indicates the Parser is in Recording Phase
	See: https://chevrotain.io/docs/guide/internals.html#grammar-recording for details`,children:{}},L=function(){function _(){}return _.prototype.initGastRecorder=function(s){this.recordingProdStack=[],this.RECORDING_PHASE=!1},_.prototype.enableRecording=function(){var s=this;this.RECORDING_PHASE=!0,this.TRACE_INIT("Enable Recording",function(){for(var m=function(N){var G=N>0?N:"";s["CONSUME".concat(G)]=function(P,k){return this.consumeInternalRecord(P,N,k)},s["SUBRULE".concat(G)]=function(P,k){return this.subruleInternalRecord(P,N,k)},s["OPTION".concat(G)]=function(P){return this.optionInternalRecord(P,N)},s["OR".concat(G)]=function(P){return this.orInternalRecord(P,N)},s["MANY".concat(G)]=function(P){this.manyInternalRecord(N,P)},s["MANY_SEP".concat(G)]=function(P){this.manySepFirstInternalRecord(N,P)},s["AT_LEAST_ONE".concat(G)]=function(P){this.atLeastOneInternalRecord(N,P)},s["AT_LEAST_ONE_SEP".concat(G)]=function(P){this.atLeastOneSepFirstInternalRecord(N,P)}},I=0;I<10;I++)m(I);s.consume=function(N,G,P){return this.consumeInternalRecord(G,N,P)},s.subrule=function(N,G,P){return this.subruleInternalRecord(G,N,P)},s.option=function(N,G){return this.optionInternalRecord(G,N)},s.or=function(N,G){return this.orInternalRecord(G,N)},s.many=function(N,G){this.manyInternalRecord(N,G)},s.atLeastOne=function(N,G){this.atLeastOneInternalRecord(N,G)},s.ACTION=s.ACTION_RECORD,s.BACKTRACK=s.BACKTRACK_RECORD,s.LA=s.LA_RECORD})},_.prototype.disableRecording=function(){var s=this;this.RECORDING_PHASE=!1,this.TRACE_INIT("Deleting Recording methods",function(){for(var m=s,I=0;I<10;I++){var N=I>0?I:"";delete m["CONSUME".concat(N)],delete m["SUBRULE".concat(N)],delete m["OPTION".concat(N)],delete m["OR".concat(N)],delete m["MANY".concat(N)],delete m["MANY_SEP".concat(N)],delete m["AT_LEAST_ONE".concat(N)],delete m["AT_LEAST_ONE_SEP".concat(N)]}delete m.consume,delete m.subrule,delete m.option,delete m.or,delete m.many,delete m.atLeastOne,delete m.ACTION,delete m.BACKTRACK,delete m.LA})},_.prototype.ACTION_RECORD=function(s){},_.prototype.BACKTRACK_RECORD=function(s,m){return function(){return!0}},_.prototype.LA_RECORD=function(s){return h.END_OF_FILE},_.prototype.topLevelRuleRecord=function(s,m){try{var I=new d.Rule({definition:[],name:s});return I.name=s,this.recordingProdStack.push(I),m.call(this),this.recordingProdStack.pop(),I}catch(N){if(N.KNOWN_RECORDER_ERROR!==!0)try{N.message=N.message+`
	 This error was thrown during the "grammar recording phase" For more info see:
	https://chevrotain.io/docs/guide/internals.html#grammar-recording`}catch{throw N}throw N}},_.prototype.optionInternalRecord=function(s,m){return E.call(this,d.Option,s,m)},_.prototype.atLeastOneInternalRecord=function(s,m){E.call(this,d.RepetitionMandatory,m,s)},_.prototype.atLeastOneSepFirstInternalRecord=function(s,m){E.call(this,d.RepetitionMandatoryWithSeparator,m,s,T)},_.prototype.manyInternalRecord=function(s,m){E.call(this,d.Repetition,m,s)},_.prototype.manySepFirstInternalRecord=function(s,m){E.call(this,d.RepetitionWithSeparator,m,s,T)},_.prototype.orInternalRecord=function(s,m){return y.call(this,s,m)},_.prototype.subruleInternalRecord=function(s,m,I){if(p(m),!s||(0,f.default)(s,"ruleName")===!1){var N=new Error("<SUBRULE".concat(v(m),"> argument is invalid")+" expecting a Parser method reference but got: <".concat(JSON.stringify(s),">")+`
 inside top level rule: <`.concat(this.recordingProdStack[0].name,">"));throw N.KNOWN_RECORDER_ERROR=!0,N}var G=(0,t.default)(this.recordingProdStack),P=s.ruleName,k=new d.NonTerminal({idx:m,nonTerminalName:P,label:I==null?void 0:I.LABEL,referencedRule:void 0});return G.definition.push(k),this.outputCst?S:b},_.prototype.consumeInternalRecord=function(s,m,I){if(p(m),!(0,u.hasShortKeyProperty)(s)){var N=new Error("<CONSUME".concat(v(m),"> argument is invalid")+" expecting a TokenType reference but got: <".concat(JSON.stringify(s),">")+`
 inside top level rule: <`.concat(this.recordingProdStack[0].name,">"));throw N.KNOWN_RECORDER_ERROR=!0,N}var G=(0,t.default)(this.recordingProdStack),P=new d.Terminal({idx:m,terminalType:s,label:I==null?void 0:I.LABEL});return G.definition.push(P),R},_}();rr.GastRecorder=L;function E(_,s,m,I){I===void 0&&(I=!1),p(m);var N=(0,t.default)(this.recordingProdStack),G=(0,o.default)(s)?s:s.DEF,P=new _({definition:[],idx:m});return I&&(P.separator=s.SEP),(0,f.default)(s,"MAX_LOOKAHEAD")&&(P.maxLookahead=s.MAX_LOOKAHEAD),this.recordingProdStack.push(P),G.call(this),N.definition.push(P),this.recordingProdStack.pop(),b}function y(_,s){var m=this;p(s);var I=(0,t.default)(this.recordingProdStack),N=(0,r.default)(_)===!1,G=N===!1?_:_.DEF,P=new d.Alternation({definition:[],idx:s,ignoreAmbiguities:N&&_.IGNORE_AMBIGUITIES===!0});(0,f.default)(_,"MAX_LOOKAHEAD")&&(P.maxLookahead=_.MAX_LOOKAHEAD);var k=(0,n.default)(G,function(H){return(0,o.default)(H.GATE)});return P.hasPredicates=k,I.definition.push(P),(0,a.default)(G,function(H){var O=new d.Alternative({definition:[]});P.definition.push(O),(0,f.default)(H,"IGNORE_AMBIGUITIES")?O.ignoreAmbiguities=H.IGNORE_AMBIGUITIES:(0,f.default)(H,"GATE")&&(O.ignoreAmbiguities=!0),m.recordingProdStack.push(O),H.ALT.call(m),m.recordingProdStack.pop()}),b}function v(_){return _===0?"":"".concat(_)}function p(_){if(_<0||_>l){var s=new Error("Invalid DSL Method idx value: <".concat(_,`>
	`)+"Idx value must be a none negative value smaller than ".concat(l+1));throw s.KNOWN_RECORDER_ERROR=!0,s}}return rr}var nr={},Hi;function PI(){if(Hi)return nr;Hi=1;var e=D&&D.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(nr,"__esModule",{value:!0}),nr.PerformanceTracer=void 0;var t=e(We),r=Dt,n=Ge(),a=function(){function o(){}return o.prototype.initPerformanceTracer=function(f){if((0,t.default)(f,"traceInitPerf")){var d=f.traceInitPerf,c=typeof d=="number";this.traceInitMaxIdent=c?d:1/0,this.traceInitPerf=c?d>0:d}else this.traceInitMaxIdent=0,this.traceInitPerf=n.DEFAULT_PARSER_CONFIG.traceInitPerf;this.traceInitIndent=-1},o.prototype.TRACE_INIT=function(f,d){if(this.traceInitPerf===!0){this.traceInitIndent++;var c=new Array(this.traceInitIndent+1).join("	");this.traceInitIndent<this.traceInitMaxIdent&&console.log("".concat(c,"--> <").concat(f,">"));var u=(0,r.timer)(d),i=u.time,h=u.value,g=i>10?console.warn:console.log;return this.traceInitIndent<this.traceInitMaxIdent&&g("".concat(c,"<-- <").concat(f,"> time: ").concat(i,"ms")),this.traceInitIndent--,h}else return d()},o}();return nr.PerformanceTracer=a,nr}var dn={};Object.defineProperty(dn,"__esModule",{value:!0});dn.applyMixins=void 0;function bI(e,t){t.forEach(function(r){var n=r.prototype;Object.getOwnPropertyNames(n).forEach(function(a){if(a!=="constructor"){var o=Object.getOwnPropertyDescriptor(n,a);o&&(o.get||o.set)?Object.defineProperty(e.prototype,a,o):e.prototype[a]=r.prototype[a]}})})}dn.applyMixins=bI;var zi;function Ge(){return zi||(zi=1,function(e){var t=D&&D.__extends||function(){var P=function(k,H){return P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(O,F){O.__proto__=F}||function(O,F){for(var C in F)Object.prototype.hasOwnProperty.call(F,C)&&(O[C]=F[C])},P(k,H)};return function(k,H){if(typeof H!="function"&&H!==null)throw new TypeError("Class extends value "+String(H)+" is not a constructor or null");P(k,H);function O(){this.constructor=k}k.prototype=H===null?Object.create(H):(O.prototype=H.prototype,new O)}}(),r=D&&D.__importDefault||function(P){return P&&P.__esModule?P:{default:P}};Object.defineProperty(e,"__esModule",{value:!0}),e.EmbeddedActionsParser=e.CstParser=e.Parser=e.EMPTY_ALT=e.ParserDefinitionErrorType=e.DEFAULT_RULE_CONFIG=e.DEFAULT_PARSER_CONFIG=e.END_OF_FILE=void 0;var n=r(He),a=r(Ue),o=r($e),f=r(ot),d=r(We),c=r(pt),u=Dt,i=Ye,h=Ot,g=jt,b=iI(),T=vs(),l=hI(),A=EI(),R=TI(),S=AI(),L=OI(),E=RI(),y=fn,v=LI(),p=PI(),_=dn,s=sn();e.END_OF_FILE=(0,h.createTokenInstance)(h.EOF,"",NaN,NaN,NaN,NaN,NaN,NaN),Object.freeze(e.END_OF_FILE),e.DEFAULT_PARSER_CONFIG=Object.freeze({recoveryEnabled:!1,maxLookahead:3,dynamicTokensEnabled:!1,outputCst:!0,errorMessageProvider:g.defaultParserErrorProvider,nodeLocationTracking:"none",traceInitPerf:!1,skipValidations:!1}),e.DEFAULT_RULE_CONFIG=Object.freeze({recoveryValueFunc:function(){},resyncEnabled:!0}),function(P){P[P.INVALID_RULE_NAME=0]="INVALID_RULE_NAME",P[P.DUPLICATE_RULE_NAME=1]="DUPLICATE_RULE_NAME",P[P.INVALID_RULE_OVERRIDE=2]="INVALID_RULE_OVERRIDE",P[P.DUPLICATE_PRODUCTIONS=3]="DUPLICATE_PRODUCTIONS",P[P.UNRESOLVED_SUBRULE_REF=4]="UNRESOLVED_SUBRULE_REF",P[P.LEFT_RECURSION=5]="LEFT_RECURSION",P[P.NONE_LAST_EMPTY_ALT=6]="NONE_LAST_EMPTY_ALT",P[P.AMBIGUOUS_ALTS=7]="AMBIGUOUS_ALTS",P[P.CONFLICT_TOKENS_RULES_NAMESPACE=8]="CONFLICT_TOKENS_RULES_NAMESPACE",P[P.INVALID_TOKEN_NAME=9]="INVALID_TOKEN_NAME",P[P.NO_NON_EMPTY_LOOKAHEAD=10]="NO_NON_EMPTY_LOOKAHEAD",P[P.AMBIGUOUS_PREFIX_ALTS=11]="AMBIGUOUS_PREFIX_ALTS",P[P.TOO_MANY_ALTS=12]="TOO_MANY_ALTS",P[P.CUSTOM_LOOKAHEAD_VALIDATION=13]="CUSTOM_LOOKAHEAD_VALIDATION"}(e.ParserDefinitionErrorType||(e.ParserDefinitionErrorType={}));function m(P){return P===void 0&&(P=void 0),function(){return P}}e.EMPTY_ALT=m;var I=function(){function P(k,H){this.definitionErrors=[],this.selfAnalysisDone=!1;var O=this;if(O.initErrorHandler(H),O.initLexerAdapter(),O.initLooksAhead(H),O.initRecognizerEngine(k,H),O.initRecoverable(H),O.initTreeBuilder(H),O.initContentAssist(),O.initGastRecorder(H),O.initPerformanceTracer(H),(0,d.default)(H,"ignoredIssues"))throw new Error(`The <ignoredIssues> IParserConfig property has been deprecated.
	Please use the <IGNORE_AMBIGUITIES> flag on the relevant DSL method instead.
	See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#IGNORING_AMBIGUITIES
	For further details.`);this.skipValidations=(0,d.default)(H,"skipValidations")?H.skipValidations:e.DEFAULT_PARSER_CONFIG.skipValidations}return P.performSelfAnalysis=function(k){throw Error("The **static** `performSelfAnalysis` method has been deprecated.	\nUse the **instance** method with the same name instead.")},P.prototype.performSelfAnalysis=function(){var k=this;this.TRACE_INIT("performSelfAnalysis",function(){var H;k.selfAnalysisDone=!0;var O=k.className;k.TRACE_INIT("toFastProps",function(){(0,u.toFastProperties)(k)}),k.TRACE_INIT("Grammar Recording",function(){try{k.enableRecording(),(0,o.default)(k.definedRulesNames,function(C){var K=k[C],V=K.originalGrammarAction,z;k.TRACE_INIT("".concat(C," Rule"),function(){z=k.topLevelRuleRecord(C,V)}),k.gastProductionsCache[C]=z})}finally{k.disableRecording()}});var F=[];if(k.TRACE_INIT("Grammar Resolving",function(){F=(0,b.resolveGrammar)({rules:(0,f.default)(k.gastProductionsCache)}),k.definitionErrors=k.definitionErrors.concat(F)}),k.TRACE_INIT("Grammar Validations",function(){if((0,n.default)(F)&&k.skipValidations===!1){var C=(0,b.validateGrammar)({rules:(0,f.default)(k.gastProductionsCache),tokenTypes:(0,f.default)(k.tokensMap),errMsgProvider:g.defaultGrammarValidatorErrorProvider,grammarName:O}),K=(0,s.validateLookahead)({lookaheadStrategy:k.lookaheadStrategy,rules:(0,f.default)(k.gastProductionsCache),tokenTypes:(0,f.default)(k.tokensMap),grammarName:O});k.definitionErrors=k.definitionErrors.concat(C,K)}}),(0,n.default)(k.definitionErrors)&&(k.recoveryEnabled&&k.TRACE_INIT("computeAllProdsFollows",function(){var C=(0,i.computeAllProdsFollows)((0,f.default)(k.gastProductionsCache));k.resyncFollows=C}),k.TRACE_INIT("ComputeLookaheadFunctions",function(){var C,K;(K=(C=k.lookaheadStrategy).initialize)===null||K===void 0||K.call(C,{rules:(0,f.default)(k.gastProductionsCache)}),k.preComputeLookaheadFunctions((0,f.default)(k.gastProductionsCache))})),!P.DEFER_DEFINITION_ERRORS_HANDLING&&!(0,n.default)(k.definitionErrors))throw H=(0,a.default)(k.definitionErrors,function(C){return C.message}),new Error(`Parser Definition Errors detected:
 `.concat(H.join(`
-------------------------------
`)))})},P.DEFER_DEFINITION_ERRORS_HANDLING=!1,P}();e.Parser=I,(0,_.applyMixins)(I,[T.Recoverable,l.LooksAhead,A.TreeBuilder,R.LexerAdapter,L.RecognizerEngine,S.RecognizerApi,E.ErrorHandler,y.ContentAssist,v.GastRecorder,p.PerformanceTracer]);var N=function(P){t(k,P);function k(H,O){O===void 0&&(O=e.DEFAULT_PARSER_CONFIG);var F=(0,c.default)(O);return F.outputCst=!0,P.call(this,H,F)||this}return k}(I);e.CstParser=N;var G=function(P){t(k,P);function k(H,O){O===void 0&&(O=e.DEFAULT_PARSER_CONFIG);var F=(0,c.default)(O);return F.outputCst=!1,P.call(this,H,F)||this}return k}(I);e.EmbeddedActionsParser=G}(An)),An}var hn={},pn={},CI=D&&D.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(n[o]=a[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Kt=D&&D.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(pn,"__esModule",{value:!0});pn.buildModel=void 0;var gs=Le,ar=Kt(Ue),kI=Kt(ut),MI=Kt(ot),$I=Kt(_a),FI=Kt(is),wI=Kt(Qr);function xI(e){var t=new DI,r=(0,MI.default)(e);return(0,ar.default)(r,function(n){return t.visitRule(n)})}pn.buildModel=xI;var DI=function(e){CI(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.visitRule=function(r){var n=this.visitEach(r.definition),a=(0,FI.default)(n,function(f){return f.propertyName}),o=(0,ar.default)(a,function(f,d){var c=!(0,$I.default)(f,function(i){return!i.canBeNull}),u=f[0].type;return f.length>1&&(u=(0,ar.default)(f,function(i){return i.type})),{name:d,type:u,optional:c}});return{name:r.name,properties:o}},t.prototype.visitAlternative=function(r){return this.visitEachAndOverrideWith(r.definition,{canBeNull:!0})},t.prototype.visitOption=function(r){return this.visitEachAndOverrideWith(r.definition,{canBeNull:!0})},t.prototype.visitRepetition=function(r){return this.visitEachAndOverrideWith(r.definition,{canBeNull:!0})},t.prototype.visitRepetitionMandatory=function(r){return this.visitEach(r.definition)},t.prototype.visitRepetitionMandatoryWithSeparator=function(r){return this.visitEach(r.definition).concat({propertyName:r.separator.name,canBeNull:!0,type:Nr(r.separator)})},t.prototype.visitRepetitionWithSeparator=function(r){return this.visitEachAndOverrideWith(r.definition,{canBeNull:!0}).concat({propertyName:r.separator.name,canBeNull:!0,type:Nr(r.separator)})},t.prototype.visitAlternation=function(r){return this.visitEachAndOverrideWith(r.definition,{canBeNull:!0})},t.prototype.visitTerminal=function(r){return[{propertyName:r.label||r.terminalType.name,canBeNull:!1,type:Nr(r)}]},t.prototype.visitNonTerminal=function(r){return[{propertyName:r.label||r.nonTerminalName,canBeNull:!1,type:Nr(r)}]},t.prototype.visitEachAndOverrideWith=function(r,n){return(0,ar.default)(this.visitEach(r),function(a){return(0,wI.default)({},a,n)})},t.prototype.visitEach=function(r){var n=this;return(0,kI.default)((0,ar.default)(r,function(a){return n.visit(a)}))},t}(gs.GAstVisitor);function Nr(e){return e instanceof gs.NonTerminal?{kind:"rule",name:e.referencedRule.name}:{kind:"token"}}var vn={},UI=ha;function BI(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:UI(e,t,r)}var GI=BI,jI="\\ud800-\\udfff",WI="\\u0300-\\u036f",KI="\\ufe20-\\ufe2f",VI="\\u20d0-\\u20ff",HI=WI+KI+VI,zI="\\ufe0e\\ufe0f",YI="\\u200d",qI=RegExp("["+YI+jI+HI+zI+"]");function XI(e){return qI.test(e)}var Es=XI;function ZI(e){return e.split("")}var JI=ZI,Ts="\\ud800-\\udfff",QI="\\u0300-\\u036f",eN="\\ufe20-\\ufe2f",tN="\\u20d0-\\u20ff",rN=QI+eN+tN,nN="\\ufe0e\\ufe0f",aN="["+Ts+"]",Bn="["+rN+"]",Gn="\\ud83c[\\udffb-\\udfff]",iN="(?:"+Bn+"|"+Gn+")",As="[^"+Ts+"]",Os="(?:\\ud83c[\\udde6-\\uddff]){2}",Rs="[\\ud800-\\udbff][\\udc00-\\udfff]",oN="\\u200d",Is=iN+"?",Ns="["+nN+"]?",sN="(?:"+oN+"(?:"+[As,Os,Rs].join("|")+")"+Ns+Is+")*",uN=Ns+Is+sN,cN="(?:"+[As+Bn+"?",Bn,Os,Rs,aN].join("|")+")",lN=RegExp(Gn+"(?="+Gn+")|"+cN+uN,"g");function fN(e){return e.match(lN)||[]}var dN=fN,hN=JI,pN=Es,vN=dN;function _N(e){return pN(e)?vN(e):hN(e)}var mN=_N,yN=GI,gN=Es,EN=mN,TN=go;function AN(e){return function(t){t=TN(t);var r=gN(t)?EN(t):void 0,n=r?r[0]:t.charAt(0),a=r?yN(r,1).join(""):t.slice(1);return n[e]()+a}}var ON=AN,RN=ON,IN=RN("toUpperCase"),NN=IN,Vt=D&&D.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(vn,"__esModule",{value:!0});vn.genDts=void 0;var SN=Vt(ut),LN=Vt(me),_n=Vt(Ue),PN=Vt(Rt),bN=Vt(Ta),Ss=Vt(NN);function CN(e,t){var r=[];return r=r.concat('import type { CstNode, ICstVisitor, IToken } from "chevrotain";'),r=r.concat((0,SN.default)((0,_n.default)(e,function(n){return kN(n)}))),t.includeVisitorInterface&&(r=r.concat(wN(t.visitorInterfaceName,e))),r.join(`

`)+`
`}vn.genDts=CN;function kN(e){var t=MN(e),r=$N(e);return[t,r]}function MN(e){var t=Ls(e.name),r=ba(e.name);return"export interface ".concat(t,` extends CstNode {
  name: "`).concat(e.name,`";
  children: `).concat(r,`;
}`)}function $N(e){var t=ba(e.name);return"export type ".concat(t,` = {
  `).concat((0,_n.default)(e.properties,function(r){return FN(r)}).join(`
  `),`
};`)}function FN(e){var t=DN(e.type);return"".concat(e.name).concat(e.optional?"?":"",": ").concat(t,"[];")}function wN(e,t){return"export interface ".concat(e,`<IN, OUT> extends ICstVisitor<IN, OUT> {
  `).concat((0,_n.default)(t,function(r){return xN(r)}).join(`
  `),`
}`)}function xN(e){var t=ba(e.name);return"".concat(e.name,"(children: ").concat(t,", param?: IN): OUT;")}function DN(e){if((0,LN.default)(e)){var t=(0,bN.default)((0,_n.default)(e,function(n){return Yi(n)})),r=(0,PN.default)(t,function(n,a){return n+" | "+a});return"("+r+")"}else return Yi(e)}function Yi(e){return e.kind==="token"?"IToken":Ls(e.name)}function Ls(e){return(0,Ss.default)(e)+"CstNode"}function ba(e){return(0,Ss.default)(e)+"CstChildren"}var wr=D&&D.__assign||function(){return wr=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},wr.apply(this,arguments)};Object.defineProperty(hn,"__esModule",{value:!0});hn.generateCstDts=void 0;var UN=pn,BN=vn,GN={includeVisitorInterface:!0,visitorInterfaceName:"ICstNodeVisitor"};function jN(e,t){var r=wr(wr({},GN),t),n=(0,UN.buildModel)(e);return(0,BN.genDts)(n,r)}hn.generateCstDts=jN;var mn={};Object.defineProperty(mn,"__esModule",{value:!0});mn.createSyntaxDiagramsCode=void 0;var qi=ur;function WN(e,t){var r=t===void 0?{}:t,n=r.resourceBase,a=n===void 0?"https://unpkg.com/chevrotain@".concat(qi.VERSION,"/diagrams/"):n,o=r.css,f=o===void 0?"https://unpkg.com/chevrotain@".concat(qi.VERSION,"/diagrams/diagrams.css"):o,d=`
<!-- This is a generated file -->
<!DOCTYPE html>
<meta charset="utf-8">
<style>
  body {
    background-color: hsl(30, 20%, 95%)
  }
</style>

`,c=`
<link rel='stylesheet' href='`.concat(f,`'>
`),u=`
<script src='`.concat(a,`vendor/railroad-diagrams.js'><\/script>
<script src='`).concat(a,`src/diagrams_builder.js'><\/script>
<script src='`).concat(a,`src/diagrams_behavior.js'><\/script>
<script src='`).concat(a,`src/main.js'><\/script>
`),i=`
<div id="diagrams" align="center"></div>    
`,h=`
<script>
    window.serializedGrammar = `.concat(JSON.stringify(e,null,"  "),`;
<\/script>
`),g=`
<script>
    var diagramsDiv = document.getElementById("diagrams");
    main.drawDiagramsFromSerializedGrammar(serializedGrammar, diagramsDiv);
<\/script>
`;return d+c+u+i+h+g}mn.createSyntaxDiagramsCode=WN;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Parser=e.createSyntaxDiagramsCode=e.clearCache=e.generateCstDts=e.GAstVisitor=e.serializeProduction=e.serializeGrammar=e.Terminal=e.Rule=e.RepetitionWithSeparator=e.RepetitionMandatoryWithSeparator=e.RepetitionMandatory=e.Repetition=e.Option=e.NonTerminal=e.Alternative=e.Alternation=e.defaultLexerErrorProvider=e.NoViableAltException=e.NotAllInputParsedException=e.MismatchedTokenException=e.isRecognitionException=e.EarlyExitException=e.defaultParserErrorProvider=e.LLkLookaheadStrategy=e.getLookaheadPaths=e.tokenName=e.tokenMatcher=e.tokenLabel=e.EOF=e.createTokenInstance=e.createToken=e.LexerDefinitionErrorType=e.Lexer=e.EMPTY_ALT=e.ParserDefinitionErrorType=e.EmbeddedActionsParser=e.CstParser=e.VERSION=void 0;var t=ur;Object.defineProperty(e,"VERSION",{enumerable:!0,get:function(){return t.VERSION}});var r=Ge();Object.defineProperty(e,"CstParser",{enumerable:!0,get:function(){return r.CstParser}}),Object.defineProperty(e,"EmbeddedActionsParser",{enumerable:!0,get:function(){return r.EmbeddedActionsParser}}),Object.defineProperty(e,"ParserDefinitionErrorType",{enumerable:!0,get:function(){return r.ParserDefinitionErrorType}}),Object.defineProperty(e,"EMPTY_ALT",{enumerable:!0,get:function(){return r.EMPTY_ALT}});var n=an();Object.defineProperty(e,"Lexer",{enumerable:!0,get:function(){return n.Lexer}}),Object.defineProperty(e,"LexerDefinitionErrorType",{enumerable:!0,get:function(){return n.LexerDefinitionErrorType}});var a=Ot;Object.defineProperty(e,"createToken",{enumerable:!0,get:function(){return a.createToken}}),Object.defineProperty(e,"createTokenInstance",{enumerable:!0,get:function(){return a.createTokenInstance}}),Object.defineProperty(e,"EOF",{enumerable:!0,get:function(){return a.EOF}}),Object.defineProperty(e,"tokenLabel",{enumerable:!0,get:function(){return a.tokenLabel}}),Object.defineProperty(e,"tokenMatcher",{enumerable:!0,get:function(){return a.tokenMatcher}}),Object.defineProperty(e,"tokenName",{enumerable:!0,get:function(){return a.tokenName}});var o=Wt;Object.defineProperty(e,"getLookaheadPaths",{enumerable:!0,get:function(){return o.getLookaheadPaths}});var f=_s();Object.defineProperty(e,"LLkLookaheadStrategy",{enumerable:!0,get:function(){return f.LLkLookaheadStrategy}});var d=jt;Object.defineProperty(e,"defaultParserErrorProvider",{enumerable:!0,get:function(){return d.defaultParserErrorProvider}});var c=Me;Object.defineProperty(e,"EarlyExitException",{enumerable:!0,get:function(){return c.EarlyExitException}}),Object.defineProperty(e,"isRecognitionException",{enumerable:!0,get:function(){return c.isRecognitionException}}),Object.defineProperty(e,"MismatchedTokenException",{enumerable:!0,get:function(){return c.MismatchedTokenException}}),Object.defineProperty(e,"NotAllInputParsedException",{enumerable:!0,get:function(){return c.NotAllInputParsedException}}),Object.defineProperty(e,"NoViableAltException",{enumerable:!0,get:function(){return c.NoViableAltException}});var u=Tr;Object.defineProperty(e,"defaultLexerErrorProvider",{enumerable:!0,get:function(){return u.defaultLexerErrorProvider}});var i=Le;Object.defineProperty(e,"Alternation",{enumerable:!0,get:function(){return i.Alternation}}),Object.defineProperty(e,"Alternative",{enumerable:!0,get:function(){return i.Alternative}}),Object.defineProperty(e,"NonTerminal",{enumerable:!0,get:function(){return i.NonTerminal}}),Object.defineProperty(e,"Option",{enumerable:!0,get:function(){return i.Option}}),Object.defineProperty(e,"Repetition",{enumerable:!0,get:function(){return i.Repetition}}),Object.defineProperty(e,"RepetitionMandatory",{enumerable:!0,get:function(){return i.RepetitionMandatory}}),Object.defineProperty(e,"RepetitionMandatoryWithSeparator",{enumerable:!0,get:function(){return i.RepetitionMandatoryWithSeparator}}),Object.defineProperty(e,"RepetitionWithSeparator",{enumerable:!0,get:function(){return i.RepetitionWithSeparator}}),Object.defineProperty(e,"Rule",{enumerable:!0,get:function(){return i.Rule}}),Object.defineProperty(e,"Terminal",{enumerable:!0,get:function(){return i.Terminal}});var h=Le;Object.defineProperty(e,"serializeGrammar",{enumerable:!0,get:function(){return h.serializeGrammar}}),Object.defineProperty(e,"serializeProduction",{enumerable:!0,get:function(){return h.serializeProduction}}),Object.defineProperty(e,"GAstVisitor",{enumerable:!0,get:function(){return h.GAstVisitor}});var g=hn;Object.defineProperty(e,"generateCstDts",{enumerable:!0,get:function(){return g.generateCstDts}});function b(){console.warn(`The clearCache function was 'soft' removed from the Chevrotain API.
	 It performs no action other than printing this message.
	 Please avoid using it as it will be completely removed in the future`)}e.clearCache=b;var T=mn;Object.defineProperty(e,"createSyntaxDiagramsCode",{enumerable:!0,get:function(){return T.createSyntaxDiagramsCode}});var l=function(){function A(){throw new Error(`The Parser class has been deprecated, use CstParser or EmbeddedActionsParser instead.	
See: https://chevrotain.io/docs/changes/BREAKING_CHANGES.html#_7-0-0`)}return A}();e.Parser=l})(Ji);const ie=Xs(Ji);ie.Alternation;ie.Alternative;const KN=ie.CstParser;ie.EMPTY_ALT;ie.EOF;ie.EarlyExitException;ie.EmbeddedActionsParser;ie.GAstVisitor;ie.LLkLookaheadStrategy;const yn=ie.Lexer;ie.LexerDefinitionErrorType;ie.MismatchedTokenException;ie.NoViableAltException;ie.NonTerminal;ie.NotAllInputParsedException;ie.Option;ie.Parser;ie.ParserDefinitionErrorType;ie.Repetition;ie.RepetitionMandatory;ie.RepetitionMandatoryWithSeparator;ie.RepetitionWithSeparator;ie.Rule;ie.Terminal;ie.VERSION;ie.clearCache;ie.createSyntaxDiagramsCode;const _e=ie.createToken;ie.createTokenInstance;ie.defaultLexerErrorProvider;ie.defaultParserErrorProvider;ie.generateCstDts;ie.getLookaheadPaths;ie.isRecognitionException;ie.serializeGrammar;ie.serializeProduction;ie.tokenLabel;ie.tokenMatcher;ie.tokenName;var De=`
`,Ce=_e({name:"Identifier",pattern:/[a-zA-Z]\w*/}),Ps=_e({name:"Datasource",pattern:/datasource/,push_mode:"block"}),bs=_e({name:"Generator",pattern:/generator/,push_mode:"block"}),Cs=_e({name:"Model",pattern:/model/,push_mode:"block"}),ks=_e({name:"Enum",pattern:/enum/,push_mode:"block"}),Ms=_e({name:"True",pattern:/true/,longer_alt:Ce}),$s=_e({name:"False",pattern:/false/,longer_alt:Ce}),Fs=_e({name:"Null",pattern:/null/,longer_alt:Ce}),bt=_e({name:"Comment",pattern:yn.NA}),VN=_e({name:"DocComment",pattern:/\/\/\/\s*(.+)/,categories:[bt]}),HN=_e({name:"LineComment",pattern:/\/\/\s*(.+)/,categories:[bt]}),Ca=_e({name:"Attribute",pattern:yn.NA}),ws=_e({name:"ModelAttribute",pattern:/@@/,label:"'@@'",categories:[Ca]}),xs=_e({name:"FieldAttribute",pattern:/@/,label:"'@'",categories:[Ca]}),jn=_e({name:"Dot",pattern:/\./,label:"'.'"}),Ds=_e({name:"QuestionMark",pattern:/\?/,label:"'?'"}),Us=_e({name:"LCurly",pattern:/{/,label:"'{'"}),Bs=_e({name:"RCurly",pattern:/}/,label:"'}'",pop_mode:!0}),Wn=_e({name:"LRound",pattern:/\(/,label:"'('"}),Kn=_e({name:"RRound",pattern:/\)/,label:"')'"}),Vn=_e({name:"LSquare",pattern:/\[/,label:"'['"}),Hn=_e({name:"RSquare",pattern:/\]/,label:"']'"}),br=_e({name:"Comma",pattern:/,/,label:"','"}),Gs=_e({name:"Colon",pattern:/:/,label:"':'"}),zn=_e({name:"Equals",pattern:/=/,label:"'='"}),js=_e({name:"StringLiteral",pattern:/"(:?[^\\"\n\r]|\\(:?[bfnrtv"\\/]|u[0-9a-fA-F]{4}))*"/}),Ws=_e({name:"NumberLiteral",pattern:/-?(0|[1-9]\d*)(\.\d+)?([eE][+-]?\d+)?/}),zN=_e({name:"WhiteSpace",pattern:/\s+/,group:yn.SKIPPED}),Pt=_e({name:"LineBreak",pattern:/\n|\r\n/,line_breaks:!0,label:"LineBreak"}),Xi=[bt,VN,HN,Pt,zN],Ks={modes:{global:[].concat(Xi,[Ps,bs,Cs,ks]),block:[].concat(Xi,[Ca,ws,xs,jn,Ds,Us,Bs,Vn,Hn,Wn,Kn,br,Gs,zn,Ms,$s,Fs,js,Ws,Ce])},defaultMode:"global"},YN=new yn(Ks);function Vs(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Yn(e,t)}function Yn(e,t){return Yn=Object.setPrototypeOf||function(n,a){return n.__proto__=a,n},Yn(e,t)}var qN=function(e){Vs(t,e);function t(){var r;return r=e.call(this,Ks)||this,r.break=r.RULE("break",function(){r.CONSUME1(Pt),r.CONSUME2(Pt)}),r.keyedArg=r.RULE("keyedArg",function(){r.CONSUME(Ce,{LABEL:"keyName"}),r.CONSUME(Gs),r.SUBRULE(r.value)}),r.array=r.RULE("array",function(){r.CONSUME(Vn),r.MANY_SEP({SEP:br,DEF:function(){r.SUBRULE(r.value)}}),r.CONSUME(Hn)}),r.func=r.RULE("func",function(){r.CONSUME(Ce,{LABEL:"funcName"}),r.CONSUME(Wn),r.MANY_SEP({SEP:br,DEF:function(){r.OR([{ALT:function(){return r.SUBRULE(r.keyedArg)}},{ALT:function(){return r.SUBRULE(r.value)}}])}}),r.CONSUME(Kn)}),r.value=r.RULE("value",function(){r.OR([{ALT:function(){return r.CONSUME(js,{LABEL:"value"})}},{ALT:function(){return r.CONSUME(Ws,{LABEL:"value"})}},{ALT:function(){return r.SUBRULE(r.array,{LABEL:"value"})}},{ALT:function(){return r.SUBRULE(r.func,{LABEL:"value"})}},{ALT:function(){return r.CONSUME(Ms,{LABEL:"value"})}},{ALT:function(){return r.CONSUME($s,{LABEL:"value"})}},{ALT:function(){return r.CONSUME(Fs,{LABEL:"value"})}},{ALT:function(){return r.CONSUME(Ce,{LABEL:"value"})}}])}),r.property=r.RULE("property",function(){r.CONSUME(Ce,{LABEL:"propertyName"}),r.CONSUME(zn),r.SUBRULE(r.value,{LABEL:"propertyValue"})}),r.assignment=r.RULE("assignment",function(){r.CONSUME(Ce,{LABEL:"assignmentName"}),r.CONSUME(zn),r.SUBRULE(r.value,{LABEL:"assignmentValue"})}),r.field=r.RULE("field",function(){r.CONSUME(Ce,{LABEL:"fieldName"}),r.SUBRULE(r.value,{LABEL:"fieldType"}),r.OPTION1(function(){r.OR([{ALT:function(){r.CONSUME(Vn,{LABEL:"array"}),r.CONSUME(Hn,{LABEL:"array"})}},{ALT:function(){return r.CONSUME(Ds,{LABEL:"optional"})}}])}),r.MANY(function(){r.SUBRULE(r.attribute,{LABEL:"attributeList"})}),r.OPTION2(function(){r.CONSUME(bt,{LABEL:"comment"})})}),r.block=r.RULE("block",function(n){n===void 0&&(n={});var a=n,o=a.componentType,f=o==="enum",d=o==="model";r.CONSUME(Us),r.CONSUME1(Pt),r.MANY(function(){r.OR([{ALT:function(){return r.SUBRULE(r.comment,{LABEL:"list"})}},{GATE:function(){return d},ALT:function(){return r.SUBRULE(r.property,{LABEL:"list"})}},{ALT:function(){return r.SUBRULE(r.attribute,{LABEL:"list"})}},{GATE:function(){return d},ALT:function(){return r.SUBRULE(r.field,{LABEL:"list"})}},{GATE:function(){return f},ALT:function(){return r.SUBRULE(r.enum,{LABEL:"list"})}},{GATE:function(){return!d},ALT:function(){return r.SUBRULE(r.assignment,{LABEL:"list"})}},{ALT:function(){return r.SUBRULE(r.break,{LABEL:"list"})}},{ALT:function(){return r.CONSUME2(Pt)}}])}),r.CONSUME(Bs)}),r.enum=r.RULE("enum",function(){r.CONSUME(Ce,{LABEL:"enumName"}),r.OPTION(function(){r.CONSUME(bt,{LABEL:"comment"})})}),r.attribute=r.RULE("attribute",function(){r.OR1([{ALT:function(){return r.CONSUME(ws,{LABEL:"modelAttribute"})}},{ALT:function(){return r.CONSUME(xs,{LABEL:"fieldAttribute"})}}]),r.OR2([{ALT:function(){r.CONSUME1(Ce,{LABEL:"groupName"}),r.CONSUME(jn),r.CONSUME2(Ce,{LABEL:"attributeName"})}},{ALT:function(){return r.CONSUME(Ce,{LABEL:"attributeName"})}}]),r.OPTION(function(){r.CONSUME(Wn),r.MANY_SEP({SEP:br,DEF:function(){r.SUBRULE(r.attributeArg)}}),r.CONSUME(Kn)})}),r.attributeArg=r.RULE("attributeArg",function(){r.OR([{ALT:function(){return r.SUBRULE(r.keyedArg,{LABEL:"value"})}},{ALT:function(){return r.SUBRULE(r.value,{LABEL:"value"})}}])}),r.component=r.RULE("component",function(){var n=r.OR1([{ALT:function(){return r.CONSUME(Ps,{LABEL:"type"})}},{ALT:function(){return r.CONSUME(bs,{LABEL:"type"})}},{ALT:function(){return r.CONSUME(Cs,{LABEL:"type"})}},{ALT:function(){return r.CONSUME(ks,{LABEL:"type"})}}]);r.OR2([{ALT:function(){r.CONSUME1(Ce,{LABEL:"groupName"}),r.CONSUME(jn),r.CONSUME2(Ce,{LABEL:"componentName"})}},{ALT:function(){return r.CONSUME(Ce,{LABEL:"componentName"})}}]),r.SUBRULE(r.block,{ARGS:[{componentType:n.image}]})}),r.comment=r.RULE("comment",function(){r.CONSUME(bt,{LABEL:"text"})}),r.schema=r.RULE("schema",function(){r.MANY(function(){r.OR([{ALT:function(){return r.SUBRULE(r.comment,{LABEL:"list"})}},{ALT:function(){return r.SUBRULE(r.component,{LABEL:"list"})}},{ALT:function(){return r.SUBRULE(r.break,{LABEL:"list"})}},{ALT:function(){return r.CONSUME(Pt)}}])})}),r.performSelfAnalysis(),r}return t}(KN),ir=new qN,XN=ir.getBaseCstVisitorConstructorWithDefaults(),ZN=function(e){Vs(t,e);function t(){var n;return n=e.call(this)||this,n.validateVisitor(),n}var r=t.prototype;return r.schema=function(a){var o,f=this,d=((o=a.list)==null?void 0:o.map(function(c){return f.visit([c])}))||[];return{type:"schema",list:d}},r.component=function(a){var o=a.type,f=o[0].image,d=a.componentName,c=d[0].image,u=this.visit(a.block);switch(f){case"datasource":return{type:"datasource",name:c,assignments:u};case"generator":return{type:"generator",name:c,assignments:u};case"model":return{type:"model",name:c,properties:u};case"enum":return{type:"enum",name:c,enumerators:u};default:throw new Error("Unexpected block type: "+f)}},r.break=function(){return{type:"break"}},r.comment=function(a){var o=a.text,f=o[0].image;return{type:"comment",text:f}},r.block=function(a){var o,f=this;return(o=a.list)==null?void 0:o.map(function(d){return f.visit([d])})},r.assignment=function(a){var o=this.visit(a.assignmentValue),f=a.assignmentName,d=f[0].image;return{type:"assignment",key:d,value:o}},r.field=function(a){var o=this,f,d,c=this.visit(a.fieldType),u=a.fieldName,i=u[0].image,h=a.attributeList&&a.attributeList.map(function(b){return o.visit([b])}),g=(f=a.comment)==null||(d=f[0])==null?void 0:d.image;return{type:"field",name:i,fieldType:c,array:a.array!=null,optional:a.optional!=null,attributes:h,comment:g}},r.attribute=function(a){var o=this,f=a.attributeName,d=f[0].image,c=a.groupName||[{}],u=c[0].image,i=a.attributeArg&&a.attributeArg.map(function(g){return o.visit(g)}),h=a.modelAttribute!=null?"model":"field";return{type:"attribute",name:d,kind:h,group:u,args:i}},r.attributeArg=function(a){var o=this.visit(a.value);return{type:"attributeArgument",value:o}},r.func=function(a){var o=this,f=a.funcName,d=f[0].image,c=a.value&&a.value.map(function(h){return o.visit([h])}),u=a.keyedArg&&a.keyedArg.map(function(h){return o.visit([h])}),i=(c||u)&&[].concat(c??[],u??[]);return{type:"function",name:d,params:i}},r.array=function(a){var o=this,f=a.value&&a.value.map(function(d){return o.visit([d])});return{type:"array",args:f}},r.keyedArg=function(a){var o=a.keyName,f=o[0].image,d=this.visit(a.value);return{type:"keyValue",key:f,value:d}},r.value=function(a){if(JN(a.value)){var o=a.value,f=o[0].image;return f}return this.visit(a.value)},r.enum=function(a){var o,f,d=a.enumName,c=d[0].image,u=(o=a.comment)==null||(f=o[0])==null?void 0:f.image;return{type:"enumerator",name:c,comment:u}},t}(XN);function JN(e){return"image"in e[0]}function vS(e){var t=YN.tokenize(e);ir.input=t.tokens;var r=ir.schema();if(ir.errors.length>0)throw ir.errors[0];var n=new ZN;return n.visit(r)}var Zi=["break","comment"],Cn=["generator","datasource","model","enum","break","comment"],QN=function(t,r,n){return n===void 0&&(n=Cn),function(a,o){var f=Zi.indexOf(a.type)!==-1,d=Zi.indexOf(o.type)!==-1;if(f!==d)return t.list.indexOf(a)-t.list.indexOf(o);n!==Cn&&(n=n.concat(Cn));var c=n.indexOf(a.type)-n.indexOf(o.type);return c!==0?c:"name"in a&&"name"in o?a.name.localeCompare(o.name,r):0}};function eS(e,t){t===void 0&&(t={});var r=t,n=r.sort,a=n===void 0?!1:n,o=r.locales,f=o===void 0?void 0:o,d=r.sortOrder,c=d===void 0?void 0:d,u=e.list;if(a){u=e.list=u.filter(function(h){return h.type!=="break"});var i=QN(e,f,c);u.sort(i)}return u.map(tS).filter(Boolean).join(De).replace(/(\r?\n\s*){3,}/g,De+De)+De}function tS(e){switch(e.type){case"comment":return gn(e);case"datasource":return rS(e);case"enum":return nS(e);case"generator":return iS(e);case"model":return oS(e);case"break":return En();default:throw new Error("Unrecognized block type")}}function gn(e){return e.text}function En(){return De}function rS(e){var t=Ys(e.assignments);return`
datasource `+e.name+` {
  `+t+`
}`}function nS(e){var t=e.enumerators.map(aS).filter(Boolean).join(De+"  ").replace(/(\r?\n\s*){3,}/g,De+De+"  ");return`
enum `+e.name+` {
  `+t+`
}`}function aS(e){switch(e.type){case"enumerator":return[e.name,e.comment].filter(Boolean).join(" ");case"attribute":return ka(e);case"comment":return gn(e);case"break":return En();default:throw new Error("Unexpected enumerator type")}}function iS(e){var t=Ys(e.assignments);return`
generator `+e.name+` {
  `+t+`
}`}function oS(e){var t=fS(e.properties);return`
model `+e.name+` {
  `+t+`
}`}function sS(e,t){switch(t===void 0&&(t=0),e.type){case"comment":return gn(e);case"break":return En();case"assignment":return e.key.padEnd(t)+" = "+sr(e.value);default:throw new Error("Unexpected assignment type")}}function uS(e,t,r){switch(t===void 0&&(t=0),r===void 0&&(r=0),e.type){case"attribute":return ka(e);case"field":return lS(e,t,r);case"comment":return gn(e);case"break":return En();default:throw new Error("Unrecognized property type")}}function ka(e){var t=e.args&&e.args.length>0?"("+e.args.map(cS).filter(Boolean).join(", ")+")":"",r=[e.name];return e.group&&r.unshift(e.group),(e.kind==="field"?"@":"@@")+r.join(".")+t}function cS(e){return sr(e.value)}function lS(e,t,r){t===void 0&&(t=0),r===void 0&&(r=0);var n=e.name.padEnd(t),a=Hs(e).padEnd(r),o=e.attributes?e.attributes.map(ka):[],f=e.comment;return[n,a].concat(o).filter(Boolean).join(" ").trim()+(f?" "+f:"")}function Hs(e){var t=e.array?"[]":e.optional?"?":"";if(typeof e.fieldType=="object")switch(e.fieldType.type){case"function":return""+zs(e.fieldType)+t;default:throw new Error("Unexpected field type")}return""+e.fieldType+t}function zs(e){var t=e.params?e.params.map(sr):"";return e.name+"("+t+")"}function sr(e){switch(typeof e){case"object":{if("type"in e)switch(e.type){case"keyValue":return e.key+": "+sr(e.value);case"function":return zs(e);case"array":return"["+(e.args!=null?e.args.map(sr).join(", "):"")+"]";default:throw new Error("Unexpected value type")}throw new Error("Unexpected object value")}default:return String(e)}}function Ys(e){var t=0,r=e.reduce(function(a,o,f,d){return o.type==="break"||(f>0&&d[f-1].type==="break"&&(a[++t]=[]),a[t].push(o)),a},[[]]),n=r.map(function(a){return a.reduce(function(o,f){return Math.max(o,f.type==="assignment"?f.key.length:0)},0)});return e.map(function(a,o,f){return o>0&&a.type!=="break"&&f[o-1].type==="break"&&n.shift(),sS(a,n[0])}).filter(Boolean).join(De+"  ").replace(/(\r?\n\s*){3,}/g,De+De+"  ")}function fS(e){var t=0,r=e.reduce(function(o,f,d,c){return f.type==="break"||(d>0&&c[d-1].type==="break"&&(o[++t]=[]),o[t].push(f)),o},[[]]),n=r.map(function(o){return o.reduce(function(f,d){return Math.max(f,d.type==="field"?d.name.length:0)},0)}),a=r.map(function(o){return o.reduce(function(f,d){return Math.max(f,d.type==="field"?Hs(d).length:0)},0)});return e.map(function(o,f,d){return f>0&&o.type!=="break"&&d[f-1].type==="break"&&(n.shift(),a.shift()),uS(o,n[0],a[0])}).filter(Boolean).join(De+"  ").replace(/(\r?\n\s*){3,}/g,De+De+"  ")}const _S=()=>Zs(`${tu}`),mS=(e,t)=>{e.find(a=>["enum","model"].includes(a.type))||e.push(ru);const r=nu.replace(":name",t),n=eS({type:"schema",list:e});return qn.post(r,n,{timeout:3e4})},yS=(e,t)=>qn.get(eu.replace(":name",e),{params:t,timeout:15e3}).then(r=>(r.datamodel.models=(r.datamodel.models??[]).map(n=>{var d;let a="";const o=[],f=[];for(const c of n.fields){if(c.isId&&(a=c.name),c.kind==="scalar")o.push(c.name);else if(c.kind==="object"){if(!((d=c.relationToFields)!=null&&d.length))continue;const u=JSON.stringify(c.relationToFields).replace(/^[[\]]/,"").replace(/[[\]]$/,"").replace(/"/g,"");for(const i of u.split(","))o.push(`${c.name}.${i}`)}f.push({...c,id:`${n.name}.${c.name}`,title:c.name,required:c.hasDefaultValue?!1:c.isId?!0:c.isRequired,order:n.fields.indexOf(c)+1,read:!0,list:c.isList,create:!(c.isId&&c.hasDefaultValue),update:!c.isId,sort:!0,filter:!0,editor:!0,upload:!0})}return{id:n.name,idField:a,displayFields:o,...n,fields:f}}),r.datamodel.enums=(r.datamodel.enums??[]).map(n=>({...n,fields:n.values.map(a=>a.name)})),r)),gS=(e,t)=>qn.get(`datasource/prisma/${e}`,{params:t,timeout:15e3});export{gS as a,_S as b,yS as f,vS as g,mS as m,eS as p};
