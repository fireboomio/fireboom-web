import{a as M}from"./codemirror.es.fa31b7d8.js";import"./index.e309cc4c.js";import"./index.e5e6c754.js";import"./index.94b2fb2c.js";import"./index.e54b5c9c.js";import"./KeyCode.9c493596.js";import"./Overflow.321ca619.js";import"./PlusOutlined.5b3e3b8c.js";import"./index.07d786b1.js";import"./index.3e81d184.js";import"./index.8958a719.js";import"./getDataOrAriaProps.e48b8c96.js";import"./printer.b0e2956d.js";import"./DownOutlined.75881d1e.js";import"./index.b6cece06.js";import"./index.6926b693.js";import"./index.esm.0df65c6e.js";import"./index.esm.e5edd667.js";import"./workbenchContext.a6b76e3b.js";import"./keyBy.400ebaf7.js";import"./_baseGet.6a7418c9.js";import"./_createAggregator.87a98d7b.js";import"./get.131f9f4f.js";import"./utils.aecd68b7.js";import"./DialogWrap.947e0e2f.js";import"./pickAttrs.c5bbb5fc.js";import"./index.9c69eadb.js";import"./path.2dc76f8c.js";import"./Editor.c970b515.js";import"./use-immer.module.1d9a0526.js";import"./difference.6d57e3ed.js";import"./_baseUniq.d23dbdee.js";import"./flatten.8e198855.js";import"./omit.afdf8a34.js";import"./_baseClone.e2094da0.js";import"./iconUtil.31c13224.js";import"./index.5e1fa168.js";import"./index.0cfa4828.js";import"./Tree.4b4dd3c6.js";import"./conductUtil.03f406cc.js";import"./RightOutlined.73e4cc97.js";import"./index.daad23d2.js";import"./index.6f73eb32.js";import"./dayjs.min.fccffbb3.js";import"./index.5f2defea.js";import"./EditFilled.960b3a16.js";import"./main.6509447f.js";import"./index.8cc7621e.js";import"./index.1d15c994.js";import"./DeleteOutlined.d0f28ba8.js";import"./index.dfde5764.js";import"./main.70523ff0.js";var $=Object.defineProperty,m=(F,P)=>$(F,"name",{value:P,configurable:!0});function D(F,P){return P.forEach(function(u){u&&typeof u!="string"&&!Array.isArray(u)&&Object.keys(u).forEach(function(f){if(f!=="default"&&!(f in F)){var L=Object.getOwnPropertyDescriptor(u,f);Object.defineProperty(F,f,L.get?L:{enumerable:!0,get:function(){return u[f]}})}})}),Object.freeze(Object.defineProperty(F,Symbol.toStringTag,{value:"Module"}))}m(D,"_mergeNamespaces");var A={exports:{}};(function(F,P){(function(u){u(M.exports)})(function(u){var f=u.Pos;function L(e){var t=e.flags;return t!=null?t:(e.ignoreCase?"i":"")+(e.global?"g":"")+(e.multiline?"m":"")}m(L,"regexpFlags");function O(e,t){for(var r=L(e),n=r,o=0;o<t.length;o++)n.indexOf(t.charAt(o))==-1&&(n+=t.charAt(o));return r==n?e:new RegExp(e.source,n)}m(O,"ensureFlags");function R(e){return/\\s|\\n|\n|\\W|\\D|\[\^/.test(e.source)}m(R,"maybeMultiline");function _(e,t,r){t=O(t,"g");for(var n=r.line,o=r.ch,i=e.lastLine();n<=i;n++,o=0){t.lastIndex=o;var a=e.getLine(n),l=t.exec(a);if(l)return{from:f(n,l.index),to:f(n,l.index+l[0].length),match:l}}}m(_,"searchRegexpForward");function B(e,t,r){if(!R(t))return _(e,t,r);t=O(t,"gm");for(var n,o=1,i=r.line,a=e.lastLine();i<=a;){for(var l=0;l<o&&!(i>a);l++){var d=e.getLine(i++);n=n==null?d:n+`
`+d}o=o*2,t.lastIndex=r.ch;var h=t.exec(n);if(h){var s=n.slice(0,h.index).split(`
`),c=h[0].split(`
`),p=r.line+s.length-1,g=s[s.length-1].length;return{from:f(p,g),to:f(p+c.length-1,c.length==1?g+c[0].length:c[c.length-1].length),match:h}}}}m(B,"searchRegexpForwardMultiline");function j(e,t,r){for(var n,o=0;o<=e.length;){t.lastIndex=o;var i=t.exec(e);if(!i)break;var a=i.index+i[0].length;if(a>e.length-r)break;(!n||a>n.index+n[0].length)&&(n=i),o=i.index+1}return n}m(j,"lastMatchIn");function k(e,t,r){t=O(t,"g");for(var n=r.line,o=r.ch,i=e.firstLine();n>=i;n--,o=-1){var a=e.getLine(n),l=j(a,t,o<0?0:a.length-o);if(l)return{from:f(n,l.index),to:f(n,l.index+l[0].length),match:l}}}m(k,"searchRegexpBackward");function I(e,t,r){if(!R(t))return k(e,t,r);t=O(t,"gm");for(var n,o=1,i=e.getLine(r.line).length-r.ch,a=r.line,l=e.firstLine();a>=l;){for(var d=0;d<o&&a>=l;d++){var h=e.getLine(a--);n=n==null?h:h+`
`+n}o*=2;var s=j(n,t,i);if(s){var c=n.slice(0,s.index).split(`
`),p=s[0].split(`
`),g=a+c.length,x=c[c.length-1].length;return{from:f(g,x),to:f(g+p.length-1,p.length==1?x+p[0].length:p[p.length-1].length),match:s}}}}m(I,"searchRegexpBackwardMultiline");var b,y;String.prototype.normalize?(b=m(function(e){return e.normalize("NFD").toLowerCase()},"doFold"),y=m(function(e){return e.normalize("NFD")},"noFold")):(b=m(function(e){return e.toLowerCase()},"doFold"),y=m(function(e){return e},"noFold"));function v(e,t,r,n){if(e.length==t.length)return r;for(var o=0,i=r+Math.max(0,e.length-t.length);;){if(o==i)return o;var a=o+i>>1,l=n(e.slice(0,a)).length;if(l==r)return a;l>r?i=a:o=a+1}}m(v,"adjustPos");function N(e,t,r,n){if(!t.length)return null;var o=n?b:y,i=o(t).split(/\r|\n\r?/);t:for(var a=r.line,l=r.ch,d=e.lastLine()+1-i.length;a<=d;a++,l=0){var h=e.getLine(a).slice(l),s=o(h);if(i.length==1){var c=s.indexOf(i[0]);if(c==-1)continue t;var r=v(h,s,c,o)+l;return{from:f(a,v(h,s,c,o)+l),to:f(a,v(h,s,c+i[0].length,o)+l)}}else{var p=s.length-i[0].length;if(s.slice(p)!=i[0])continue t;for(var g=1;g<i.length-1;g++)if(o(e.getLine(a+g))!=i[g])continue t;var x=e.getLine(a+i.length-1),w=o(x),E=i[i.length-1];if(w.slice(0,E.length)!=E)continue t;return{from:f(a,v(h,s,p,o)+l),to:f(a+i.length-1,v(x,w,E.length,o))}}}}m(N,"searchStringForward");function z(e,t,r,n){if(!t.length)return null;var o=n?b:y,i=o(t).split(/\r|\n\r?/);t:for(var a=r.line,l=r.ch,d=e.firstLine()-1+i.length;a>=d;a--,l=-1){var h=e.getLine(a);l>-1&&(h=h.slice(0,l));var s=o(h);if(i.length==1){var c=s.lastIndexOf(i[0]);if(c==-1)continue t;return{from:f(a,v(h,s,c,o)),to:f(a,v(h,s,c+i[0].length,o))}}else{var p=i[i.length-1];if(s.slice(0,p.length)!=p)continue t;for(var g=1,r=a-i.length+1;g<i.length-1;g++)if(o(e.getLine(r+g))!=i[g])continue t;var x=e.getLine(a+1-i.length),w=o(x);if(w.slice(w.length-i[0].length)!=i[0])continue t;return{from:f(a+1-i.length,v(x,w,x.length-i[0].length,o)),to:f(a,v(h,s,p.length,o))}}}}m(z,"searchStringBackward");function S(e,t,r,n){this.atOccurrence=!1,this.afterEmptyMatch=!1,this.doc=e,r=r?e.clipPos(r):f(0,0),this.pos={from:r,to:r};var o;typeof n=="object"?o=n.caseFold:(o=n,n=null),typeof t=="string"?(o==null&&(o=!1),this.matches=function(i,a){return(i?z:N)(e,t,a,o)}):(t=O(t,"gm"),!n||n.multiline!==!1?this.matches=function(i,a){return(i?I:B)(e,t,a)}:this.matches=function(i,a){return(i?k:_)(e,t,a)})}m(S,"SearchCursor"),S.prototype={findNext:function(){return this.find(!1)},findPrevious:function(){return this.find(!0)},find:function(e){var t=this.doc.clipPos(e?this.pos.from:this.pos.to);if(this.afterEmptyMatch&&this.atOccurrence&&(t=f(t.line,t.ch),e?(t.ch--,t.ch<0&&(t.line--,t.ch=(this.doc.getLine(t.line)||"").length)):(t.ch++,t.ch>(this.doc.getLine(t.line)||"").length&&(t.ch=0,t.line++)),u.cmpPos(t,this.doc.clipPos(t))!=0))return this.atOccurrence=!1;var r=this.matches(e,t);if(this.afterEmptyMatch=r&&u.cmpPos(r.from,r.to)==0,r)return this.pos=r,this.atOccurrence=!0,this.pos.match||!0;var n=f(e?this.doc.firstLine():this.doc.lastLine()+1,0);return this.pos={from:n,to:n},this.atOccurrence=!1},from:function(){if(this.atOccurrence)return this.pos.from},to:function(){if(this.atOccurrence)return this.pos.to},replace:function(e,t){if(!!this.atOccurrence){var r=u.splitLines(e);this.doc.replaceRange(r,this.pos.from,this.pos.to,t),this.pos.to=f(this.pos.from.line+r.length-1,r[r.length-1].length+(r.length==1?this.pos.from.ch:0))}}},u.defineExtension("getSearchCursor",function(e,t,r){return new S(this.doc,e,t,r)}),u.defineDocExtension("getSearchCursor",function(e,t,r){return new S(this,e,t,r)}),u.defineExtension("selectMatches",function(e,t){for(var r=[],n=this.getSearchCursor(e,this.getCursor("from"),t);n.findNext()&&!(u.cmpPos(n.to(),this.getCursor("to"))>0);)r.push({anchor:n.from(),head:n.to()});r.length&&this.setSelections(r,0)})})})();var C=A.exports,$t=D({__proto__:null,default:C},[A.exports]);export{A as a,$t as s};
