import{r as v,o as ye,p as $,j as i,B as Q,q as X,v as ke,w as Y,x as W,y as j,N as he,z as L,L as U,A as Z,D as Pe,f as B,F as ee,E as be,G as g,H as E,J as Te,K as Oe,M as ne,P as we,Q as Ne,S as Se,U as Re,V as Fe}from"./index.e5e6c754.js";import{D as Ae}from"./DialogWrap.947e0e2f.js";function V(n){return!!(n&&!!n.then)}var Ie=function(e){var o=v.exports.useRef(!1),t=v.exports.useRef(),r=ye(!1),l=$(r,2),k=l[0],a=l[1],u=e.close,f=function(){u==null||u.apply(void 0,arguments)};v.exports.useEffect(function(){var s;if(e.autoFocus){var C=t.current;s=setTimeout(function(){return C.focus()})}return function(){s&&clearTimeout(s)}},[]);var d=function(C){!V(C)||(a(!0),C.then(function(){a(!1,!0),f.apply(void 0,arguments),o.current=!1},function(m){console.error(m),a(!1,!0),o.current=!1}))},c=function(C){var m=e.actionFn;if(!o.current){if(o.current=!0,!m){f();return}var x;if(e.emitEvent){if(x=m(C),e.quitOnNullishReturnValue&&!V(x)){o.current=!1,f(C);return}}else if(m.length)x=m(u),o.current=!1;else if(x=m(),!x){f();return}d(x)}},b=e.type,h=e.children,T=e.prefixCls,P=e.buttonProps;return i(Q,{...X(b),onClick:c,loading:k,prefixCls:T,...P,ref:t,children:h})};const J=Ie;var Ee=globalThis&&globalThis.__rest||function(n,e){var o={};for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&e.indexOf(t)<0&&(o[t]=n[t]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,t=Object.getOwnPropertySymbols(n);r<t.length;r++)e.indexOf(t[r])<0&&Object.prototype.propertyIsEnumerable.call(n,t[r])&&(o[t[r]]=n[t[r]]);return o},q,$e=function(e){q={x:e.pageX,y:e.pageY},setTimeout(function(){q=null},100)};ke()&&document.documentElement.addEventListener("click",$e,!0);var te=function(e){var o,t=v.exports.useContext(Y),r=t.getPopupContainer,l=t.getPrefixCls,k=t.direction,a=function(F){var O=e.onCancel;O==null||O(F)},u=function(F){var O=e.onOk;O==null||O(F)},f=function(F){var O=e.okText,D=e.okType,w=e.cancelText,H=e.confirmLoading;return B(ee,{children:[i(Q,{onClick:a,...e.cancelButtonProps,children:w||F.cancelText}),i(Q,{...X(D),loading:H,onClick:u,...e.okButtonProps,children:O||F.okText})]})},d=e.prefixCls,c=e.footer,b=e.visible,h=e.open,T=e.wrapClassName,P=e.centered,s=e.getContainer,C=e.closeIcon,m=e.focusTriggerAfterClose,x=m===void 0?!0:m,N=Ee(e,["prefixCls","footer","visible","open","wrapClassName","centered","getContainer","closeIcon","focusTriggerAfterClose"]),y=l("modal",d),R=l(),p=i(U,{componentName:"Modal",defaultLocale:Z(),children:f}),A=i("span",{className:"".concat(y,"-close-x"),children:C||i(Pe,{className:"".concat(y,"-close-icon")})}),z=W(T,(o={},j(o,"".concat(y,"-centered"),!!P),j(o,"".concat(y,"-wrap-rtl"),k==="rtl"),o));return i(he,{status:!0,override:!0,children:i(Ae,{...N,getContainer:s===void 0?r:s,prefixCls:y,wrapClassName:z,footer:c===void 0?p:c,visible:h||b,mousePosition:q,onClose:a,closeIcon:A,focusTriggerAfterClose:x,transitionName:L(R,"zoom",e.transitionName),maskTransitionName:L(R,"fade",e.maskTransitionName)})})};te.defaultProps={width:520,confirmLoading:!1,open:!1,okType:"primary"};const oe=te;var pe=function(e){var o=e.icon,t=e.onCancel,r=e.onOk,l=e.close,k=e.zIndex,a=e.afterClose,u=e.visible,f=e.open,d=e.keyboard,c=e.centered,b=e.getContainer,h=e.maskStyle,T=e.okText,P=e.okButtonProps,s=e.cancelText,C=e.cancelButtonProps,m=e.direction,x=e.prefixCls,N=e.wrapClassName,y=e.rootPrefixCls,R=e.iconPrefixCls,p=e.bodyStyle,A=e.closable,z=A===void 0?!1:A,M=e.closeIcon,F=e.modalRender,O=e.focusTriggerAfterClose,D=e.okType||"primary",w="".concat(x,"-confirm"),H="okCancel"in e?e.okCancel:!0,de=e.width||416,Ce=e.style||{},ve=e.mask===void 0?!0:e.mask,me=e.maskClosable===void 0?!1:e.maskClosable,G=e.autoFocusButton===null?!1:e.autoFocusButton||"ok",xe=W(w,"".concat(w,"-").concat(e.type),j({},"".concat(w,"-rtl"),m==="rtl"),e.className),ge=H&&i(J,{actionFn:t,close:l,autoFocus:G==="cancel",buttonProps:C,prefixCls:"".concat(y,"-btn"),children:s});return i(be,{prefixCls:y,iconPrefixCls:R,direction:m,children:i(oe,{prefixCls:x,className:xe,wrapClassName:W(j({},"".concat(w,"-centered"),!!e.centered),N),onCancel:function(){return l==null?void 0:l({triggerCancel:!0})},open:f||u,title:"",footer:"",transitionName:L(y,"zoom",e.transitionName),maskTransitionName:L(y,"fade",e.maskTransitionName),mask:ve,maskClosable:me,maskStyle:h,style:Ce,bodyStyle:p,width:de,zIndex:k,afterClose:a,keyboard:d,centered:c,getContainer:b,closable:z,closeIcon:M,modalRender:F,focusTriggerAfterClose:O,children:B("div",{className:"".concat(w,"-body-wrapper"),children:[B("div",{className:"".concat(w,"-body"),children:[o,e.title===void 0?null:i("span",{className:"".concat(w,"-title"),children:e.title}),i("div",{className:"".concat(w,"-content"),children:e.content})]}),B("div",{className:"".concat(w,"-btns"),children:[ge,i(J,{type:D,actionFn:r,close:l,autoFocus:G==="ok",buttonProps:P,prefixCls:"".concat(y,"-btn"),children:T})]})]})})})};const re=pe;var _e=[];const I=_e;var Me=globalThis&&globalThis.__rest||function(n,e){var o={};for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&e.indexOf(t)<0&&(o[t]=n[t]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,t=Object.getOwnPropertySymbols(n);r<t.length;r++)e.indexOf(t[r])<0&&Object.prototype.propertyIsEnumerable.call(n,t[r])&&(o[t[r]]=n[t[r]]);return o},ae="";function Be(){return ae}function _(n){var e=document.createDocumentFragment(),o=g(g({},n),{close:l,open:!0});function t(){for(var a=arguments.length,u=new Array(a),f=0;f<a;f++)u[f]=arguments[f];var d=u.some(function(h){return h&&h.triggerCancel});n.onCancel&&d&&n.onCancel.apply(n,[function(){}].concat(E(u.slice(1))));for(var c=0;c<I.length;c++){var b=I[c];if(b===l){I.splice(c,1);break}}Te(e)}function r(a){var u=a.okText,f=a.cancelText,d=a.prefixCls,c=a.open,b=a.visible,h=Me(a,["okText","cancelText","prefixCls","open","visible"]);setTimeout(function(){var T=Z(),P=Re(),s=P.getPrefixCls,C=P.getIconPrefixCls,m=s(void 0,Be()),x=d||"".concat(m,"-modal"),N=C();Oe(i(re,{...h,open:c!=null?c:b,prefixCls:x,rootPrefixCls:m,iconPrefixCls:N,okText:u||(h.okCancel?T.okText:T.justOkText),cancelText:f||T.cancelText}),e)})}function l(){for(var a=this,u=arguments.length,f=new Array(u),d=0;d<u;d++)f[d]=arguments[d];o=g(g({},o),{open:!1,afterClose:function(){typeof n.afterClose=="function"&&n.afterClose(),t.apply(a,f)}}),r(o)}function k(a){typeof a=="function"?o=a(o):o=g(g({},o),a),r(o)}return r(o),I.push(l),{destroy:l,update:k}}function ce(n){return g(g({icon:i(ne,{}),okCancel:!1},n),{type:"warning"})}function le(n){return g(g({icon:i(we,{}),okCancel:!1},n),{type:"info"})}function ie(n){return g(g({icon:i(Ne,{}),okCancel:!1},n),{type:"success"})}function se(n){return g(g({icon:i(Se,{}),okCancel:!1},n),{type:"error"})}function ue(n){return g(g({icon:i(ne,{}),okCancel:!0},n),{type:"confirm"})}function je(n){var e=n.rootPrefixCls;ae=e}function Le(){var n=v.exports.useState([]),e=$(n,2),o=e[0],t=e[1],r=v.exports.useCallback(function(l){return t(function(k){return[].concat(E(k),[l])}),function(){t(function(k){return k.filter(function(a){return a!==l})})}},[]);return[o,r]}var ze=function(e,o){var t=e.afterClose,r=e.config,l=v.exports.useState(!0),k=$(l,2),a=k[0],u=k[1],f=v.exports.useState(r),d=$(f,2),c=d[0],b=d[1],h=v.exports.useContext(Y),T=h.direction,P=h.getPrefixCls,s=P("modal"),C=P(),m=function(){u(!1);for(var N=arguments.length,y=new Array(N),R=0;R<N;R++)y[R]=arguments[R];var p=y.some(function(A){return A&&A.triggerCancel});c.onCancel&&p&&c.onCancel.apply(c,[function(){}].concat(E(y.slice(1))))};return v.exports.useImperativeHandle(o,function(){return{destroy:m,update:function(N){b(function(y){return g(g({},y),N)})}}}),i(U,{componentName:"Modal",defaultLocale:Fe.Modal,children:function(x){return i(re,{prefixCls:s,rootPrefixCls:C,...c,close:m,open:a,afterClose:t,okText:c.okText||(c.okCancel?x.okText:x.justOkText),direction:T,cancelText:c.cancelText||x.cancelText})}})};const De=v.exports.forwardRef(ze);var K=0,He=v.exports.memo(v.exports.forwardRef(function(n,e){var o=Le(),t=$(o,2),r=t[0],l=t[1];return v.exports.useImperativeHandle(e,function(){return{patchElement:l}},[]),i(ee,{children:r})}));function Qe(){var n=v.exports.useRef(null),e=v.exports.useState([]),o=$(e,2),t=o[0],r=o[1];v.exports.useEffect(function(){if(t.length){var a=E(t);a.forEach(function(u){u()}),r([])}},[t]);var l=v.exports.useCallback(function(a){return function(f){var d;K+=1;var c=v.exports.createRef(),b,h=i(De,{config:a(f),ref:c,afterClose:function(){b()}},"modal-".concat(K));return b=(d=n.current)===null||d===void 0?void 0:d.patchElement(h),{destroy:function(){function P(){var s;(s=c.current)===null||s===void 0||s.destroy()}c.current?P():r(function(s){return[].concat(E(s),[P])})},update:function(P){function s(){var C;(C=c.current)===null||C===void 0||C.update(P)}c.current?s():r(function(C){return[].concat(E(C),[s])})}}}},[]),k=v.exports.useMemo(function(){return{info:l(le),success:l(ie),error:l(se),warning:l(ce),confirm:l(ue)}},[]);return[k,i(He,{ref:n})]}function fe(n){return _(ce(n))}var S=oe;S.useModal=Qe;S.info=function(e){return _(le(e))};S.success=function(e){return _(ie(e))};S.error=function(e){return _(se(e))};S.warning=fe;S.warn=fe;S.confirm=function(e){return _(ue(e))};S.destroyAll=function(){for(;I.length;){var e=I.pop();e&&e()}};S.config=je;const Ve=S;export{J as A,Ve as M};
