import{j as a,r as S,bI as ee,f as w,u as te,g as f,F as E,c as _,d as ie}from"./index.e5e6c754.js";import{E as I}from"./index.5e1fa168.js";import{g as se}from"./groupBy.88271069.js";import{u as J,Q as N}from"./workbench.151a9c76.js";import{W as oe}from"./workbenchContext.a6b76e3b.js";import"./_baseGet.6a7418c9.js";import"./_createAggregator.87a98d7b.js";import"./get.131f9f4f.js";import"./index.6f73eb32.js";import"./DialogWrap.947e0e2f.js";import"./KeyCode.9c493596.js";import"./pickAttrs.c5bbb5fc.js";import"./conductUtil.03f406cc.js";import"./RightOutlined.73e4cc97.js";import"./index.e54b5c9c.js";import"./Overflow.321ca619.js";import"./use-immer.module.1d9a0526.js";import"./index.07d786b1.js";import"./index.3e81d184.js";import"./index.8958a719.js";import"./getDataOrAriaProps.e48b8c96.js";import"./printer.b0e2956d.js";import"./DownOutlined.75881d1e.js";import"./index.b6cece06.js";import"./index.6926b693.js";import"./index.esm.0df65c6e.js";import"./index.esm.e5edd667.js";import"./keyBy.400ebaf7.js";import"./index.67bc873e.js";import"./PrismaSchemaContext.c1116ab6.js";import"./index.6fa46df0.js";import"./Tree.4b4dd3c6.js";import"./uniq.2129c997.js";import"./_baseUniq.d23dbdee.js";import"./utils.aecd68b7.js";import"./index.60d20720.js";import"./css.7dd30b7b.js";import"./dataSource.f9c7deae.js";import"./storage.aee759da.js";import"./db.84db3282.js";import"./index.8fd962f9.js";import"./calcTime.a918c2eb.js";import"./dayjs.min.fccffbb3.js";import"./duration.1c0302a6.js";var re=globalThis&&globalThis.__extends||function(){var s=function(r,e){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(t[o]=i[o])},s(r,e)};return function(r,e){s(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),m=globalThis&&globalThis.__assign||function(){return m=Object.assign||function(s){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(s[i]=r[i])}return s},m.apply(this,arguments)},Q={width:"100%",height:"10px",top:"0px",left:"0px",cursor:"row-resize"},G={width:"10px",height:"100%",top:"0px",left:"0px",cursor:"col-resize"},P={width:"20px",height:"20px",position:"absolute"},ae={top:m(m({},Q),{top:"-5px"}),right:m(m({},G),{left:void 0,right:"-5px"}),bottom:m(m({},Q),{top:void 0,bottom:"-5px"}),left:m(m({},G),{left:"-5px"}),topRight:m(m({},P),{right:"-10px",top:"-10px",cursor:"ne-resize"}),bottomRight:m(m({},P),{right:"-10px",bottom:"-10px",cursor:"se-resize"}),bottomLeft:m(m({},P),{left:"-10px",bottom:"-10px",cursor:"sw-resize"}),topLeft:m(m({},P),{left:"-10px",top:"-10px",cursor:"nw-resize"})},ne=function(s){re(r,s);function r(){var e=s!==null&&s.apply(this,arguments)||this;return e.onMouseDown=function(t){e.props.onResizeStart(t,e.props.direction)},e.onTouchStart=function(t){e.props.onResizeStart(t,e.props.direction)},e}return r.prototype.render=function(){return a("div",{className:this.props.className||"",style:m(m({position:"absolute",userSelect:"none"},ae[this.props.direction]),this.props.replaceStyles||{}),onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,children:this.props.children})},r}(S.exports.PureComponent),he=globalThis&&globalThis.__extends||function(){var s=function(r,e){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(t[o]=i[o])},s(r,e)};return function(r,e){s(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),R=globalThis&&globalThis.__assign||function(){return R=Object.assign||function(s){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(s[i]=r[i])}return s},R.apply(this,arguments)},le={width:"auto",height:"auto"},T=function(s,r,e){return Math.max(Math.min(s,e),r)},X=function(s,r){return Math.round(s/r)*r},W=function(s,r){return new RegExp(s,"i").test(r)},j=function(s){return Boolean(s.touches&&s.touches.length)},ue=function(s){return Boolean((s.clientX||s.clientX===0)&&(s.clientY||s.clientY===0))},Y=function(s,r,e){e===void 0&&(e=0);var t=r.reduce(function(o,n,h){return Math.abs(n-s)<Math.abs(r[o]-s)?h:o},0),i=Math.abs(r[t]-s);return e===0||i<e?r[t]:s},K=function(s){return s=s.toString(),s==="auto"||s.endsWith("px")||s.endsWith("%")||s.endsWith("vh")||s.endsWith("vw")||s.endsWith("vmax")||s.endsWith("vmin")?s:s+"px"},O=function(s,r,e,t){if(s&&typeof s=="string"){if(s.endsWith("px"))return Number(s.replace("px",""));if(s.endsWith("%")){var i=Number(s.replace("%",""))/100;return r*i}if(s.endsWith("vw")){var i=Number(s.replace("vw",""))/100;return e*i}if(s.endsWith("vh")){var i=Number(s.replace("vh",""))/100;return t*i}}return s},pe=function(s,r,e,t,i,o,n){return t=O(t,s.width,r,e),i=O(i,s.height,r,e),o=O(o,s.width,r,e),n=O(n,s.height,r,e),{maxWidth:typeof t>"u"?void 0:Number(t),maxHeight:typeof i>"u"?void 0:Number(i),minWidth:typeof o>"u"?void 0:Number(o),minHeight:typeof n>"u"?void 0:Number(n)}},de=["as","style","className","grid","snap","bounds","boundsByDirection","size","defaultSize","minWidth","minHeight","maxWidth","maxHeight","lockAspectRatio","lockAspectRatioExtraWidth","lockAspectRatioExtraHeight","enable","handleStyles","handleClasses","handleWrapperStyle","handleWrapperClass","children","onResizeStart","onResize","onResizeStop","handleComponent","scale","resizeRatio","snapGap"],Z="__resizable_base__",ce=function(s){he(r,s);function r(e){var t=s.call(this,e)||this;return t.ratio=1,t.resizable=null,t.parentLeft=0,t.parentTop=0,t.resizableLeft=0,t.resizableRight=0,t.resizableTop=0,t.resizableBottom=0,t.targetLeft=0,t.targetTop=0,t.appendBase=function(){if(!t.resizable||!t.window)return null;var i=t.parentNode;if(!i)return null;var o=t.window.document.createElement("div");return o.style.width="100%",o.style.height="100%",o.style.position="absolute",o.style.transform="scale(0, 0)",o.style.left="0",o.style.flex="0 0 100%",o.classList?o.classList.add(Z):o.className+=Z,i.appendChild(o),o},t.removeBase=function(i){var o=t.parentNode;!o||o.removeChild(i)},t.ref=function(i){i&&(t.resizable=i)},t.state={isResizing:!1,width:typeof(t.propsSize&&t.propsSize.width)>"u"?"auto":t.propsSize&&t.propsSize.width,height:typeof(t.propsSize&&t.propsSize.height)>"u"?"auto":t.propsSize&&t.propsSize.height,direction:"right",original:{x:0,y:0,width:0,height:0},backgroundStyle:{height:"100%",width:"100%",backgroundColor:"rgba(0,0,0,0)",cursor:"auto",opacity:0,position:"fixed",zIndex:9999,top:"0",left:"0",bottom:"0",right:"0"},flexBasis:void 0},t.onResizeStart=t.onResizeStart.bind(t),t.onMouseMove=t.onMouseMove.bind(t),t.onMouseUp=t.onMouseUp.bind(t),t}return Object.defineProperty(r.prototype,"parentNode",{get:function(){return this.resizable?this.resizable.parentNode:null},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"window",{get:function(){return!this.resizable||!this.resizable.ownerDocument?null:this.resizable.ownerDocument.defaultView},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"propsSize",{get:function(){return this.props.size||this.props.defaultSize||le},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"size",{get:function(){var e=0,t=0;if(this.resizable&&this.window){var i=this.resizable.offsetWidth,o=this.resizable.offsetHeight,n=this.resizable.style.position;n!=="relative"&&(this.resizable.style.position="relative"),e=this.resizable.style.width!=="auto"?this.resizable.offsetWidth:i,t=this.resizable.style.height!=="auto"?this.resizable.offsetHeight:o,this.resizable.style.position=n}return{width:e,height:t}},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"sizeStyle",{get:function(){var e=this,t=this.props.size,i=function(h){if(typeof e.state[h]>"u"||e.state[h]==="auto")return"auto";if(e.propsSize&&e.propsSize[h]&&e.propsSize[h].toString().endsWith("%")){if(e.state[h].toString().endsWith("%"))return e.state[h].toString();var p=e.getParentSize(),d=Number(e.state[h].toString().replace("px","")),l=d/p[h]*100;return l+"%"}return K(e.state[h])},o=t&&typeof t.width<"u"&&!this.state.isResizing?K(t.width):i("width"),n=t&&typeof t.height<"u"&&!this.state.isResizing?K(t.height):i("height");return{width:o,height:n}},enumerable:!1,configurable:!0}),r.prototype.getParentSize=function(){if(!this.parentNode)return this.window?{width:this.window.innerWidth,height:this.window.innerHeight}:{width:0,height:0};var e=this.appendBase();if(!e)return{width:0,height:0};var t=!1,i=this.parentNode.style.flexWrap;i!=="wrap"&&(t=!0,this.parentNode.style.flexWrap="wrap"),e.style.position="relative",e.style.minWidth="100%",e.style.minHeight="100%";var o={width:e.offsetWidth,height:e.offsetHeight};return t&&(this.parentNode.style.flexWrap=i),this.removeBase(e),o},r.prototype.bindEvents=function(){this.window&&(this.window.addEventListener("mouseup",this.onMouseUp),this.window.addEventListener("mousemove",this.onMouseMove),this.window.addEventListener("mouseleave",this.onMouseUp),this.window.addEventListener("touchmove",this.onMouseMove,{capture:!0,passive:!1}),this.window.addEventListener("touchend",this.onMouseUp))},r.prototype.unbindEvents=function(){this.window&&(this.window.removeEventListener("mouseup",this.onMouseUp),this.window.removeEventListener("mousemove",this.onMouseMove),this.window.removeEventListener("mouseleave",this.onMouseUp),this.window.removeEventListener("touchmove",this.onMouseMove,!0),this.window.removeEventListener("touchend",this.onMouseUp))},r.prototype.componentDidMount=function(){if(!(!this.resizable||!this.window)){var e=this.window.getComputedStyle(this.resizable);this.setState({width:this.state.width||this.size.width,height:this.state.height||this.size.height,flexBasis:e.flexBasis!=="auto"?e.flexBasis:void 0})}},r.prototype.componentWillUnmount=function(){this.window&&this.unbindEvents()},r.prototype.createSizeForCssProperty=function(e,t){var i=this.propsSize&&this.propsSize[t];return this.state[t]==="auto"&&this.state.original[t]===e&&(typeof i>"u"||i==="auto")?"auto":e},r.prototype.calculateNewMaxFromBoundary=function(e,t){var i=this.props.boundsByDirection,o=this.state.direction,n=i&&W("left",o),h=i&&W("top",o),p,d;if(this.props.bounds==="parent"){var l=this.parentNode;l&&(p=n?this.resizableRight-this.parentLeft:l.offsetWidth+(this.parentLeft-this.resizableLeft),d=h?this.resizableBottom-this.parentTop:l.offsetHeight+(this.parentTop-this.resizableTop))}else this.props.bounds==="window"?this.window&&(p=n?this.resizableRight:this.window.innerWidth-this.resizableLeft,d=h?this.resizableBottom:this.window.innerHeight-this.resizableTop):this.props.bounds&&(p=n?this.resizableRight-this.targetLeft:this.props.bounds.offsetWidth+(this.targetLeft-this.resizableLeft),d=h?this.resizableBottom-this.targetTop:this.props.bounds.offsetHeight+(this.targetTop-this.resizableTop));return p&&Number.isFinite(p)&&(e=e&&e<p?e:p),d&&Number.isFinite(d)&&(t=t&&t<d?t:d),{maxWidth:e,maxHeight:t}},r.prototype.calculateNewSizeFromDirection=function(e,t){var i=this.props.scale||1,o=this.props.resizeRatio||1,n=this.state,h=n.direction,p=n.original,d=this.props,l=d.lockAspectRatio,u=d.lockAspectRatioExtraHeight,c=d.lockAspectRatioExtraWidth,g=p.width,v=p.height,z=u||0,M=c||0;return W("right",h)&&(g=p.width+(e-p.x)*o/i,l&&(v=(g-M)/this.ratio+z)),W("left",h)&&(g=p.width-(e-p.x)*o/i,l&&(v=(g-M)/this.ratio+z)),W("bottom",h)&&(v=p.height+(t-p.y)*o/i,l&&(g=(v-z)*this.ratio+M)),W("top",h)&&(v=p.height-(t-p.y)*o/i,l&&(g=(v-z)*this.ratio+M)),{newWidth:g,newHeight:v}},r.prototype.calculateNewSizeFromAspectRatio=function(e,t,i,o){var n=this.props,h=n.lockAspectRatio,p=n.lockAspectRatioExtraHeight,d=n.lockAspectRatioExtraWidth,l=typeof o.width>"u"?10:o.width,u=typeof i.width>"u"||i.width<0?e:i.width,c=typeof o.height>"u"?10:o.height,g=typeof i.height>"u"||i.height<0?t:i.height,v=p||0,z=d||0;if(h){var M=(c-v)*this.ratio+z,C=(g-v)*this.ratio+z,B=(l-z)/this.ratio+v,b=(u-z)/this.ratio+v,y=Math.max(l,M),L=Math.min(u,C),F=Math.max(c,B),D=Math.min(g,b);e=T(e,y,L),t=T(t,F,D)}else e=T(e,l,u),t=T(t,c,g);return{newWidth:e,newHeight:t}},r.prototype.setBoundingClientRect=function(){if(this.props.bounds==="parent"){var e=this.parentNode;if(e){var t=e.getBoundingClientRect();this.parentLeft=t.left,this.parentTop=t.top}}if(this.props.bounds&&typeof this.props.bounds!="string"){var i=this.props.bounds.getBoundingClientRect();this.targetLeft=i.left,this.targetTop=i.top}if(this.resizable){var o=this.resizable.getBoundingClientRect(),n=o.left,h=o.top,p=o.right,d=o.bottom;this.resizableLeft=n,this.resizableRight=p,this.resizableTop=h,this.resizableBottom=d}},r.prototype.onResizeStart=function(e,t){if(!(!this.resizable||!this.window)){var i=0,o=0;if(e.nativeEvent&&ue(e.nativeEvent)?(i=e.nativeEvent.clientX,o=e.nativeEvent.clientY):e.nativeEvent&&j(e.nativeEvent)&&(i=e.nativeEvent.touches[0].clientX,o=e.nativeEvent.touches[0].clientY),this.props.onResizeStart&&this.resizable){var n=this.props.onResizeStart(e,t,this.resizable);if(n===!1)return}this.props.size&&(typeof this.props.size.height<"u"&&this.props.size.height!==this.state.height&&this.setState({height:this.props.size.height}),typeof this.props.size.width<"u"&&this.props.size.width!==this.state.width&&this.setState({width:this.props.size.width})),this.ratio=typeof this.props.lockAspectRatio=="number"?this.props.lockAspectRatio:this.size.width/this.size.height;var h,p=this.window.getComputedStyle(this.resizable);if(p.flexBasis!=="auto"){var d=this.parentNode;if(d){var l=this.window.getComputedStyle(d).flexDirection;this.flexDir=l.startsWith("row")?"row":"column",h=p.flexBasis}}this.setBoundingClientRect(),this.bindEvents();var u={original:{x:i,y:o,width:this.size.width,height:this.size.height},isResizing:!0,backgroundStyle:R(R({},this.state.backgroundStyle),{cursor:this.window.getComputedStyle(e.target).cursor||"auto"}),direction:t,flexBasis:h};this.setState(u)}},r.prototype.onMouseMove=function(e){var t=this;if(!(!this.state.isResizing||!this.resizable||!this.window)){if(this.window.TouchEvent&&j(e))try{e.preventDefault(),e.stopPropagation()}catch{}var i=this.props,o=i.maxWidth,n=i.maxHeight,h=i.minWidth,p=i.minHeight,d=j(e)?e.touches[0].clientX:e.clientX,l=j(e)?e.touches[0].clientY:e.clientY,u=this.state,c=u.direction,g=u.original,v=u.width,z=u.height,M=this.getParentSize(),C=pe(M,this.window.innerWidth,this.window.innerHeight,o,n,h,p);o=C.maxWidth,n=C.maxHeight,h=C.minWidth,p=C.minHeight;var B=this.calculateNewSizeFromDirection(d,l),b=B.newHeight,y=B.newWidth,L=this.calculateNewMaxFromBoundary(o,n);this.props.snap&&this.props.snap.x&&(y=Y(y,this.props.snap.x,this.props.snapGap)),this.props.snap&&this.props.snap.y&&(b=Y(b,this.props.snap.y,this.props.snapGap));var F=this.calculateNewSizeFromAspectRatio(y,b,{width:L.maxWidth,height:L.maxHeight},{width:h,height:p});if(y=F.newWidth,b=F.newHeight,this.props.grid){var D=X(y,this.props.grid[0]),$=X(b,this.props.grid[1]),A=this.props.snapGap||0;y=A===0||Math.abs(D-y)<=A?D:y,b=A===0||Math.abs($-b)<=A?$:b}var V={width:y-g.width,height:b-g.height};if(v&&typeof v=="string"){if(v.endsWith("%")){var H=y/M.width*100;y=H+"%"}else if(v.endsWith("vw")){var U=y/this.window.innerWidth*100;y=U+"vw"}else if(v.endsWith("vh")){var q=y/this.window.innerHeight*100;y=q+"vh"}}if(z&&typeof z=="string"){if(z.endsWith("%")){var H=b/M.height*100;b=H+"%"}else if(z.endsWith("vw")){var U=b/this.window.innerWidth*100;b=U+"vw"}else if(z.endsWith("vh")){var q=b/this.window.innerHeight*100;b=q+"vh"}}var k={width:this.createSizeForCssProperty(y,"width"),height:this.createSizeForCssProperty(b,"height")};this.flexDir==="row"?k.flexBasis=k.width:this.flexDir==="column"&&(k.flexBasis=k.height),ee.exports.flushSync(function(){t.setState(k)}),this.props.onResize&&this.props.onResize(e,c,this.resizable,V)}},r.prototype.onMouseUp=function(e){var t=this.state,i=t.isResizing,o=t.direction,n=t.original;if(!(!i||!this.resizable)){var h={width:this.size.width-n.width,height:this.size.height-n.height};this.props.onResizeStop&&this.props.onResizeStop(e,o,this.resizable,h),this.props.size&&this.setState(this.props.size),this.unbindEvents(),this.setState({isResizing:!1,backgroundStyle:R(R({},this.state.backgroundStyle),{cursor:"auto"})})}},r.prototype.updateSize=function(e){this.setState({width:e.width,height:e.height})},r.prototype.renderResizer=function(){var e=this,t=this.props,i=t.enable,o=t.handleStyles,n=t.handleClasses,h=t.handleWrapperStyle,p=t.handleWrapperClass,d=t.handleComponent;if(!i)return null;var l=Object.keys(i).map(function(u){return i[u]!==!1?a(ne,{direction:u,onResizeStart:e.onResizeStart,replaceStyles:o&&o[u],className:n&&n[u],children:d&&d[u]?d[u]:null},u):null});return a("div",{className:p,style:h,children:l})},r.prototype.render=function(){var e=this,t=Object.keys(this.props).reduce(function(n,h){return de.indexOf(h)!==-1||(n[h]=e.props[h]),n},{}),i=R(R(R({position:"relative",userSelect:this.state.isResizing?"none":"auto"},this.props.style),this.sizeStyle),{maxWidth:this.props.maxWidth,maxHeight:this.props.maxHeight,minWidth:this.props.minWidth,minHeight:this.props.minHeight,boxSizing:"border-box",flexShrink:0});this.state.flexBasis&&(i.flexBasis=this.state.flexBasis);var o=this.props.as||"div";return w(o,{...R({ref:this.ref,style:i,className:this.props.className},t),children:[this.state.isResizing&&a("div",{style:this.state.backgroundStyle}),this.props.children,this.renderResizer()]})},r.defaultProps={as:"div",onResizeStart:function(){},onResize:function(){},onResizeStop:function(){},enable:{top:!0,right:!0,bottom:!0,left:!0,topRight:!0,bottomRight:!0,bottomLeft:!0,topLeft:!0},style:{},grid:[1,1],lockAspectRatio:!1,lockAspectRatioExtraWidth:0,lockAspectRatioExtraHeight:0,scale:1,resizeRatio:1,snapGap:0},r}(S.exports.PureComponent);const fe="_block_tmwd5_1",ge="_line_tmwd5_8",ve="_icon_tmwd5_16",me="_name_tmwd5_21",we="_desc_tmwd5_26",be="_action_tmwd5_38",x={block:fe,line:ge,icon:ve,name:me,desc:we,action:be};function ye(){const[s,r]=S.exports.useState([]),{questions:e,setQuestions:t}=J(l=>({questions:l.questions,setQuestions:l.setQuestions})),{onRefreshMenu:i}=S.exports.useContext(oe);S.exports.useEffect(()=>{const l=se(e,"model"),u=Object.keys(l).map(c=>({key:c,list:l[c].map(g=>{var v;if(((v=g.dbType)!=null?v:"").toLowerCase(),c===String(N.DatasourceQuestion))switch(g.datasource){case 1:g.icon={mysql:"/assets/icon/mysql.svg",pgsql:"/assets/icon/pg.svg",graphql:"/assets/icon/graphql.svg",mongodb:"/assets/icon/mongodb.svg",rest:"/assets/icon/rest.svg",sqlite:"/assets/icon/sqlite.svg"}[String(g.dbType).toLowerCase()]||"";break;case 2:g.icon="/assets/icon/rest.svg";break;case 3:g.icon="/assets/icon/graphql.svg";break}else c==String(N.AuthQuestion)?g.icon="/assets/icon/oidc.svg":(c==String(N.OssQuestion),g.icon="/assets/icon/file.svg");return g})}));r(u)},[e]);const o=te();async function n(l){const u=await _.get(`/dataSource/${l}`);u!=null&&u.id&&(await _.put("/dataSource",{...u,switch:0}),i("dataSource"))}async function h(l){await _.put(`/operateApi/switch/${l}`,{enable:!1}),i("api")}async function p(l){const u=await _.get(`/auth/${l}`);u!=null&&u.id&&(await _.put("/auth",{...u,switch:0}),i("auth"))}async function d(l){const u=await _.get(`/storageBucket/${l}`);u!=null&&u.id&&(await _.put("/storageBucket",{...u,switch:0}),i("storage"))}return w("div",{children:[!s.length&&a(I,{className:"pt-2",image:I.PRESENTED_IMAGE_SIMPLE,description:a(f,{id:"LwwUFT",defaultMessage:[{type:0,value:"\u6682\u65E0\u95EE\u9898"}]})}),s.map((l,u)=>a("div",{className:x.block,children:l.list.map(c=>w("div",{className:x.line,children:[a("img",{src:c.icon,className:x.icon,alt:""}),a("div",{className:x.name,children:c.name}),w("div",{className:x.desc,children:[a("span",{children:c.msg}),l.key==N.DatasourceQuestion&&a(E,{children:w("span",{children:[", ",a(f,{id:"m9wKUI",defaultMessage:[{type:0,value:"\u53EF"}]}),a("span",{className:x.action,onClick:()=>o(`/workbench/data-source/${c.id}`),children:a(f,{id:"sLFK3g",defaultMessage:[{type:0,value:"\u524D\u5F80"}]})}),a(f,{id:"3+qPlN",defaultMessage:[{type:0,value:"\u6392\u67E5, \u6216"}]}),a("span",{className:x.action,onClick:()=>n(c.id),children:a(f,{id:"47GdDb",defaultMessage:[{type:0,value:"\u5173\u95ED"}]})}),a(f,{id:"z487Zy",defaultMessage:[{type:0,value:"\u8BE5\u6570\u636E\u6E90"}]})]})}),l.key==N.OperationQuestion&&a(E,{children:w("span",{children:[", ",a(f,{id:"m9wKUI",defaultMessage:[{type:0,value:"\u53EF"}]}),a("span",{className:x.action,onClick:()=>o(`/workbench/apimanage/${c.id}`),children:a(f,{id:"sLFK3g",defaultMessage:[{type:0,value:"\u524D\u5F80"}]})}),a(f,{id:"CLqPBU",defaultMessage:[{type:0,value:"\u7F16\u8F91"}]}),c.switch&&w(E,{children:[", ",a(f,{id:"fv+irj",defaultMessage:[{type:0,value:"\u6216"}]}),a("span",{className:x.action,onClick:()=>h(c.id),children:a(f,{id:"47GdDb",defaultMessage:[{type:0,value:"\u5173\u95ED"}]})}),a(f,{id:"f5XT1C",defaultMessage:[{type:0,value:"\u8BE5API"}]})]})]})}),l.key==N.AuthQuestion&&a(E,{children:w("span",{children:[", ",a(f,{id:"m9wKUI",defaultMessage:[{type:0,value:"\u53EF"}]}),a("span",{className:x.action,onClick:()=>o(`/workbench/auth/${c.id}`),children:a(f,{id:"sLFK3g",defaultMessage:[{type:0,value:"\u524D\u5F80"}]})}),a(f,{id:"CLqPBU",defaultMessage:[{type:0,value:"\u7F16\u8F91"}]}),c.switch&&w(E,{children:[", ",a(f,{id:"fv+irj",defaultMessage:[{type:0,value:"\u6216"}]}),a("span",{className:x.action,onClick:()=>p(c.id),children:a(f,{id:"47GdDb",defaultMessage:[{type:0,value:"\u5173\u95ED"}]})}),a(f,{id:"Ytievw",defaultMessage:[{type:0,value:"\u8BE5\u9A8C\u8BC1\u5668"}]})]})]})}),l.key==N.OssQuestion&&a(E,{children:w("span",{children:[", ",a(f,{id:"m9wKUI",defaultMessage:[{type:0,value:"\u53EF"}]}),a("span",{className:x.action,onClick:()=>o(`/workbench/storage/${c.id}`),children:a(f,{id:"sLFK3g",defaultMessage:[{type:0,value:"\u524D\u5F80"}]})}),a(f,{id:"CLqPBU",defaultMessage:[{type:0,value:"\u7F16\u8F91"}]}),c.switch&&w(E,{children:[", ",a(f,{id:"fv+irj",defaultMessage:[{type:0,value:"\u6216"}]}),a("span",{className:x.action,onClick:()=>d(c.id),children:a(f,{id:"47GdDb",defaultMessage:[{type:0,value:"\u5173\u95ED"}]})}),a(f,{id:"n8v1qP",defaultMessage:[{type:0,value:"\u8BE5\u5BF9\u8C61\u5B58\u50A8"}]})]})]})}),[N.InternalQuestion,N.HooksQuestion].includes(l.key)&&a(E,{children:w("span",{children:[", ",a(f,{id:"m9wKUI",defaultMessage:[{type:0,value:"\u53EF"}]}),a("span",{className:x.action,onClick:()=>o(`/workbench/storage/${c.id}`),children:a(f,{id:"sLFK3g",defaultMessage:[{type:0,value:"\u524D\u5F80"}]})}),a(f,{id:"CLqPBU",defaultMessage:[{type:0,value:"\u7F16\u8F91"}]}),c.switch&&w(E,{children:[", ",a(f,{id:"fv+irj",defaultMessage:[{type:0,value:"\u6216"}]}),a("span",{className:x.action,onClick:()=>d(c.id),children:a(f,{id:"47GdDb",defaultMessage:[{type:0,value:"\u5173\u95ED"}]})}),a(f,{id:"n8v1qP",defaultMessage:[{type:0,value:"\u8BE5\u5BF9\u8C61\u5B58\u50A8"}]})]})]})})]})]},c.id))},u))]})}const ze=({actionRef:s})=>{const r=S.exports.useRef(null),{logs:e,setLogs:t}=J(i=>({logs:i.logs,setLogs:i.setLogs}));return S.exports.useEffect(()=>{s&&(s.current={clearLogs(){t([])},downloadLogs(){const i=new File([e.map(h=>JSON.stringify(h)).join(`
`)],"logs.txt",{type:"text/plain"}),o=document.createElement("a"),n=URL.createObjectURL(i);o.href=n,o.download=i.name,document.body.appendChild(o),o.click(),document.body.removeChild(o),window.URL.revokeObjectURL(n)}})},[s,e]),a("div",{className:"flex flex-1 w-full overflow-hidden",children:w("div",{className:"h-full mb-0 w-10/10 overflow-auto",children:[e.map((i,o)=>w("div",{className:"font-normal text-xs text-[#333333] leading-25px hover:bg-gray-100",children:[a("span",{className:"mr-8",children:i.time})," ",a("span",{className:"mr-1 w-100",children:i.level})," ",a("span",{children:i.msg})]},o)),a("div",{ref:r})]})})},xe="_active_1cb5p_1",Se="_divider_1cb5p_17",Me={active:xe,divider:Se},Re=s=>{var o;const[r,e]=S.exports.useState((o=s.activeKey)!=null?o:s.tabs[0].key),t=S.exports.useCallback(n=>{var h;e(n),(h=s.onTabClick)==null||h.call(s,n)},[s]),i=S.exports.useCallback(n=>s.activeKey?s.activeKey===n:r===n,[s.activeKey,r]);return a("div",{className:s.className,children:w("div",{className:"flex justify-between",children:[a("div",{className:"flex space-x-6",children:s.tabs.map(n=>a("div",{className:`text-[#252B3A]  cursor-pointer leading-20px ${i(n.key)?Me.active:""}`,onClick:()=>t(n.key),children:n.title},n.key))}),s.extra]})})},mt=({style:s,toggleWindow:r,defaultTab:e})=>{var d;const t=ie(),i=S.exports.useMemo(()=>[{title:t.formatMessage({id:"608d8o",defaultMessage:[{type:0,value:"\u65E5\u5FD7"}]}),key:"0"},{title:t.formatMessage({id:"gpEzjP",defaultMessage:[{type:0,value:"\u95EE\u9898"}]}),key:"1"}],[t]),[o,n]=S.exports.useState(e!=null?e:"0"),h=S.exports.useRef();S.exports.useRef();const p=w("div",{className:"cursor-pointer flex justify-end",children:[a("div",{onClick:()=>{var l;return(l=h.current)==null?void 0:l.clearLogs()},children:a("img",{src:"/assets/clear.svg",height:20,width:20,alt:"\u6E05\u7A7A"})}),a("div",{className:"ml-4",onClick:(d=h.current)==null?void 0:d.downloadLogs,children:a("img",{src:"/assets/download2.svg",height:20,width:20,alt:"\u4E0B\u8F7D"})}),a("div",{className:"ml-4",onClick:r,children:a("img",{src:"/assets/close2.svg",height:20,width:20,alt:"\u5173\u95ED"})})]});return a("div",{className:"bg-[#fff] border-gray-500/50 min-h-80px px-7 pb-5 bottom-36px z-1200  absolute",style:{borderTop:"1px solid #EFEFEFFF",borderRadius:"12px 12px 0 0",overflow:"hidden",...s},children:w(ce,{className:"flex flex-col h-full pt-2.5",defaultSize:{width:"100%",height:348},minWidth:"100%",maxWidth:"100%",enable:{top:!0},children:[a(Re,{tabs:i,onTabClick:n,activeKey:o,extra:p,className:"pb-2.5"}),w("div",{className:`w-full overflow-auto ${o==="0"?"":"hidden"}`,children:[a(ze,{actionRef:h})," "]}),a("div",{className:`w-full overflow-auto ${o==="1"?"":"hidden"}`,children:a(ye,{})})]})})};export{mt as default};
