import{a as M}from"./codemirror.es-54264851.js";import"./index-4a79dd15.js";import"./index-ad349acb.js";import"./interface-41bd3122.js";import"./engine-a3893078.js";import"./index-f1022f7b.js";import"./lock-eb1f74ce.js";import"./variable-a0aa3bcc.js";import"./common-7ac8785d.js";import"./hotkey-3a258436.js";import"./store-d3181bd4.js";import"./parser-cf485565.js";import"./Breadcrumb-16a1bba8.js";import"./DownOutlined-333f089d.js";import"./index-66f56d77.js";import"./LeftOutlined-c77d4031.js";import"./PurePanel-695a6042.js";import"./index-536f9a7b.js";import"./index-c96b6e91.js";import"./EditFilled-aeec1a6d.js";import"./index-cf46eb26.js";import"./index-5b200383.js";import"./main-7459389b.js";import"./toNumber-13d4ea6e.js";import"./utils-9cc409ea.js";import"./dayjs.min-91c5b649.js";import"./utils-9b986f1e.js";import"./DeleteOutlined-89387f09.js";import"./index-6c944f7a.js";import"./index-0c157cb9.js";import"./useShowArrow-8e7fa44f.js";import"./index-ced1d51d.js";import"./index-dc5320e5.js";import"./index-fb2379b9.js";import"./PlusOutlined-e9a2eeaa.js";import"./workbenchContext-ac20f237.js";import"./index-dc92a445.js";import"./index-23e1a441.js";import"./index-9731e7a5.js";import"./index-591b4665.js";import"./index-b3bd5699.js";import"./globalContext-dfbccd26.js";var $=Object.defineProperty,g=(F,P)=>$(F,"name",{value:P,configurable:!0});function D(F,P){return P.forEach(function(u){u&&typeof u!="string"&&!Array.isArray(u)&&Object.keys(u).forEach(function(f){if(f!=="default"&&!(f in F)){var L=Object.getOwnPropertyDescriptor(u,f);Object.defineProperty(F,f,L.get?L:{enumerable:!0,get:function(){return u[f]}})}})}),Object.freeze(Object.defineProperty(F,Symbol.toStringTag,{value:"Module"}))}g(D,"_mergeNamespaces");var A={exports:{}};(function(F,P){(function(u){u(M.exports)})(function(u){var f=u.Pos;function L(e){var t=e.flags;return t??(e.ignoreCase?"i":"")+(e.global?"g":"")+(e.multiline?"m":"")}g(L,"regexpFlags");function O(e,t){for(var r=L(e),n=r,o=0;o<t.length;o++)n.indexOf(t.charAt(o))==-1&&(n+=t.charAt(o));return r==n?e:new RegExp(e.source,n)}g(O,"ensureFlags");function R(e){return/\\s|\\n|\n|\\W|\\D|\[\^/.test(e.source)}g(R,"maybeMultiline");function _(e,t,r){t=O(t,"g");for(var n=r.line,o=r.ch,i=e.lastLine();n<=i;n++,o=0){t.lastIndex=o;var a=e.getLine(n),l=t.exec(a);if(l)return{from:f(n,l.index),to:f(n,l.index+l[0].length),match:l}}}g(_,"searchRegexpForward");function B(e,t,r){if(!R(t))return _(e,t,r);t=O(t,"gm");for(var n,o=1,i=r.line,a=e.lastLine();i<=a;){for(var l=0;l<o&&!(i>a);l++){var d=e.getLine(i++);n=n==null?d:n+`
`+d}o=o*2,t.lastIndex=r.ch;var h=t.exec(n);if(h){var s=n.slice(0,h.index).split(`
`),c=h[0].split(`
`),m=r.line+s.length-1,p=s[s.length-1].length;return{from:f(m,p),to:f(m+c.length-1,c.length==1?p+c[0].length:c[c.length-1].length),match:h}}}}g(B,"searchRegexpForwardMultiline");function j(e,t,r){for(var n,o=0;o<=e.length;){t.lastIndex=o;var i=t.exec(e);if(!i)break;var a=i.index+i[0].length;if(a>e.length-r)break;(!n||a>n.index+n[0].length)&&(n=i),o=i.index+1}return n}g(j,"lastMatchIn");function k(e,t,r){t=O(t,"g");for(var n=r.line,o=r.ch,i=e.firstLine();n>=i;n--,o=-1){var a=e.getLine(n),l=j(a,t,o<0?0:a.length-o);if(l)return{from:f(n,l.index),to:f(n,l.index+l[0].length),match:l}}}g(k,"searchRegexpBackward");function I(e,t,r){if(!R(t))return k(e,t,r);t=O(t,"gm");for(var n,o=1,i=e.getLine(r.line).length-r.ch,a=r.line,l=e.firstLine();a>=l;){for(var d=0;d<o&&a>=l;d++){var h=e.getLine(a--);n=n==null?h:h+`
`+n}o*=2;var s=j(n,t,i);if(s){var c=n.slice(0,s.index).split(`
`),m=s[0].split(`
`),p=a+c.length,x=c[c.length-1].length;return{from:f(p,x),to:f(p+m.length-1,m.length==1?x+m[0].length:m[m.length-1].length),match:s}}}}g(I,"searchRegexpBackwardMultiline");var b,y;String.prototype.normalize?(b=g(function(e){return e.normalize("NFD").toLowerCase()},"doFold"),y=g(function(e){return e.normalize("NFD")},"noFold")):(b=g(function(e){return e.toLowerCase()},"doFold"),y=g(function(e){return e},"noFold"));function v(e,t,r,n){if(e.length==t.length)return r;for(var o=0,i=r+Math.max(0,e.length-t.length);;){if(o==i)return o;var a=o+i>>1,l=n(e.slice(0,a)).length;if(l==r)return a;l>r?i=a:o=a+1}}g(v,"adjustPos");function N(e,t,r,n){if(!t.length)return null;var o=n?b:y,i=o(t).split(/\r|\n\r?/);t:for(var a=r.line,l=r.ch,d=e.lastLine()+1-i.length;a<=d;a++,l=0){var h=e.getLine(a).slice(l),s=o(h);if(i.length==1){var c=s.indexOf(i[0]);if(c==-1)continue t;var r=v(h,s,c,o)+l;return{from:f(a,v(h,s,c,o)+l),to:f(a,v(h,s,c+i[0].length,o)+l)}}else{var m=s.length-i[0].length;if(s.slice(m)!=i[0])continue t;for(var p=1;p<i.length-1;p++)if(o(e.getLine(a+p))!=i[p])continue t;var x=e.getLine(a+i.length-1),w=o(x),E=i[i.length-1];if(w.slice(0,E.length)!=E)continue t;return{from:f(a,v(h,s,m,o)+l),to:f(a+i.length-1,v(x,w,E.length,o))}}}}g(N,"searchStringForward");function z(e,t,r,n){if(!t.length)return null;var o=n?b:y,i=o(t).split(/\r|\n\r?/);t:for(var a=r.line,l=r.ch,d=e.firstLine()-1+i.length;a>=d;a--,l=-1){var h=e.getLine(a);l>-1&&(h=h.slice(0,l));var s=o(h);if(i.length==1){var c=s.lastIndexOf(i[0]);if(c==-1)continue t;return{from:f(a,v(h,s,c,o)),to:f(a,v(h,s,c+i[0].length,o))}}else{var m=i[i.length-1];if(s.slice(0,m.length)!=m)continue t;for(var p=1,r=a-i.length+1;p<i.length-1;p++)if(o(e.getLine(r+p))!=i[p])continue t;var x=e.getLine(a+1-i.length),w=o(x);if(w.slice(w.length-i[0].length)!=i[0])continue t;return{from:f(a+1-i.length,v(x,w,x.length-i[0].length,o)),to:f(a,v(h,s,m.length,o))}}}}g(z,"searchStringBackward");function S(e,t,r,n){this.atOccurrence=!1,this.afterEmptyMatch=!1,this.doc=e,r=r?e.clipPos(r):f(0,0),this.pos={from:r,to:r};var o;typeof n=="object"?o=n.caseFold:(o=n,n=null),typeof t=="string"?(o==null&&(o=!1),this.matches=function(i,a){return(i?z:N)(e,t,a,o)}):(t=O(t,"gm"),!n||n.multiline!==!1?this.matches=function(i,a){return(i?I:B)(e,t,a)}:this.matches=function(i,a){return(i?k:_)(e,t,a)})}g(S,"SearchCursor"),S.prototype={findNext:function(){return this.find(!1)},findPrevious:function(){return this.find(!0)},find:function(e){var t=this.doc.clipPos(e?this.pos.from:this.pos.to);if(this.afterEmptyMatch&&this.atOccurrence&&(t=f(t.line,t.ch),e?(t.ch--,t.ch<0&&(t.line--,t.ch=(this.doc.getLine(t.line)||"").length)):(t.ch++,t.ch>(this.doc.getLine(t.line)||"").length&&(t.ch=0,t.line++)),u.cmpPos(t,this.doc.clipPos(t))!=0))return this.atOccurrence=!1;var r=this.matches(e,t);if(this.afterEmptyMatch=r&&u.cmpPos(r.from,r.to)==0,r)return this.pos=r,this.atOccurrence=!0,this.pos.match||!0;var n=f(e?this.doc.firstLine():this.doc.lastLine()+1,0);return this.pos={from:n,to:n},this.atOccurrence=!1},from:function(){if(this.atOccurrence)return this.pos.from},to:function(){if(this.atOccurrence)return this.pos.to},replace:function(e,t){if(this.atOccurrence){var r=u.splitLines(e);this.doc.replaceRange(r,this.pos.from,this.pos.to,t),this.pos.to=f(this.pos.from.line+r.length-1,r[r.length-1].length+(r.length==1?this.pos.from.ch:0))}}},u.defineExtension("getSearchCursor",function(e,t,r){return new S(this.doc,e,t,r)}),u.defineDocExtension("getSearchCursor",function(e,t,r){return new S(this,e,t,r)}),u.defineExtension("selectMatches",function(e,t){for(var r=[],n=this.getSearchCursor(e,this.getCursor("from"),t);n.findNext()&&!(u.cmpPos(n.to(),this.getCursor("to"))>0);)r.push({anchor:n.from(),head:n.to()});r.length&&this.setSelections(r,0)})})})();var C=A.exports,jt=D({__proto__:null,default:C},[A.exports]);export{A as a,jt as s};
