import{C as r}from"./codemirror.es.fa31b7d8.js";import"./index.e309cc4c.js";import"./index.e5e6c754.js";import"./index.94b2fb2c.js";import"./index.e54b5c9c.js";import"./KeyCode.9c493596.js";import"./Overflow.321ca619.js";import"./PlusOutlined.5b3e3b8c.js";import"./index.07d786b1.js";import"./index.3e81d184.js";import"./index.8958a719.js";import"./getDataOrAriaProps.e48b8c96.js";import"./printer.b0e2956d.js";import"./DownOutlined.75881d1e.js";import"./index.b6cece06.js";import"./index.6926b693.js";import"./index.esm.0df65c6e.js";import"./index.esm.e5edd667.js";import"./workbenchContext.a6b76e3b.js";import"./keyBy.400ebaf7.js";import"./_baseGet.6a7418c9.js";import"./_createAggregator.87a98d7b.js";import"./get.131f9f4f.js";import"./utils.aecd68b7.js";import"./DialogWrap.947e0e2f.js";import"./pickAttrs.c5bbb5fc.js";import"./index.9c69eadb.js";import"./path.2dc76f8c.js";import"./Editor.c970b515.js";import"./use-immer.module.1d9a0526.js";import"./difference.6d57e3ed.js";import"./_baseUniq.d23dbdee.js";import"./flatten.8e198855.js";import"./omit.afdf8a34.js";import"./_baseClone.e2094da0.js";import"./iconUtil.31c13224.js";import"./index.5e1fa168.js";import"./index.0cfa4828.js";import"./Tree.4b4dd3c6.js";import"./conductUtil.03f406cc.js";import"./RightOutlined.73e4cc97.js";import"./index.daad23d2.js";import"./index.6f73eb32.js";import"./dayjs.min.fccffbb3.js";import"./index.5f2defea.js";import"./EditFilled.960b3a16.js";import"./main.6509447f.js";import"./index.8cc7621e.js";import"./index.1d15c994.js";import"./DeleteOutlined.d0f28ba8.js";import"./index.dfde5764.js";import"./main.70523ff0.js";var y=Object.defineProperty,p=(o,e)=>y(o,"name",{value:e,configurable:!0});r.defineOption("info",!1,(o,e,i)=>{if(i&&i!==r.Init){const t=o.state.info.onMouseOver;r.off(o.getWrapperElement(),"mouseover",t),clearTimeout(o.state.info.hoverTimeout),delete o.state.info}if(e){const t=o.state.info=v(e);t.onMouseOver=h.bind(null,o),r.on(o.getWrapperElement(),"mouseover",t.onMouseOver)}});function v(o){return{options:o instanceof Function?{render:o}:o===!0?{}:o}}p(v,"createState");function g(o){const e=o.state.info.options;return(e==null?void 0:e.hoverTime)||500}p(g,"getHoverTime");function h(o,e){const i=o.state.info,t=e.target||e.srcElement;if(!(t instanceof HTMLElement)||t.nodeName!=="SPAN"||i.hoverTimeout!==void 0)return;const m=t.getBoundingClientRect(),n=p(function(){clearTimeout(i.hoverTimeout),i.hoverTimeout=setTimeout(s,f)},"onMouseMove"),u=p(function(){r.off(document,"mousemove",n),r.off(o.getWrapperElement(),"mouseout",u),clearTimeout(i.hoverTimeout),i.hoverTimeout=void 0},"onMouseOut"),s=p(function(){r.off(document,"mousemove",n),r.off(o.getWrapperElement(),"mouseout",u),i.hoverTimeout=void 0,T(o,m)},"onHover"),f=g(o);i.hoverTimeout=setTimeout(s,f),r.on(document,"mousemove",n),r.on(o.getWrapperElement(),"mouseout",u)}p(h,"onMouseOver");function T(o,e){const i=o.coordsChar({left:(e.left+e.right)/2,top:(e.top+e.bottom)/2}),m=o.state.info.options,n=m.render||o.getHelper(i,"info");if(n){const u=o.getTokenAt(i,!0);if(u){const s=n(u,m,o,i);s&&M(o,e,s)}}}p(T,"onMouseHover");function M(o,e,i){const t=document.createElement("div");t.className="CodeMirror-info",t.appendChild(i),document.body.appendChild(t);const m=t.getBoundingClientRect(),n=window.getComputedStyle(t),u=m.right-m.left+parseFloat(n.marginLeft)+parseFloat(n.marginRight),s=m.bottom-m.top+parseFloat(n.marginTop)+parseFloat(n.marginBottom);let f=e.bottom;s>window.innerHeight-e.bottom-15&&e.top>window.innerHeight-e.bottom&&(f=e.top-s),f<0&&(f=e.bottom);let l=Math.max(0,window.innerWidth-u-15);l>e.left&&(l=e.left),t.style.opacity="1",t.style.top=f+"px",t.style.left=l+"px";let d;const c=p(function(){clearTimeout(d)},"onMouseOverPopup"),a=p(function(){clearTimeout(d),d=setTimeout(O,200)},"onMouseOut"),O=p(function(){r.off(t,"mouseover",c),r.off(t,"mouseout",a),r.off(o.getWrapperElement(),"mouseout",a),t.style.opacity?(t.style.opacity="0",setTimeout(()=>{t.parentNode&&t.parentNode.removeChild(t)},600)):t.parentNode&&t.parentNode.removeChild(t)},"hidePopup");r.on(t,"mouseover",c),r.on(t,"mouseout",a),r.on(o.getWrapperElement(),"mouseout",a)}p(M,"showPopup");
