import{K as he,r as q,j as o}from"./index-9fa09868.js";import{x as s,g as le,h as ce,A as v}from"./hook-ec221748.js";import{g as de,S as A}from"./index-1568ef58.js";import"./interface-41bd3122.js";import"./engine-d65aac61.js";import"./workbenchContext-cd5ced8b.js";import"./index-a0b841bc.js";import"./lock-c9f69a70.js";import"./variable-9b9dc6f1.js";import"./common-7ac8785d.js";import"./hotkey-3a258436.js";import"./store-b0d4a421.js";import"./parser-0b83345b.js";import"./Breadcrumb-d53f6a39.js";import"./DownOutlined-136b8b7b.js";import"./index-887ab9bc.js";import"./LeftOutlined-f809c2a3.js";import"./PurePanel-01aebed2.js";import"./index-1966150e.js";import"./index-4508bc2d.js";import"./EditFilled-f59a50fb.js";import"./index-5582acbe.js";import"./index-b961e78d.js";import"./index-b625c514.js";import"./useShowArrow-88bb58bf.js";import"./index-f6f30c68.js";import"./main-7459389b.js";import"./toNumber-224987da.js";import"./utils-9cc409ea.js";import"./dayjs.min-7d4a9bf2.js";import"./utils-9b986f1e.js";import"./DeleteOutlined-11c8da92.js";import"./index-4a5fa0b5.js";import"./index-0683d04c.js";import"./index-467ee2e0.js";import"./index-5c1119f6.js";import"./index-23d43893.js";import"./PlusOutlined-660936ea.js";import"./index-84d0df5b.js";import"./index-a6ae17d2.js";import"./index-546cfe90.js";import"./globalContext-7caf8a84.js";const oe="data:image/png;base64,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",ve="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAF4AAAAgCAMAAACsJD/tAAABuVBMVEUAAADFy93Hzd3Jz968wM3FzNzEydm3wM2boa/Hzd+ZoK6kqbi/xdTAxdXK1NqmrLuss8K1u8qjqrWiqrjI0OCcorGepLKfpbShp7ersL/Fy9uvtcWiprXAxtWqsL6sssGxtsazuci5v86wtcXGzN29wtPHzt6gp7XCydmdpLS7u9Wco7HBx9eepLKZn63DydmlrLqor76qsL/DydqsssGgp7bGzNyboa/DydmZn62qsL+6wNClq7q8wtKaoa7Fytq1u8rCxtmZnq3Bx9fEytqmrbzDytnEydm8wdCyuMfGzNy1u8rIzt21vMu9wtLFytqaoK6lq7q+xNOvtMTHzd6/xtWsscDFyt2ttMHCwtfAxtfAxdaorr2zuciZn6zBx9fByNi6wNChp7WcorGcoa+jqbefprSZn62gprWaoK+boa6mrLmmrbypr72fpLSeo7LI0ODIzt6mrLukqrm4v8+rsMCzucean6+5vs6yuMa0ucnFy9ujqbjGzd+YnqyiqLalq7qsssGaoK6do7GfpbO8wtGwtsW/xdW0usmqr76nrbyjqbeutMOorr22vMuyuMe4vs2corC5v8/Uti6/AAAAfnRSTlMAJW0mBTAeFPVu+sssGgq7mnEhHA/t5tzTp5yTQDzOpI2BamNfT05KQzkK8Ozh3NTDs66qn5WOgn14bmNdWVFJRjf0y7++tpaRh4N6dXVdWlhXVFRTSDg0Jhf69fTx6ebg3tfLvrSzsaqooZqKe25lYksr9PLm0sXBs7CvemhdXJTVAAAC1ElEQVRIx7XU51faUBjH8YcQEgdLpgyhCoiA4EBEKQJuW627jjpa696jeyF1tAqu+hf3uYnzuDV84Q1vPvd3LjmBq7GSaEcvDelILl79RWVmUoXwwFQmq2mxa+1WW9JLURTaEjk8NNkzq6Fc0agIhNVwbUwhRSoUP/JeWHOoQlGanZ07tXT1BKkdZ2facfdTUnfNZ+e+13tnzXAxMcGpXgaennpZoffqtF/OD3Bz12JnQKCcUzptRta0GrjYFXIvUSEfRdeEJyNr1AWYfAWflrYiELZgRla8jvirVFvVSzsI3Rz6PgAa8cpKRnC+E/l4BGSIG40awfmAB/1qYJqNRr8/KrS+pNMivwxg9P9oamiSCIqrZvQ6rSejjgXoaGpoqC8pqZLBHdlC97Np80J2rt6L8zvJr2bE370tLvZ33P4PKHcN7jttd1+ovLGUvBl0XtQxjRHxoTd/sfqWGhHclGU/aVm7dfZALKfCUF7Gvdj0Myo4iSrm8G3S8cevLQUxBq42nEgkPnTdIA9KY7b8ZyZlhdVQpsD5k044T9Y8dIIfHR0dHOzs7Ix8/mbK6emTwVmqRCKVWl8P0JdhOctI8xzPC3Jetea/QN9K5s+b4XKDVWPbx8doE/zw8A+2t/cb+2QpUy6Ewk5XOLWObW2Nq7m5Gg07KGPEktq8otfdNe3ER57MV9pUcE15LWNIo31IbB7f3d1PJpMJjMc3Nzf/aZ0AGpFYxH0l/cg7umtO5+f3DMCNSXO+jxD8zN5HndgpbvgW4htYEBAWi8hHSuZHHdz8VltMBncltSktxCb4heFo83gcm5Dgcs4/nd/uqGVouG8DPYsGyzBvnw3nccwXEWF4Aj+/X8qwSD84ti/8MzCZ6yHDN3gbywq6Qc7fPSNjNXJ4am6VKxJEnGtaBSSaBiGL8LjPCWmpmuB11TSkpznUZ9WQrsbjPjOkr1G8l/RFs/CY/gMIs9Pg1uhgrgAAAABJRU5ErkJggg==",me="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIYAAABaCAMAAABKW973AAABXFBMVEUAAADj7fv////////l7ffi5/Pj5/Ph5PPh5vHn5/fr6/X////m5v/9/v/k5fT////h5fTj5vH////r7ffk///////n7ffv7//m5vPr6//////////////////////////t7fbj5vL////o7Pfx8f/////j5/X////////k5/Tk5/Lj6fTi5fT////////////////////k5vP+/v/i5fL////i5vLk5/P////i5fPj5/T////////////i5fPi5vPk5/Pi5fLr7fbj5fL////j5vPj5vL////i5vL9/f7i5fLh5fL////i5vLh5fLt7/fj5vTj5vP////+/v/i5fLi5fLi5fP+/v/v8fn7/P38/P7h5PPz9Pn7+/7y8/rr7fb////4+f309fr09fn////v8Pf////u7vf///8SNv/09fr9/f76+v33+Pz2+P/Y3v+mtP9rgf86WP8cPv8doFkVAAAAaHRSTlMAEQcFHCs/Vm8fFPgK7jD7RVz8iAn1GQ0oC+vw5+3z6RY88SMPmTPUU0E4LVjNrY11TEwsppOLhG1qSDYxs3tmUbiNc3FtYFdP9tC9t56alltTUELGr5GGe2xfVda5tZN7Z/Tnw7++pRHoRzEAAAOhSURBVGje7dppU9pQFAZgAwFNpFAEkgBqSQMISFtZZBNZiiCWggvuW7Vr0FZR//9MbybRO3Lb6UxbTuIM7weGbzxz7wEOwzv27zGbzWOQIV/eZDK5taCneniQweblg9RDeN5rM0FBMMLLU2yAo1EYBj1wXICleJsJ1GF2e6kteTAONuiFdKCzoLgIyaADFKRDUTCHspoeisYQmEDQBsYwu/kAI5yTjLBAszzYcZhtFCeED0iGaJe4oBuKYfKyzLy4TzIKMYGmvGAMnpPCz10ko2K1MywPxkB3EksqjJveQ24QY6MQlgK8aQwkZjdFW8TKW8S4ur1X3F4hRiMZE7ggHIOZt45/kFGu71TF3bVyKeWmKHAUFMOGGNH4uqykrzL6ssLIb4oCDcdgGfvzDZWhjseNOqL1I6sFmOFULkUbDzQYSi4nxuEZyoiq44EGQ3+G3O/LRmDI8ojhXDcG4xu59ujB+EIwJvVgHBPfsHowGh8JxpoOjPULIzCSn0iGH55xekEynoEzQj8QY2D7AmekTr4jBrF9wTKkvbVLhUFsX3AM09LCV1m+fGDg7Wt4DHdASi11ExGU1cPzlbPQ8pxnakrGjIHta0gMbml1IfR+bvqFb8b/0uOZnJx0OAgG3r4gGLOzqoNg4O1rWIzAIwZ5Gnj7GjIjsrCIL8VDMrQAMJY1BjoNFD0YbHGQ4dCdob1THPAMqhhZMcBpUMWtlT/PRg9l6Iw3r19pjPt3yhQ0I4gZxKVAMlKJHMGAPw2eYBCzAc3wa7Ph0E6D3L4gGDPqiOLPjYvjU6jty5tKHCiMaZ/v8aWsnexXnC6I7QsztEvRRtT/OZTr0sqvNhfU9mWmi93V3N5iSMneWe4w0ZXwj0fX77cvkGAG3r50Z6jbl/4MZfsyAkOWR4wRw8iMHsqIMWIYlEFuX/AMYvvShUFuX/AMcvuCZYy2r9H29VS+YTd+wYD7cxxXBUiGD64qgIsTWZIBV5zANZJ9kgFXI8GlmkYt096pbm+/Q9luVdOd7ARcqQZXjOL50m47vVNttVrV6k66kymV4SpGuHCVdNZLmd1OO43S7uxmS/k4XOEK18+iTWe+VspmMyjZbKlWjifB6me4jIccyfFGOV+fqNUm6vmyc7MggpXxcDUROcRoobk5Hkc5qjQL0ZgdrpqIi5qMZLHHYqI1imIVY2G7RYIrauLaKosggmCxzKNYLILE0Nxf1VaffonXIJVmwxS8/2/d/SdGdeKKYaAs3QAAAABJRU5ErkJggg==",ge="data:image/png;base64,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",ue=20,w=410,H=80,Z=28,_=112,N=50,O=112,R=32,$=130,J=46,F=14,b=14,L=20,g=20,k=(w-H)/2,W=(w-_)/2,j=(w-O)/2,Ae=(w-$)/2,E=(w-F)/2,x=(w-L)/2,ft=({globalHookState:h,hookState:f,directiveState:c,apiDesc:M,onEditHook:r,onToggleHook:n})=>{const u=he(),U=q.useRef(null);return q.useEffect(()=>(s.Graph.registerNode("terminal",{inherit:"rect",width:H,height:Z,attrs:{body:{strokeWidth:.5,stroke:"rgba(95, 98, 105, 0.6)",fill:"#F3F9FD",rx:14,ry:14},text:{fontSize:14,fill:"#333333"}}}),s.Graph.registerEdge("flowline",{zIndex:-1,attrs:{line:{stroke:"#1034FF",targetMarker:{name:"block",width:3,height:4}}}}),s.Graph.registerEdge("rejectArrow",{attrs:{line:{stroke:"#787D8B",targetMarker:{name:"block",width:3,height:4}}}}),s.Graph.registerNode("decision",{inherit:"polygon",width:_,height:N,attrs:{body:{strokeWidth:.5,stroke:"#F2B241",fill:"#ffffff",refPoints:"0,10 10,0 20,10 10,20"},text:{fontSize:14,fill:"#F3B13F"}}}),s.Graph.registerNode("process",{inherit:"rect",width:O,height:R,attrs:{body:{strokeWidth:.5,stroke:"rgba(95, 98, 105, 0.6)",fill:"#ffffff",rx:4,ry:4},text:{fontSize:14,fill:"#333333"}}}),s.Graph.registerNode("operation",{inherit:"rect",width:$,height:J,attrs:{body:{strokeWidth:.5,stroke:{type:"linearGradient",attrs:{x1:"100%",y1:"100%",x2:"0%",y2:"0%"},stops:[{offset:"0%",color:"#FF9378"},{offset:"100%",color:"#E13D5B"}]},fill:{type:"linearGradient",attrs:{x1:"100%",y1:"0%",x2:"0%",y2:"100%"},stops:[{offset:"0%",color:"#FFF3F8"},{offset:"100%",color:"#FFDBDD"}]},rx:4,ry:4},text:{fontSize:14,fill:"#E92E5E"}}}),s.Graph.registerNode("globalHook",{inherit:"rect",width:L,height:g,markup:[{tagName:"image"}],attrs:{image:{"xlink:href":le,width:L,height:g,refX:0,refY:0,filter:{name:"dropShadow",args:{color:"rgba(202,83,206,0.33)",dx:0,dy:2,blur:7}}}}}),s.Graph.registerNode("hook",{inherit:"rect",width:L,height:g,markup:[{tagName:"image"}],attrs:{image:{"xlink:href":ce,width:L,height:g,refX:0,refY:0,filter:{name:"dropShadow",args:{color:"rgba(56,110,252,0.23)",dx:0,dy:2,blur:4}}}}}),s.Graph.registerNode("flowLabel",{inherit:"rect",height:b,attrs:{body:{fill:"#fff",strokeWidth:.3,stroke:"rgba(175, 176, 180, 0.6)",rx:7,ry:7},text:{fontSize:12,fill:"#6f6f6f"}}}),s.Graph.registerNode("router",{inherit:"rect",width:24,height:24,markup:[{tagName:"image"}],attrs:{image:{width:24,height:24,refX:0,refY:0,filter:{name:"dropShadow",args:{color:"rgba(69, 211, 142, 0.4)",dx:0,dy:3,blur:6}}}}}),s.Graph.registerEdge("reject",{router:{name:"oneSide",args:{side:"left",padding:128}},attrs:{line:{stroke:"#787D8B",strokeWidth:.5,strokeDasharray:"3 3",targetMarker:""}}}),s.Graph.registerNode("directiveTrigger",{inherit:"circle",zIndex:200,width:12,height:12,attrs:{body:{fill:{type:"linearGradient",attrs:{x1:"0",y1:"0%",x2:"100%",y2:"100%"},stops:[{offset:"0%",color:"#7CD4FC"},{offset:"100%",color:"#478FFF"}]},stroke:"",filter:{name:"dropShadow",args:{color:"rgba(105,187,253,0.43)",dx:0,dy:2,blur:3}}},text:{fontSize:12,fill:"#fff"}}}),s.Graph.registerNode("directive",{inherit:"rect",width:100,height:16,attrs:{body:{height:16,rx:8,ry:8,fill:"#A4BEE1",stroke:""},text:{fontSize:12,fill:"#fff"}}}),()=>{s.Graph.unregisterNode("terminal"),s.Graph.unregisterEdge("flowline"),s.Graph.unregisterEdge("rejectArrow"),s.Graph.unregisterNode("decision"),s.Graph.unregisterNode("process"),s.Graph.unregisterNode("operation"),s.Graph.unregisterNode("globalHook"),s.Graph.unregisterNode("hook"),s.Graph.unregisterNode("flowLabel"),s.Graph.unregisterNode("router"),s.Graph.unregisterEdge("reject"),s.Graph.unregisterNode("directiveTrigger"),s.Graph.unregisterNode("directive")}),[]),q.useEffect(()=>{var X,S;const a=new s.Graph({container:U.current,mousewheel:{enabled:!0,zoomAtMousePosition:!0,modifiers:"ctrl",minScale:.5,maxScale:3},interacting:{nodeMovable:!1,edgeMovable:!1,edgeLabelMovable:!1,arrowheadMovable:!1,vertexMovable:!1,useEdgeTools:!1},background:{color:"#F8F9FD",image:de,size:{width:22,height:22},repeat:"repeat"},autoResize:!0}),m=[],l=[],B=[],d=[];let e=ue;const V=a.createNode({shape:"terminal",label:u.formatMessage({id:"sRgn0V",defaultMessage:[{type:0,value:"开始请求"}]}),x:k,y:e});m.push(V),l.push(V),e+=16+Z;const ee=new v({shape:"globalHook",x,y:e},[{shape:"react-shape",width:114,height:20,component:o.jsx(A,{enabled:h.beforeRequest.enabled,label:"beforeRequest",onClick:()=>r==null?void 0:r(h.beforeRequest),onToggleEnabled:t=>n==null?void 0:n(h.beforeRequest,t)}),x:290,y:e}],"arrow");if(d.push(ee),e+=16+g,c.fromClaim||(X=M.authenticationConfig)!=null&&X.authRequired){const t=a.createNode({shape:"decision",label:u.formatMessage({id:"3bdXhI",defaultMessage:[{type:0,value:"登录校验?"}]}),x:W,y:e});if(l.push(t),c.fromClaim){const p=new v({shape:"directiveTrigger",label:"1",x:258,y:e+19},[{shape:"directive",label:"@fromClaim",width:84,height:16,x:290,y:e+17}],"linear");d.push(p)}e+=7+N;const i=a.createNode({shape:"flowLabel",label:"Y",width:F,height:b,x:E,y:e});m.push(t,i),B.push([t,"401"]),e+=8+b}if(c.rbac){const t=a.createNode({shape:"decision",label:u.formatMessage({id:"lPNqbT",defaultMessage:[{type:0,value:"授权校验?"}]}),x:W,y:e});l.push(t),B.push([t,"401"]);const i=new v({shape:"directiveTrigger",label:"1",x:258,y:e+19},[{shape:"directive",label:"@rbac",width:64,height:16,x:300,y:e+17}],"linear");d.push(i),e+=7+N;const p=a.createNode({shape:"flowLabel",label:"Y",width:F,height:b,x:E,y:e});m.push(t,p)}if(c.jsonSchema){e+=8+b;const t=a.createNode({shape:"decision",label:u.formatMessage({id:"hv0Nju",defaultMessage:[{type:0,value:"入参校验?"}]}),x:W,y:e});l.push(t),B.push([t,"400"]);const i=new v({shape:"directiveTrigger",label:"1",x:258,y:e+19},[{shape:"directive",label:"@jsonSchema",width:88,height:16,x:290,y:e+17}],"linear");d.push(i),e+=7+N;const p=a.createNode({shape:"flowLabel",label:"Y",width:F,height:b,x:E,y:e});m.push(t,p),e+=8+b}if(c.injectCurrentDatetime||c.injectEnvironmentVariable||c.injectGeneratedUUID){const t=a.createNode({shape:"process",label:u.formatMessage({id:"fh2gOX",defaultMessage:[{type:0,value:"参数注入"}]}),x:j,y:e});l.push(t);const i=[];c.injectCurrentDatetime&&i.push({shape:"directive",label:"@CurrentDatetime",width:110,height:16,x:290,y:e+40}),c.injectEnvironmentVariable&&i.push({shape:"directive",label:"@EnvironmentVariable",width:128,height:16,x:280,y:e-40}),c.injectGeneratedUUID&&i.push({shape:"directive",label:"@GeneratedUUID",width:110,height:16,x:290,y:e});const p=new v({shape:"directiveTrigger",label:"3",x:258,y:e},i,"linear");d.push(p),e+=7+R,m.push(t)}const G=e-6,te={shape:"hook",x,y:e},Y=[{shape:"react-shape",width:114,height:20,component:o.jsx(A,{enabled:f.preResolve.enabled,label:"preResolve",onClick:()=>r==null?void 0:r(f.preResolve),onToggleEnabled:t=>n==null?void 0:n(f.preResolve,t)}),x:290,y:e-12}];f.mutatingPreResolve.can&&Y.push({shape:"react-shape",width:114,height:20,component:o.jsx(A,{enabled:f.mutatingPreResolve.enabled,label:"mutatingPreResolve",onClick:()=>r==null?void 0:r(f.mutatingPreResolve),onToggleEnabled:t=>n==null?void 0:n(f.mutatingPreResolve,t)}),x:280,y:e+12});const re=new v(te,Y,"arrow");d.push(re),e+=8+g;const y=a.createNode({shape:"router",x:(w-54)/2,y:e,attrs:{image:{width:54,height:36,"xlink:href":f.mockResolve.enabled?ge:me}}});m.push(y);const K=l.push(y)-1;e+=12+30;const se=new v({shape:"hook",x,y:e},[{shape:"react-shape",width:114,height:20,component:o.jsx(A,{enabled:f.customResolve.enabled,label:"customResolve",onClick:()=>r==null?void 0:r(f.customResolve),onToggleEnabled:t=>n==null?void 0:n(f.customResolve,t)}),x:290,y:e}],"arrow");d.push(se),e+=16+g;const ae=a.createNode({shape:"react-shape",width:88,height:20,x:30,y:e+94,component:o.jsx("div",{className:"rounded-xl cursor-pointer h-5 text-xs text-center px-1 leading-5",style:{border:"1px solid rgb(233, 46, 94)",background:"linear-gradient(316deg, #FFF3F8 0%, #FFDBDD 100%)"},onClick:()=>r==null?void 0:r(f.mockResolve),children:"mockResolve"})});if(h.onRequest){const t={shape:"globalHook",x,y:e},i=new v(t,[{shape:"react-shape",width:114,height:20,component:o.jsx(A,{enabled:h.onRequest.enabled,label:"onRequest",onClick:()=>r==null?void 0:r(h.onRequest),onToggleEnabled:p=>n==null?void 0:n(h.onRequest,p)}),x:290,y:e}],"arrow");d.push(i),e+=16+g}const T=a.createNode({shape:"operation",label:u.formatMessage({id:"4tkspf",defaultMessage:[{type:0,value:"执行 (Operation)"}]}),x:Ae,y:e});m.push(T),l.push(T),e+=12+J;const ie={shape:"globalHook",x,y:e},ne=new v(ie,[{shape:"react-shape",width:114,height:20,component:o.jsx(A,{enabled:h.onResponse.enabled,label:"onResponse",onClick:()=>r==null?void 0:r(h.onResponse),onToggleEnabled:t=>n==null?void 0:n(h.onResponse,t)}),x:290,y:e}],"arrow");if(d.push(ne),e+=12+g,c.transform){const t=a.createNode({shape:"process",label:u.formatMessage({id:"9WXJgY",defaultMessage:[{type:0,value:"响应转换"}]}),x:j,y:e});m.push(t),l.push(t);const i=new v({shape:"directiveTrigger",label:"1",x:258,y:e+10},[{shape:"directive",label:"@transform",width:82,height:16,x:290,y:e+8}],"linear");e+=12+R,d.push(i)}const fe={shape:"hook",x,y:e};new v(fe,[{shape:"react-shape",width:114,height:20,component:o.jsx(A,{enabled:f.postResolve.enabled,label:"postResolve",onClick:()=>r==null?void 0:r(f.postResolve),onToggleEnabled:t=>n==null?void 0:n(f.postResolve,t)}),x:290,y:e-12},{shape:"react-shape",width:114,height:20,component:o.jsx(A,{enabled:f.mutatingPostResolve.enabled,label:"mutatingPostResolve",onClick:()=>r==null?void 0:r(f.mutatingPostResolve),onToggleEnabled:t=>n==null?void 0:n(f.mutatingPostResolve,t)}),x:280,y:e+12}],"arrow").addToGraph(a),e+=18+g;const I=e-6;if((S=M.liveQueryConfig)!=null&&S.enabled){const t=(I-G)/2+G,i=f.mockResolve.enabled,p=new s.Shape.Rect({x,y:G,width:0,height:0}),P=new s.Shape.Rect({x:j-40,y:t-12,width:0,height:0}),C=new s.Shape.Rect({x:j-40,y:t+12,width:0,height:0}),Q=new s.Shape.Rect({x,y:I,width:0,height:0});a.addNodes([p,Q,P,C]),a.addEdge({source:p,target:P,connector:{name:"rounded",args:{radius:100}},vertices:[{x:P.getBBox().x,y:G}],attrs:{line:{stroke:{type:"linearGradient",attrs:{x1:"0%",y1:"0%",x2:"100%",y2:"0%"},stops:[{offset:"0%",color:i?"rgba(179, 186, 204, 0.2)":"rgba(71, 143, 255, 0.2)"},{offset:"100%",color:i?"rgba(179, 186, 204, 0.5)":"rgba(71, 143, 255, 0.5)"}]},strokeWidth:2,targetMarker:""}}}),a.addEdge({source:C,target:Q,connector:{name:"rounded",args:{radius:100}},vertices:[{x:C.getBBox().x,y:I}],attrs:{line:{stroke:{type:"linearGradient",attrs:{x1:"0%",y1:"0%",x2:"100%",y2:"0%"},stops:[{offset:"0%",color:i?"rgba(179, 186, 204, 0.5)":"rgba(71, 143, 255, 0.5)"},{offset:"100%",color:i?"rgba(179, 186, 204, 1)":"rgba(71, 143, 255, 1)"}]},strokeWidth:2,targetMarker:{name:"block",fill:i?"#B3BACC":"#478FFF",width:9,height:12}}}}),a.addNode({inherit:"rect",x:P.getBBox().x-23,y:P.getBBox().y+6,width:47,height:16,markup:[{tagName:"image"}],attrs:{image:{height:16,width:47,"xlink:href":i?ve:oe}}}),a.addNode({x:P.getBBox().x-20,y:P.getBBox().y,width:40,height:12,attrs:{body:{fill:"transparent",stroke:"transparent"},label:{fontSize:11,stroke:i?"#B3BACC":"#478FFF",text:`${M.liveQueryConfig.pollingIntervalSeconds}s`}}})}const pe=new v({shape:"globalHook",x,y:e},[{shape:"react-shape",width:114,height:20,component:o.jsx(A,{enabled:h.afterResponse.enabled,label:"afterResponse",onClick:()=>r==null?void 0:r(h.afterResponse),onToggleEnabled:t=>n==null?void 0:n(h.afterResponse,t)}),x:290,y:e}],"arrow");d.push(pe),e+=16+g;const D=a.createNode({shape:"process",label:u.formatMessage({id:"BLWx5q",defaultMessage:[{type:0,value:"发送响应到客户端"}]}),width:144,height:R,x:j-(144-O)/2,y:e});m.push(D),l.push(D),e+=20+R;const z=a.createNode({shape:"terminal",label:u.formatMessage({id:"vAJa48",defaultMessage:[{type:0,value:"结束"}]}),x:k,y:e});return m.push(z),l.push(z),a.addNodes(m),a.addEdge({shape:"reject",source:y,target:D,router:{name:"oneSide",args:{side:"left",padding:60}},...f.mockResolve.enabled?{stroke:"#1034FF",attrs:{line:{stroke:"#1034FF",strokeWidth:1,strokeDasharray:"3 0",targetMarker:""}}}:{}}),a.addEdge({shape:"rejectArrow",source:{x:100,y:y.getBBox().y+18},target:{x:96,y:y.getBBox().y+18},...f.mockResolve.enabled?{attrs:{line:{stroke:"#1034FF"}}}:{}}),a.addNode(ae),a.addEdges(l.reduce((t,i,p)=>(p<l.length-1&&t.push({shape:"flowline",source:i,target:l[p+1],...f.mockResolve.enabled&&p>=K&&p!==l.length-2?{attrs:{line:{stroke:"#787D8B",strokeWidth:.5,strokeDasharray:"3 3",targetMarker:""}}}:p===K-1?{attrs:{line:{targetMarker:""}}}:{}}),t),[])),B.forEach(t=>{const i=t[0].getBBox();a.addEdge({shape:"reject",source:t[0],target:z}),a.addNode({shape:"flowLabel",label:t[1],width:24,height:b,x:80,y:i.y+18}),a.addEdge({shape:"rejectArrow",source:{x:64,y:i.y+25},target:{x:60,y:i.y+25}})}),d.forEach(t=>t.addToGraph(a)),()=>{console.log("dispose FlowChart"),a.dispose()}},[c,f,h,M,r]),o.jsx("div",{className:"flex flex-shrink-0 w-full overflow-x-auto overflow-y-hidden !h-full",children:o.jsx("div",{className:"flex-1 min-h-175 min-w-102",ref:U})})};export{ft as default};
