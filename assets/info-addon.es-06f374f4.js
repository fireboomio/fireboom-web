import{C as n}from"./codemirror.es-92a40d36.js";import"./index-09af261b.js";import"./index-fd8424bf.js";import"./interface-41bd3122.js";import"./engine-5651336c.js";import"./workbenchContext-8bfb2659.js";import"./index-9e6bcfb4.js";import"./lock-0d559e70.js";import"./variable-b25d5af2.js";import"./common-7ac8785d.js";import"./hotkey-3a258436.js";import"./store-a70840e5.js";import"./parser-0b83345b.js";import"./Breadcrumb-14d727ec.js";import"./DownOutlined-4120e383.js";import"./index-da0205f9.js";import"./LeftOutlined-a60d38d2.js";import"./PurePanel-5fd0a063.js";import"./index-bb4983ac.js";import"./index-2752308c.js";import"./EditFilled-35abb29e.js";import"./index-9e3c6529.js";import"./index-f9c15a3b.js";import"./index-8bd1c855.js";import"./useShowArrow-59f66ad3.js";import"./index-b182b30b.js";import"./main-7459389b.js";import"./toNumber-ec813c4d.js";import"./utils-9cc409ea.js";import"./dayjs.min-54a6d9e1.js";import"./utils-9b986f1e.js";import"./DeleteOutlined-c17b9b73.js";import"./index-62c63076.js";import"./index-89eef44b.js";import"./index-ce21a974.js";import"./index-2a73c86c.js";import"./index-2aa3b5c5.js";import"./PlusOutlined-ebde93dd.js";import"./index-3b93454e.js";import"./index-cdf7f01d.js";import"./index-5d53d3d6.js";import"./globalContext-1c6d6a72.js";var y=Object.defineProperty,p=(o,e)=>y(o,"name",{value:e,configurable:!0});n.defineOption("info",!1,(o,e,i)=>{if(i&&i!==n.Init){const t=o.state.info.onMouseOver;n.off(o.getWrapperElement(),"mouseover",t),clearTimeout(o.state.info.hoverTimeout),delete o.state.info}if(e){const t=o.state.info=v(e);t.onMouseOver=h.bind(null,o),n.on(o.getWrapperElement(),"mouseover",t.onMouseOver)}});function v(o){return{options:o instanceof Function?{render:o}:o===!0?{}:o}}p(v,"createState");function g(o){const e=o.state.info.options;return(e==null?void 0:e.hoverTime)||500}p(g,"getHoverTime");function h(o,e){const i=o.state.info,t=e.target||e.srcElement;if(!(t instanceof HTMLElement)||t.nodeName!=="SPAN"||i.hoverTimeout!==void 0)return;const u=t.getBoundingClientRect(),r=p(function(){clearTimeout(i.hoverTimeout),i.hoverTimeout=setTimeout(s,f)},"onMouseMove"),m=p(function(){n.off(document,"mousemove",r),n.off(o.getWrapperElement(),"mouseout",m),clearTimeout(i.hoverTimeout),i.hoverTimeout=void 0},"onMouseOut"),s=p(function(){n.off(document,"mousemove",r),n.off(o.getWrapperElement(),"mouseout",m),i.hoverTimeout=void 0,T(o,u)},"onHover"),f=g(o);i.hoverTimeout=setTimeout(s,f),n.on(document,"mousemove",r),n.on(o.getWrapperElement(),"mouseout",m)}p(h,"onMouseOver");function T(o,e){const i=o.coordsChar({left:(e.left+e.right)/2,top:(e.top+e.bottom)/2}),u=o.state.info.options,r=u.render||o.getHelper(i,"info");if(r){const m=o.getTokenAt(i,!0);if(m){const s=r(m,u,o,i);s&&M(o,e,s)}}}p(T,"onMouseHover");function M(o,e,i){const t=document.createElement("div");t.className="CodeMirror-info",t.appendChild(i),document.body.appendChild(t);const u=t.getBoundingClientRect(),r=window.getComputedStyle(t),m=u.right-u.left+parseFloat(r.marginLeft)+parseFloat(r.marginRight),s=u.bottom-u.top+parseFloat(r.marginTop)+parseFloat(r.marginBottom);let f=e.bottom;s>window.innerHeight-e.bottom-15&&e.top>window.innerHeight-e.bottom&&(f=e.top-s),f<0&&(f=e.bottom);let l=Math.max(0,window.innerWidth-m-15);l>e.left&&(l=e.left),t.style.opacity="1",t.style.top=f+"px",t.style.left=l+"px";let d;const c=p(function(){clearTimeout(d)},"onMouseOverPopup"),a=p(function(){clearTimeout(d),d=setTimeout(O,200)},"onMouseOut"),O=p(function(){n.off(t,"mouseover",c),n.off(t,"mouseout",a),n.off(o.getWrapperElement(),"mouseout",a),t.style.opacity?(t.style.opacity="0",setTimeout(()=>{t.parentNode&&t.parentNode.removeChild(t)},600)):t.parentNode&&t.parentNode.removeChild(t)},"hidePopup");n.on(t,"mouseover",c),n.on(t,"mouseout",a),n.on(o.getWrapperElement(),"mouseout",a)}p(M,"showPopup");
