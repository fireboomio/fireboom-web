import{a as q}from"./codemirror.es.fa31b7d8.js";import"./index.e309cc4c.js";import"./index.e5e6c754.js";import"./index.94b2fb2c.js";import"./index.e54b5c9c.js";import"./KeyCode.9c493596.js";import"./Overflow.321ca619.js";import"./PlusOutlined.5b3e3b8c.js";import"./index.07d786b1.js";import"./index.3e81d184.js";import"./index.8958a719.js";import"./getDataOrAriaProps.e48b8c96.js";import"./printer.b0e2956d.js";import"./DownOutlined.75881d1e.js";import"./index.b6cece06.js";import"./index.6926b693.js";import"./index.esm.0df65c6e.js";import"./index.esm.e5edd667.js";import"./workbenchContext.a6b76e3b.js";import"./keyBy.400ebaf7.js";import"./_baseGet.6a7418c9.js";import"./_createAggregator.87a98d7b.js";import"./get.131f9f4f.js";import"./utils.aecd68b7.js";import"./DialogWrap.947e0e2f.js";import"./pickAttrs.c5bbb5fc.js";import"./index.9c69eadb.js";import"./path.2dc76f8c.js";import"./Editor.c970b515.js";import"./use-immer.module.1d9a0526.js";import"./difference.6d57e3ed.js";import"./_baseUniq.d23dbdee.js";import"./flatten.8e198855.js";import"./omit.afdf8a34.js";import"./_baseClone.e2094da0.js";import"./iconUtil.31c13224.js";import"./index.5e1fa168.js";import"./index.0cfa4828.js";import"./Tree.4b4dd3c6.js";import"./conductUtil.03f406cc.js";import"./RightOutlined.73e4cc97.js";import"./index.daad23d2.js";import"./index.6f73eb32.js";import"./dayjs.min.fccffbb3.js";import"./index.5f2defea.js";import"./EditFilled.960b3a16.js";import"./main.6509447f.js";import"./index.8cc7621e.js";import"./index.1d15c994.js";import"./DeleteOutlined.d0f28ba8.js";import"./index.dfde5764.js";import"./main.70523ff0.js";var G=Object.defineProperty,f=(S,A)=>G(S,"name",{value:A,configurable:!0});function z(S,A){return A.forEach(function(r){r&&typeof r!="string"&&!Array.isArray(r)&&Object.keys(r).forEach(function(d){if(d!=="default"&&!(d in S)){var l=Object.getOwnPropertyDescriptor(r,d);Object.defineProperty(S,d,l.get?l:{enumerable:!0,get:function(){return r[d]}})}})}),Object.freeze(Object.defineProperty(S,Symbol.toStringTag,{value:"Module"}))}f(z,"_mergeNamespaces");var D={exports:{}};(function(S,A){(function(r){r(q.exports)})(function(r){var d={pairs:`()[]{}''""`,closeBefore:`)]}'":;>`,triples:"",explode:"[]{}"},l=r.Pos;r.defineOption("autoCloseBrackets",!1,function(e,t,n){n&&n!=r.Init&&(e.removeKeyMap(y),e.state.closeBrackets=null),t&&(x(m(t,"pairs")),e.state.closeBrackets=t,e.addKeyMap(y))});function m(e,t){return t=="pairs"&&typeof e=="string"?e:typeof e=="object"&&e[t]!=null?e[t]:d[t]}f(m,"getOption");var y={Backspace:I,Enter:$};function x(e){for(var t=0;t<e.length;t++){var n=e.charAt(t),a="'"+n+"'";y[a]||(y[a]=w(n))}}f(x,"ensureBound"),x(d.pairs+"`");function w(e){return function(t){return K(t,e)}}f(w,"handler");function B(e){var t=e.state.closeBrackets;if(!t||t.override)return t;var n=e.getModeAt(e.getCursor());return n.closeBrackets||t}f(B,"getConfig");function I(e){var t=B(e);if(!t||e.getOption("disableInput"))return r.Pass;for(var n=m(t,"pairs"),a=e.listSelections(),i=0;i<a.length;i++){if(!a[i].empty())return r.Pass;var p=_(e,a[i].head);if(!p||n.indexOf(p)%2!=0)return r.Pass}for(var i=a.length-1;i>=0;i--){var s=a[i].head;e.replaceRange("",l(s.line,s.ch-1),l(s.line,s.ch+1),"+delete")}}f(I,"handleBackspace");function $(e){var t=B(e),n=t&&m(t,"explode");if(!n||e.getOption("disableInput"))return r.Pass;for(var a=e.listSelections(),i=0;i<a.length;i++){if(!a[i].empty())return r.Pass;var p=_(e,a[i].head);if(!p||n.indexOf(p)%2!=0)return r.Pass}e.operation(function(){var s=e.lineSeparator()||`
`;e.replaceSelection(s+s,null),P(e,-1),a=e.listSelections();for(var h=0;h<a.length;h++){var O=a[h].head.line;e.indentLine(O,null,!0),e.indentLine(O+1,null,!0)}})}f($,"handleEnter");function P(e,t){for(var n=[],a=e.listSelections(),i=0,p=0;p<a.length;p++){var s=a[p];s.head==e.getCursor()&&(i=p);var h=s.head.ch||t>0?{line:s.head.line,ch:s.head.ch+t}:{line:s.head.line-1};n.push({anchor:h,head:h})}e.setSelections(n,i)}f(P,"moveSel");function F(e){var t=r.cmpPos(e.anchor,e.head)>0;return{anchor:new l(e.anchor.line,e.anchor.ch+(t?-1:1)),head:new l(e.head.line,e.head.ch+(t?1:-1))}}f(F,"contractSelection");function K(e,t){var n=B(e);if(!n||e.getOption("disableInput"))return r.Pass;var a=m(n,"pairs"),i=a.indexOf(t);if(i==-1)return r.Pass;for(var p=m(n,"closeBefore"),s=m(n,"triples"),h=a.charAt(i+1)==t,O=e.listSelections(),j=i%2==0,c,R=0;R<O.length;R++){var N=O[R],o=N.head,g,k=e.getRange(o,l(o.line,o.ch+1));if(j&&!N.empty())g="surround";else if((h||!j)&&k==t)h&&L(e,o)?g="both":s.indexOf(t)>=0&&e.getRange(o,l(o.line,o.ch+3))==t+t+t?g="skipThree":g="skip";else if(h&&o.ch>1&&s.indexOf(t)>=0&&e.getRange(l(o.line,o.ch-2),o)==t+t){if(o.ch>2&&/\bstring/.test(e.getTokenTypeAt(l(o.line,o.ch-2))))return r.Pass;g="addFour"}else if(h){var W=o.ch==0?" ":e.getRange(l(o.line,o.ch-1),o);if(!r.isWordChar(k)&&W!=t&&!r.isWordChar(W))g="both";else return r.Pass}else if(j&&(k.length===0||/\s/.test(k)||p.indexOf(k)>-1))g="both";else return r.Pass;if(!c)c=g;else if(c!=g)return r.Pass}var b=i%2?a.charAt(i-1):t,E=i%2?t:a.charAt(i+1);e.operation(function(){if(c=="skip")P(e,1);else if(c=="skipThree")P(e,3);else if(c=="surround"){for(var u=e.getSelections(),v=0;v<u.length;v++)u[v]=b+u[v]+E;e.replaceSelections(u,"around"),u=e.listSelections().slice();for(var v=0;v<u.length;v++)u[v]=F(u[v]);e.setSelections(u)}else c=="both"?(e.replaceSelection(b+E,null),e.triggerElectric(b+E),P(e,-1)):c=="addFour"&&(e.replaceSelection(b+b+b+b,"before"),P(e,1))})}f(K,"handleChar");function _(e,t){var n=e.getRange(l(t.line,t.ch-1),l(t.line,t.ch+1));return n.length==2?n:null}f(_,"charsAround");function L(e,t){var n=e.getTokenAt(l(t.line,t.ch+1));return/\bstring/.test(n.type)&&n.start==t.ch&&(t.ch==0||!/\bstring/.test(e.getTokenTypeAt(t)))}f(L,"stringStartsAfter")})})();var H=D.exports,Ge=z({__proto__:null,default:H},[D.exports]);export{Ge as c};
