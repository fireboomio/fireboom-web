import{r as d}from"./index-fd8424bf.js";import{a as m}from"./PrismaSchemaActions-5cb76651.js";import{P as u}from"./PrismaSchemaContext-a483d792.js";const E=()=>{const{state:{currentEntityId:o,blocks:n},dispatch:a}=d.useContext(u);let i=n.find(e=>e.id===o);if(i){const e=n.findIndex(t=>t.id===o);let r=!1;for(let t=e-1;t>=0;t--){const s=n[t];switch(s.type){case"datasource":case"enum":case"model":case"generator":r=!0;break;case"comment":r=!0,i={...i,comment:s.text};break}if(r)break}}return{currentEntityId:o,currentEntity:i,changeToEntityById:e=>{const r=n.find(c=>c.id===e),t=n.filter(c=>["enum","model"].includes(c.type)),s=t.length>0?t[0].id:0;a(m(r?e:s))}}};export{E as u};
