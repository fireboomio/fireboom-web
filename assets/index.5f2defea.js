import{r as s,ab as w,ac as S,p as y,a7 as A,j as p,bs as _,a1 as R,x as b}from"./index.e5e6c754.js";import{S as x}from"./index.daad23d2.js";function P(a,e){const c=s.exports.useRef(a);let n=s.exports.useRef(!1);const[d,l]=s.exports.useState(!1);s.exports.useEffect(()=>{c.current=a,n.current=!1},e);const C=s.exports.useCallback(async function(...i){if(n.current)return;let o,t;l(!0),n.current=!0;try{o=await c.current(...i)}catch(u){t=u}if(l(!1),n.current=!1,t)throw t;return o},e);return{loading:d,fun:C}}var v=x.Option;function g(a){return a&&a.type&&(a.type.isSelectOption||a.type.isSelectOptGroup)}var j=function(e,c){var n=e.prefixCls,d=e.className,l=e.popupClassName,C=e.dropdownClassName,i=e.children,o=e.dataSource,t=w(i),u;if(t.length===1&&S(t[0])&&!g(t[0])){var h=y(t,1);u=h[0]}var E=u?function(){return u}:void 0,m;return t.length&&g(t[0])?m=i:m=o?o.map(function(r){if(S(r))return r;switch(A(r)){case"string":return p(v,{value:r,children:r},r);case"object":{var f=r.value;return p(v,{value:f,children:r.text},f)}default:return}}):[],p(_,{children:function(r){var f=r.getPrefixCls,O=f("select",n);return p(x,{ref:c,...R(e,["dataSource"]),prefixCls:O,dropdownClassName:l||C,className:b("".concat(O,"-auto-complete"),d),mode:x.SECRET_COMBOBOX_MODE_DO_NOT_USE,getInputElement:E,children:m})}})},N=s.exports.forwardRef(j);N.Option=v;const T=N;export{T as A,P as u};
