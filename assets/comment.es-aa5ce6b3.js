import{a as G}from"./codemirror.es-e1f4cf34.js";import"./index-7b2875ff.js";import"./index-2dfe15e2.js";import"./interface-41bd3122.js";import"./engine-b1d9358e.js";import"./workbenchContext-e29d0070.js";import"./index-795d567f.js";import"./lock-30f371bb.js";import"./variable-4f45a539.js";import"./common-7ac8785d.js";import"./hotkey-3a258436.js";import"./store-142bc07d.js";import"./parser-0b83345b.js";import"./Breadcrumb-b1853713.js";import"./DownOutlined-54bfca52.js";import"./index-5f94eca5.js";import"./LeftOutlined-bae517a9.js";import"./PurePanel-4d4dea81.js";import"./index-273f79b2.js";import"./index-8099d6fc.js";import"./EditFilled-e24f7f57.js";import"./index-a9e3c37c.js";import"./index-0cd498e2.js";import"./index-564a2965.js";import"./useShowArrow-92625ed6.js";import"./index-b123dad7.js";import"./main-7459389b.js";import"./toNumber-2ea69971.js";import"./utils-9cc409ea.js";import"./dayjs.min-1a296d85.js";import"./utils-9b986f1e.js";import"./DeleteOutlined-6bf77f94.js";import"./index-b7d0e28b.js";import"./index-2b96c57c.js";import"./index-fc734220.js";import"./index-86734761.js";import"./index-95fb6505.js";import"./PlusOutlined-e9d7c93e.js";import"./index-e8f6b42c.js";import"./index-591cda05.js";import"./index-b46d86a4.js";import"./globalContext-1a6eff37.js";var H=Object.defineProperty,M=(O,A)=>H(O,"name",{value:A,configurable:!0});function q(O,A){return A.forEach(function(o){o&&typeof o!="string"&&!Array.isArray(o)&&Object.keys(o).forEach(function(h){if(h!=="default"&&!(h in O)){var v=Object.getOwnPropertyDescriptor(o,h);Object.defineProperty(O,h,v.get?v:{enumerable:!0,get:function(){return o[h]}})}})}),Object.freeze(Object.defineProperty(O,Symbol.toStringTag,{value:"Module"}))}M(q,"_mergeNamespaces");var w={exports:{}};(function(O,A){(function(o){o(G.exports)})(function(o){var h={},v=/[^\s\u00a0]/,c=o.Pos,F=o.cmpPos;function N(t){var r=t.search(v);return r==-1?0:r}M(N,"firstNonWS"),o.commands.toggleComment=function(t){t.toggleComment()},o.defineExtension("toggleComment",function(t){t||(t=h);for(var r=this,n=1/0,e=this.listSelections(),g=null,m=e.length-1;m>=0;m--){var i=e[m].from(),a=e[m].to();i.line>=n||(a.line>=n&&(a=c(n,0)),n=i.line,g==null?r.uncomment(i,a,t)?g="un":(r.lineComment(i,a,t),g="line"):g=="un"?r.uncomment(i,a,t):r.lineComment(i,a,t))}});function $(t,r,n){return/\bstring\b/.test(t.getTokenTypeAt(c(r.line,0)))&&!/^[\'\"\`]/.test(n)}M($,"probablyInsideString");function j(t,r){var n=t.getMode();return n.useInnerComments===!1||!n.innerMode?n:t.getModeAt(r)}M(j,"getMode"),o.defineExtension("lineComment",function(t,r,n){n||(n=h);var e=this,g=j(e,t),m=e.getLine(t.line);if(!(m==null||$(e,t,m))){var i=n.lineComment||g.lineComment;if(!i){(n.blockCommentStart||g.blockCommentStart)&&(n.fullLines=!0,e.blockComment(t,r,n));return}var a=Math.min(r.ch!=0||r.line==t.line?r.line+1:r.line,e.lastLine()+1),L=n.padding==null?" ":n.padding,f=n.commentBlankLines||t.line==r.line;e.operation(function(){if(n.indent){for(var u=null,l=t.line;l<a;++l){var s=e.getLine(l),p=s.slice(0,N(s));(u==null||u.length>p.length)&&(u=p)}for(var l=t.line;l<a;++l){var s=e.getLine(l),d=u.length;!f&&!v.test(s)||(s.slice(0,d)!=u&&(d=N(s)),e.replaceRange(u+i+L,c(l,0),c(l,d)))}}else for(var l=t.line;l<a;++l)(f||v.test(e.getLine(l)))&&e.replaceRange(i+L,c(l,0))})}}),o.defineExtension("blockComment",function(t,r,n){n||(n=h);var e=this,g=j(e,t),m=n.blockCommentStart||g.blockCommentStart,i=n.blockCommentEnd||g.blockCommentEnd;if(!m||!i){(n.lineComment||g.lineComment)&&n.fullLines!=!1&&e.lineComment(t,r,n);return}if(!/\bcomment\b/.test(e.getTokenTypeAt(c(t.line,0)))){var a=Math.min(r.line,e.lastLine());a!=t.line&&r.ch==0&&v.test(e.getLine(a))&&--a;var L=n.padding==null?" ":n.padding;t.line>a||e.operation(function(){if(n.fullLines!=!1){var f=v.test(e.getLine(a));e.replaceRange(L+i,c(a)),e.replaceRange(m+L,c(t.line,0));var u=n.blockCommentLead||g.blockCommentLead;if(u!=null)for(var l=t.line+1;l<=a;++l)(l!=a||f)&&e.replaceRange(u+L,c(l,0))}else{var s=F(e.getCursor("to"),r)==0,p=!e.somethingSelected();e.replaceRange(i,r),s&&e.setSelection(p?r:e.getCursor("from"),r),e.replaceRange(m,t)}})}}),o.defineExtension("uncomment",function(t,r,n){n||(n=h);var e=this,g=j(e,t),m=Math.min(r.ch!=0||r.line==t.line?r.line:r.line-1,e.lastLine()),i=Math.min(t.line,m),a=n.lineComment||g.lineComment,L=[],f=n.padding==null?" ":n.padding,u;e:{if(!a)break e;for(var l=i;l<=m;++l){var s=e.getLine(l),p=s.indexOf(a);if(p>-1&&!/comment/.test(e.getTokenTypeAt(c(l,p+1)))&&(p=-1),p==-1&&v.test(s)||p>-1&&v.test(s.slice(0,p)))break e;L.push(s)}if(e.operation(function(){for(var b=i;b<=m;++b){var k=L[b-i],x=k.indexOf(a),C=x+a.length;x<0||(k.slice(C,C+f.length)==f&&(C+=f.length),u=!0,e.replaceRange("",c(b,x),c(b,C)))}}),u)return!0}var d=n.blockCommentStart||g.blockCommentStart,S=n.blockCommentEnd||g.blockCommentEnd;if(!d||!S)return!1;var W=n.blockCommentLead||g.blockCommentLead,E=e.getLine(i),_=E.indexOf(d);if(_==-1)return!1;var I=m==i?E:e.getLine(m),y=I.indexOf(S,m==i?_+d.length:0),z=c(i,_+1),B=c(m,y+1);if(y==-1||!/comment/.test(e.getTokenTypeAt(z))||!/comment/.test(e.getTokenTypeAt(B))||e.getRange(z,B,`
`).indexOf(S)>-1)return!1;var R=E.lastIndexOf(d,t.ch),T=R==-1?-1:E.slice(0,t.ch).indexOf(S,R+d.length);if(R!=-1&&T!=-1&&T+S.length!=t.ch)return!1;T=I.indexOf(S,r.ch);var D=I.slice(r.ch).lastIndexOf(d,T-r.ch);return R=T==-1||D==-1?-1:r.ch+D,T!=-1&&R!=-1&&R!=r.ch?!1:(e.operation(function(){e.replaceRange("",c(m,y-(f&&I.slice(y-f.length,y)==f?f.length:0)),c(m,y+S.length));var b=_+d.length;if(f&&E.slice(b,b+f.length)==f&&(b+=f.length),e.replaceRange("",c(i,_),c(i,b)),W)for(var k=i+1;k<=m;++k){var x=e.getLine(k),C=x.indexOf(W);if(!(C==-1||v.test(x.slice(0,C)))){var P=C+W.length;f&&x.slice(P,P+f.length)==f&&(P+=f.length),e.replaceRange("",c(k,C),c(k,P))}}}),!0)})})})();var J=w.exports,Ne=q({__proto__:null,default:J},[w.exports]);export{Ne as c};
