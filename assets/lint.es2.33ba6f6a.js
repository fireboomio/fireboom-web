import{C as D}from"./codemirror.es.fa31b7d8.js";import"./index.e309cc4c.js";import"./index.e5e6c754.js";import{r as B,s as H,R as J,M as U,a2 as R}from"./index.07d786b1.js";import"./index.94b2fb2c.js";import"./index.e54b5c9c.js";import"./KeyCode.9c493596.js";import"./Overflow.321ca619.js";import"./PlusOutlined.5b3e3b8c.js";import"./index.3e81d184.js";import"./index.8958a719.js";import"./getDataOrAriaProps.e48b8c96.js";import"./printer.b0e2956d.js";import"./DownOutlined.75881d1e.js";import"./index.b6cece06.js";import"./index.6926b693.js";import"./index.esm.0df65c6e.js";import"./index.esm.e5edd667.js";import"./workbenchContext.a6b76e3b.js";import"./keyBy.400ebaf7.js";import"./_baseGet.6a7418c9.js";import"./_createAggregator.87a98d7b.js";import"./get.131f9f4f.js";import"./utils.aecd68b7.js";import"./DialogWrap.947e0e2f.js";import"./pickAttrs.c5bbb5fc.js";import"./index.9c69eadb.js";import"./path.2dc76f8c.js";import"./Editor.c970b515.js";import"./use-immer.module.1d9a0526.js";import"./difference.6d57e3ed.js";import"./_baseUniq.d23dbdee.js";import"./flatten.8e198855.js";import"./omit.afdf8a34.js";import"./_baseClone.e2094da0.js";import"./iconUtil.31c13224.js";import"./index.5e1fa168.js";import"./index.0cfa4828.js";import"./Tree.4b4dd3c6.js";import"./conductUtil.03f406cc.js";import"./RightOutlined.73e4cc97.js";import"./index.daad23d2.js";import"./index.6f73eb32.js";import"./dayjs.min.fccffbb3.js";import"./index.5f2defea.js";import"./EditFilled.960b3a16.js";import"./main.6509447f.js";import"./index.8cc7621e.js";import"./index.1d15c994.js";import"./DeleteOutlined.d0f28ba8.js";import"./index.dfde5764.js";import"./main.70523ff0.js";var z=Object.defineProperty,i=(r,e)=>z(r,"name",{value:e,configurable:!0});function G(r){f=r,w=r.length,s=c=N=-1,n(),y();const e=F();return d("EOF"),e}i(G,"jsonParse");let f,w,s,c,N,t,u;function F(){const r=s,e=[];if(d("{"),!E("}")){do e.push(Q());while(E(","));d("}")}return{kind:"Object",start:r,end:N,members:e}}i(F,"parseObj");function Q(){const r=s,e=u==="String"?V():null;d("String"),d(":");const o=v();return{kind:"Member",start:r,end:N,key:e,value:o}}i(Q,"parseMember");function _(){const r=s,e=[];if(d("["),!E("]")){do e.push(v());while(E(","));d("]")}return{kind:"Array",start:r,end:N,values:e}}i(_,"parseArr");function v(){switch(u){case"[":return _();case"{":return F();case"String":case"Number":case"Boolean":case"Null":const r=V();return y(),r}d("Value")}i(v,"parseVal");function V(){return{kind:u,start:s,end:c,value:JSON.parse(f.slice(s,c))}}i(V,"curToken");function d(r){if(u===r){y();return}let e;if(u==="EOF")e="[end of file]";else if(c-s>1)e="`"+f.slice(s,c)+"`";else{const o=f.slice(s).match(/^.+?\b/);e="`"+(o?o[0]:f[s])+"`"}throw m(`Expected ${r} but found ${e}.`)}i(d,"expect");class L extends Error{constructor(e,o){super(e),this.position=o}}i(L,"JSONSyntaxError");function m(r){return new L(r,{start:s,end:c})}i(m,"syntaxError");function E(r){if(u===r)return y(),!0}i(E,"skip");function n(){return c<w&&(c++,t=c===w?0:f.charCodeAt(c)),t}i(n,"ch");function y(){for(N=c;t===9||t===10||t===13||t===32;)n();if(t===0){u="EOF";return}switch(s=c,t){case 34:return u="String",C();case 45:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return u="Number",I();case 102:if(f.slice(s,s+5)!=="false")break;c+=4,n(),u="Boolean";return;case 110:if(f.slice(s,s+4)!=="null")break;c+=3,n(),u="Null";return;case 116:if(f.slice(s,s+4)!=="true")break;c+=3,n(),u="Boolean";return}u=f[s],n()}i(y,"lex");function C(){for(n();t!==34&&t>31;)if(t===92)switch(t=n(),t){case 34:case 47:case 92:case 98:case 102:case 110:case 114:case 116:n();break;case 117:n(),g(),g(),g(),g();break;default:throw m("Bad character escape sequence.")}else{if(c===w)throw m("Unterminated string.");n()}if(t===34){n();return}throw m("Unterminated string.")}i(C,"readString");function g(){if(t>=48&&t<=57||t>=65&&t<=70||t>=97&&t<=102)return n();throw m("Expected hexadecimal digit.")}i(g,"readHex");function I(){t===45&&n(),t===48?n():x(),t===46&&(n(),x()),(t===69||t===101)&&(t=n(),(t===43||t===45)&&n(),x())}i(I,"readNumber");function x(){if(t<48||t>57)throw m("Expected decimal digit.");do n();while(t>=48&&t<=57)}i(x,"readDigits");D.registerHelper("lint","graphql-variables",(r,e,o)=>{if(!r)return[];let l;try{l=G(r)}catch(p){if(p instanceof L)return[O(o,p.position,p.message)];throw p}const a=e.variableToType;return a?M(o,a,l):[]});function M(r,e,o){const l=[];return o.members.forEach(a=>{var p;if(a){const h=(p=a.key)===null||p===void 0?void 0:p.value,b=e[h];b?k(b,a.value).forEach(([j,P])=>{l.push(O(r,j,P))}):l.push(O(r,a.key,`Variable "$${h}" does not appear in any GraphQL query.`))}}),l}i(M,"validateVariables");function k(r,e){if(!r||!e)return[];if(r instanceof B)return e.kind==="Null"?[[e,`Type "${r}" is non-nullable and cannot be null.`]]:k(r.ofType,e);if(e.kind==="Null")return[];if(r instanceof H){const o=r.ofType;if(e.kind==="Array"){const l=e.values||[];return $(l,a=>k(o,a))}return k(o,e)}if(r instanceof J){if(e.kind!=="Object")return[[e,`Type "${r}" must be an Object.`]];const o=Object.create(null),l=$(e.members,a=>{var p;const h=(p=a==null?void 0:a.key)===null||p===void 0?void 0:p.value;o[h]=!0;const b=r.getFields()[h];if(!b)return[[a.key,`Type "${r}" does not have a field "${h}".`]];const j=b?b.type:void 0;return k(j,a.value)});return Object.keys(r.getFields()).forEach(a=>{o[a]||r.getFields()[a].type instanceof B&&l.push([e,`Object of type "${r}" is missing required field "${a}".`])}),l}return r.name==="Boolean"&&e.kind!=="Boolean"||r.name==="String"&&e.kind!=="String"||r.name==="ID"&&e.kind!=="Number"&&e.kind!=="String"||r.name==="Float"&&e.kind!=="Number"||r.name==="Int"&&(e.kind!=="Number"||(e.value|0)!==e.value)?[[e,`Expected value of type "${r}".`]]:(r instanceof U||r instanceof R)&&(e.kind!=="String"&&e.kind!=="Number"&&e.kind!=="Boolean"&&e.kind!=="Null"||q(r.parseValue(e.value)))?[[e,`Expected value of type "${r}".`]]:[]}i(k,"validateValue");function O(r,e,o){return{message:o,severity:"error",type:"validation",from:r.posFromIndex(e.start),to:r.posFromIndex(e.end)}}i(O,"lintError");function q(r){return r==null||r!==r}i(q,"isNullish");function $(r,e){return Array.prototype.concat.apply([],r.map(e))}i($,"mapCat");
